(window.webpackJsonp=window.webpackJsonp||[]).push([["manifest"],{"007d":function(t,e,a){},"00a5":function(t,e,a){"use strict";a.r(e);var i={name:"403",methods:{back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"10px"}},[a("h1",{staticStyle:{"text-align":"center","margin-bottom":"15px"}},[t._v("403 Forbidden")]),a("p",{staticStyle:{"text-align":"center","margin-top":"10px"}},[t._v("openresty/1.13.6.1")]),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("i-button",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{type:"warning",label:"large"},on:{click:function(e){return t.back()}}},[t._v("返回上一页")])],1)])}),[],!1,null,"c249827e",null);e.default=o.exports},"0189":function(t,e,a){"use strict";a("c40c")},"01b1":function(t,e,a){"use strict";a.r(e);var i={inject:["reload"],name:"LogSnmpTraps",components:{jk_tabs:a("25b1").a},data:function(){return{disabled_val:!0,start_snmp:!1,data:{state:!1,jkIp:"",jkPort:"162",community:"public",time:"1",so:"",cpuOid:"",diskOid:"",memOid:"",flowOid:"",attributeOid:"",stateOid:"",taskOid:""},links:[{name:"日志常规设置",to:"/logs/logSetting"},{name:"Syslog服务",to:"/logs/logSyslog"},{name:"SNMP Traps服务",to:"/logs/logSnmpTraps"}]}},mounted:function(){this.getinfo()},methods:{submit:function(){var t=this;if(this.$util.queryDevIP4(this.data.jkIp)||this.$util.queryDevIP6(this.data.jkIp)){if(this.$util.testportnumber(this.data.jkPort)){if(!this.data.community&&this.data.state)return void this.$Notice.error({title:"修改失败",desc:"共同体不能为空",duration:5});if(!this.data.time&&this.data.state)return void this.$Notice.error({title:"修改失败",desc:"trap周期不能为空",duration:5})}else if(null!=this.data.jkPort&&!this.data.jkPort)return void this.$Notice.error({title:"修改失败",desc:"集控端口请输入正确的端口格式",duration:5})}else if(null!=this.data.jkIp&&!this.data.jkIp)return void this.$Notice.error({title:"修改失败",desc:"集控地址请输入正确的ip格式",duration:5});this.$https.fetchPost(this.$api.log.addSnmpInfo.url,this.data).then((function(e){200==e.data.status?(t.$Notice.success({title:"提交成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.getinfo()}),250)):t.$Notice.error({title:"提交失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.log.findSnmpInfo.url).then((function(e){200==e.data.status?(t.data=e.data.data,t.checkSnmp()):t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},checkSnmp:function(){1==this.data.state?this.disabled_val=!1:this.disabled_val=!0}}},s=(a("1f22"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("i-switch",{staticStyle:{"margin-left":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSnmp},model:{value:t.data.state,callback:function(e){t.$set(t.data,"state",e)},expression:"data.state"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("table",{staticStyle:{"margin-left":"15px"}},[a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("集控地址:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.jkIp,callback:function(e){t.$set(t.data,"jkIp",e)},expression:"data.jkIp"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("集控端口:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.jkPort,callback:function(e){t.$set(t.data,"jkPort",e)},expression:"data.jkPort"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("共同体:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.community,callback:function(e){t.$set(t.data,"community",e)},expression:"data.community"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("trap周期:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.time,callback:function(e){t.$set(t.data,"time",e)},expression:"data.time"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("在线检测网口:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.so,callback:function(e){t.$set(t.data,"so",e)},expression:"data.so"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("CPU使用率OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.cpuOid,callback:function(e){t.$set(t.data,"cpuOid",e)},expression:"data.cpuOid"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("磁盘使用率OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.diskOid,callback:function(e){t.$set(t.data,"diskOid",e)},expression:"data.diskOid"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("内存使用率OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.memOid,callback:function(e){t.$set(t.data,"memOid",e)},expression:"data.memOid"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("接口流量OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.flowOid,callback:function(e){t.$set(t.data,"flowOid",e)},expression:"data.flowOid"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("属性OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.attributeOid,callback:function(e){t.$set(t.data,"attributeOid",e)},expression:"data.attributeOid"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("在线状态OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.stateOid,callback:function(e){t.$set(t.data,"stateOid",e)},expression:"data.stateOid"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("任务状态OID:")]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.data.taskOid,callback:function(e){t.$set(t.data,"taskOid",e)},expression:"data.taskOid"}})],1)])])])])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"},on:{click:t.submit}},[t._v("确认")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("启动SNMP Traps:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("SNMP Traps:")])])}],!1,null,"c5259858",null);e.default=o.exports},"032a":function(t,e,a){"use strict";a.r(e);var i=(a("2139"),a("2c07")),s=Object(i.a)({name:"Availability",components:{},provide:function(){return{reload:this.reload}},data:function(){return{IsRouterAlive:!0}},mounted:function(){},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n            高可用性\n        ")])])}],!1,null,"2b0c9bd0",null);e.default=s.exports},"0359":function(t,e,a){},"03cc":function(t,e,a){"use strict";a("aa4a")},"0c11":function(t,e,a){"use strict";a.r(e);var i={name:"filesyncadd",components:{},data:function(){return{platForm:{show:!1,form:{channel_transmission_mode:"highSpeed",tools:"5",runstate:"stop",out_task_id:"",servicename:"",type:"localftp",username:"",password:"",ipaddress:"",remoteport:"",path:"",level:"1",iocharset:"UTF-8",operation:"del",time_interval:3,taskId:"",workGroup:"",smbVersion:"v2.0",sftpKey:"v2.0",syntime:"",keyword_type:"blacklist",filter_picture_keyword:"",idbiz1:!1,idbiz2:!1,idbiz3:!1,idbiz4:!1,idbiz5:!1,idbiz6:!1,settimesyn:!1,filter_min_size:"",filter_max_size:"",filter_min_size_unit:"B",filter_max_size_unit:"B",suffix_type:"blacklist",filter_keyword:"",copy_move:"0",filter_after_opt_path:"",filter_filename:"",filename_type:"blacklist",filter_suffix:"",virus_opt:"",filter_feature:"",feature_type:"blacklist",filter_after_opt:"0",file_root:"/",is_psvn:"0",data_timeout:1,connection_timeout:30,filter_size:"",filter_size_type:"blacklist",is_put_in_storage:"1",ftp_sync_mode:"1",imgsync_enable:"no",direction:"nt2t"}},resourceList:[{name:"本地FTP",val:"localftp"},{name:"本地SMB",val:"localsmb"},{name:"本地NFS",val:"localnfs"},{name:"本地SFTP",val:"localsftp"},{name:"远程SMB",val:"smb"},{name:"远程FTP",val:"ftp"},{name:"远程SFTP",val:"sftp"},{name:"远程NFS",val:"nfs"},{name:"光碟塔",val:"disc"},{name:"Client",val:"client"},{name:"认证同步",val:"auth_nc"}],directoryList:[],copyList:[{name:"否",val:"1"},{name:"是",val:"0"}],psvnList:[{name:"否",val:"1"},{name:"是",val:"0"}],is_put_in_storageList:[{name:"否",val:"1"},{name:"是",val:"0"}],levelList:[{name:"1",val:"1"},{name:"2",val:"2"}],codingList:[{name:"UTF-8",val:"UTF-8"},{name:"CP936",val:"CP936"}],channeltransmissionList:[{name:"常规模式",val:"common"},{name:"高速模式",val:"highSpeed"}],smbVersionList:[{name:"v1.0",val:"v1.0"},{name:"v2.0",val:"v2.0"},{name:"v3.0",val:"v3.0"}],operationList:[{name:"剪切",val:"del"},{name:"复制",val:"copy"}],featureList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],suffixfilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],flienamefilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],sizefilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],idplatformList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],filterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],virusList:[{name:"删除",val:"remove"},{name:"隔离",val:"move"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],filter_after_optList:[{name:"保留",val:"0"},{name:"删除",val:"1"},{name:"转移",val:"2"}],filter_after_optKeeptList:[{name:"不复制",val:"0"},{name:"复制",val:"1"}],dataTypeList:[{name:"B",val:"B"},{name:"KB",val:"KB"},{name:"MB",val:"MB"},{name:"GB",val:"GB"}],dataTypeList1:[{name:"B",val:"B"},{name:"KB",val:"KB"},{name:"MB",val:"MB"},{name:"GB",val:"GB"}],minutes:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],data_timeoutList:[1,2,3,4,5],connection_timeoutList:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],smbType:!1,sftpType:!1,ftpType:!1,localftpType:!0,gaoSettings:!0,sizeFilter:!1,nameFilter:!1,contentFilter:!1,suffixFilter:!1,virusFilter:!1,client:!1,settimesynFilter:!1,picNameFilter:!1,file_feature_filter:!1,showcopy_move:!0,showfilter_after_opt_path:!1,ftpdType:!1,channel_transmission_show:!1}},computed:{},mounted:function(){this.findFtp()},methods:{showCopy_move:function(t){"0"==t?(this.showcopy_move=!0,this.showfilter_after_opt_path=!1,this.platForm.form.filter_after_opt_path=""):"2"==t?(this.showcopy_move=!1,this.showfilter_after_opt_path=!0,this.platForm.form.filter_after_opt_path=""):(this.showcopy_move=!1,this.showfilter_after_opt_path=!1,this.platForm.form.filter_after_opt_path="")},channeltransmission_move:function(t){"common"==t?this.channel_transmission_show=!0:"highSpeed"==t&&(this.channel_transmission_show=!1)},handleLinkimage:function(){},findFtp:function(){var t=this;this.$https.fetchGet(this.$api.local.findFtpInfo.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},findSam:function(){var t=this;this.$https.fetchGet(this.$api.local.samInfo.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},findSftp:function(){var t=this;this.$https.fetchGet(this.$api.local.findSftp.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},showAddDrawer:function(){var t=this;this.platForm.show=!0,setTimeout((function(){t.platForm.form.taskId=t.taskId}),500)},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.platForm.form.data_timeout=1e3*t.platForm.form.data_timeout,t.platForm.form.connection_timeout=1e3*t.platForm.form.connection_timeout,t.$https.fetchPost(t.$api.data.addFileTask.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"文件同步配置成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){location.reload()}),250)):t.$Notice.error({title:"文件同步配置失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))},restPlatForm:function(){this.$refs.plat_form.resetFields(),1==this.suffixFilter&&this.checkSuffixFilter(),1==this.sizeFilter&&this.checkSizeFilter(),1==this.settimesynFilter&&this.checkSettimesynFilter(),1==this.nameFilter&&this.checkNameFilter(),1==this.contentFilter&&this.checkContentFilter(),1==this.picNameFilter&&this.checkPicNameFilter(),1==this.virusFilter&&this.checkVirusFilter(),1==this.file_feature_filter&&this.checkfile_feature_filter()},checkType:function(t){this.sftpType=!1,this.smbType=!1,this.ftpdType=!1,this.platForm.form.username="",this.platForm.form.password="",this.platForm.form.ipaddress="",this.platForm.form.remoteport="",this.platForm.form.sftpKey="v2.0",this.platForm.form.path="",this.platForm.form.workGroup="",this.platForm.form.file_root="/","ftp"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.ftpdType=!0,this.platForm.form.ftp_sync_mode="3"):"localftp"==t?(this.platForm.form.ftp_sync_mode="1",this.directoryList=[],this.findFtp(),this.ftpType=!1,this.localftpType=!0):"localsmb"==t?(this.platForm.form.ftp_sync_mode="1",this.directoryList=[],this.ftpType=!1,this.findSam(),this.localftpType=!0):"localnfs"==t?(this.platForm.form.ftp_sync_mode="1",this.ftpType=!1,this.directoryList=[],this.localftpType=!0):"localsftp"==t?(this.platForm.form.ftp_sync_mode="1",this.ftpType=!1,this.directoryList=[],this.findSftp(),this.localftpType=!0):"client"==t?(this.client=!0,this.localftpType=!1):"nfs"==t?(this.platForm.form.ftp_sync_mode="3",this.client=!1,this.ftpType=!0,this.localftpType=!1,this.smbType=!1):"smb"==t?(this.platForm.form.ftp_sync_mode="3",this.client=!1,this.ftpType=!0,this.localftpType=!1,this.smbType=!0):"sftp"==t?(this.platForm.form.ftp_sync_mode="3",this.client=!1,this.ftpType=!0,this.localftpType=!1,this.sftpType=!0):(this.ftpType=!1,this.localftpType=!0)},filter_state:function(){this.sizeFilter=!1,this.nameFilter=!1,this.contentFilter=!1,this.suffixFilter=!1,this.picNameFilter=!1,this.virusFilter=!1,this.file_feature_filter=!1,this.settimesynFilter=!1},checkGaoSettings:function(){this.gaoSettings=!this.gaoSettings},checkSizeFilter:function(){0!=this.platForm.form.idbiz2?(this.sizeFilter=!this.sizeFilter,this.platForm.form.filter_size="blacklist",this.platForm.form.filter_min_size="",this.platForm.form.filter_max_size="",this.platForm.form.filter_max_size_unit="B",this.platForm.form.filter_min_size_unit="B",1==this.sizeFilter&&(this.filter_state(),this.sizeFilter=!this.sizeFilter)):this.filter_state()},checkSettimesynFilter:function(){0!=this.platForm.form.settimesyn?(this.settimesynFilter=!this.settimesynFilter,this.platForm.form.syntime="",1==this.settimesynFilter&&(this.filter_state(),this.settimesynFilter=!this.settimesynFilter)):this.filter_state()},checkNameFilter:function(){0!=this.platForm.form.idbiz3?(this.nameFilter=!this.nameFilter,this.platForm.form.filename_type="blacklist",this.platForm.form.filter_filename="",1==this.nameFilter&&(this.filter_state(),this.nameFilter=!this.nameFilter)):this.filter_state()},checkContentFilter:function(){0!=this.platForm.form.idbiz4?(this.contentFilter=!this.contentFilter,this.platForm.form.keyword_type="blacklist",this.platForm.form.filter_keyword="",1==this.contentFilter&&(this.filter_state(),this.contentFilter=!this.contentFilter)):this.filter_state()},checkSuffixFilter:function(){0!=this.platForm.form.idbiz5?(this.suffixFilter=!this.suffixFilter,this.platForm.form.suffix_type="blacklist",this.platForm.form.filter_suffix="",1==this.suffixFilter&&(this.filter_state(),this.suffixFilter=!this.suffixFilter)):this.filter_state()},checkPicNameFilter:function(){0!=this.platForm.form.idbiz1?(this.picNameFilter=!this.picNameFilter,this.platForm.form.filter_picture_keyword="",1==this.picNameFilter&&(this.filter_state(),this.picNameFilter=!this.picNameFilter)):this.filter_state()},checkVirusFilter:function(){0!=this.platForm.form.idbiz6?(this.virusFilter=!this.virusFilter,this.platForm.form.virus_opt="",1==this.virusFilter&&(this.filter_state(),this.virusFilter=!this.virusFilter)):this.filter_state()},checkfile_feature_filter:function(){0!=this.platForm.form.file_feature_filter?(this.file_feature_filter=!this.file_feature_filter,this.platForm.form.feature_type="blacklist",this.platForm.form.filter_feature="",1==this.file_feature_filter&&(this.filter_state(),this.file_feature_filter=!this.file_feature_filter)):this.filter_state()},editVirusFilter:function(){this.filter_state(),this.virusFilter=!0},editPicNameFilter:function(){this.filter_state(),this.picNameFilter=!0},editSizeFilter:function(){this.filter_state(),this.sizeFilter=!0},editNameFilter:function(){this.filter_state(),this.nameFilter=!0},editContentFilter:function(){this.filter_state(),this.contentFilter=!0},editSuffixFilter:function(){this.filter_state(),this.suffixFilter=!0},editSettimesynFilter:function(){this.filter_state(),this.settimesynFilter=!0},editfile_feature_filter:function(){this.filter_state(),this.file_feature_filter=!0}}},s=(a("4943"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":138}},[a("Tabs",{attrs:{value:"name1"}},[a("TabPane",{staticStyle:{height:"650px"},attrs:{label:"基础配置",name:"name1"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"50%"},attrs:{label:"外端服务id",prop:"out_task_id"}},[a("Input",{model:{value:t.platForm.form.out_task_id,callback:function(e){t.$set(t.platForm.form,"out_task_id",e)},expression:"platForm.form.out_task_id"}}),a("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*(服务id内外端需一致)")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"服务名称",prop:"servicename"}},[a("Input",{model:{value:t.platForm.form.servicename,callback:function(e){t.$set(t.platForm.form,"servicename",e)},expression:"platForm.form.servicename"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"资源类型",prop:"type1"}},[a("Select",{model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.resourceList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"密码",prop:"password"}},[a("Input",{model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"IP地址",prop:"ipaddress"}},[a("Input",{model:{value:t.platForm.form.ipaddress,callback:function(e){t.$set(t.platForm.form,"ipaddress",e)},expression:"platForm.form.ipaddress"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"端口",prop:"remoteport"}},[a("Input",{model:{value:t.platForm.form.remoteport,callback:function(e){t.$set(t.platForm.form,"remoteport",e)},expression:"platForm.form.remoteport"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"根目录",prop:"file_root"}},[a("Input",{model:{value:t.platForm.form.file_root,callback:function(e){t.$set(t.platForm.form,"file_root",e)},expression:"platForm.form.file_root"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.localftpType,expression:"localftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"目录",prop:"path"}},[a("Select",{model:{value:t.platForm.form.path,callback:function(e){t.$set(t.platForm.form,"path",e)},expression:"platForm.form.path"}},t._l(t.directoryList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.smbType,expression:"smbType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"协议版本",prop:"smbVersion"}},[a("Select",{model:{value:t.platForm.form.smbVersion,callback:function(e){t.$set(t.platForm.form,"smbVersion",e)},expression:"platForm.form.smbVersion"}},t._l(t.smbVersionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.smbType,expression:"smbType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"所属的域",prop:"workGroup"}},[a("Input",{model:{value:t.platForm.form.workGroup,callback:function(e){t.$set(t.platForm.form,"workGroup",e)},expression:"platForm.form.workGroup"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.sftpType,expression:"sftpType"}],staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"密匙",prop:"sftpKey"}},[a("Select",{model:{value:t.platForm.form.sftpKey,callback:function(e){t.$set(t.platForm.form,"sftpKey",e)},expression:"platForm.form.sftpKey"}},t._l(t.smbVersionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")]),a("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v("注:详细配置与文件过滤也会被重置")])],1)],1),a("TabPane",{attrs:{label:"详细配置",name:"name2"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"通道传输模式",prop:"channel_transmission_mode"}},[a("Select",{model:{value:t.platForm.form.channel_transmission_mode,callback:function(e){t.$set(t.platForm.form,"channel_transmission_mode",e)},expression:"platForm.form.channel_transmission_mode"}},t._l(t.channeltransmissionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.channeltransmission_move(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"线程数",prop:"tools"}},[a("Input",{model:{value:t.platForm.form.tools,callback:function(e){t.$set(t.platForm.form,"tools",e)},expression:"platForm.form.tools"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!t.ftpType&&t.channel_transmission_show,expression:"!ftpType && channel_transmission_show"}],staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"等级",prop:"level"}},[a("Select",{model:{value:t.platForm.form.level,callback:function(e){t.$set(t.platForm.form,"level",e)},expression:"platForm.form.level"}},t._l(t.levelList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpType,expression:"ftpType"}],staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"异常日志是否入库",prop:"is_put_in_storage"}},[a("Select",{model:{value:t.platForm.form.is_put_in_storage,callback:function(e){t.$set(t.platForm.form,"is_put_in_storage",e)},expression:"platForm.form.is_put_in_storage"}},t._l(t.is_put_in_storageList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"编码",prop:"iocharset"}},[a("Select",{model:{value:t.platForm.form.iocharset,callback:function(e){t.$set(t.platForm.form,"iocharset",e)},expression:"platForm.form.iocharset"}},t._l(t.codingList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpdType,expression:"ftpdType"}],staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"被动模式",prop:"is_psvn"}},[a("Select",{model:{value:t.platForm.form.is_psvn,callback:function(e){t.$set(t.platForm.form,"is_psvn",e)},expression:"platForm.form.is_psvn"}},t._l(t.psvnList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"文件同步后的操作",prop:"operation"}},[a("Select",{model:{value:t.platForm.form.operation,callback:function(e){t.$set(t.platForm.form,"operation",e)},expression:"platForm.form.operation"}},t._l(t.operationList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpdType,expression:"ftpdType"}],staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"设置传输超时时间",prop:"data_timeout"}},[a("Select",{model:{value:t.platForm.form.data_timeout,callback:function(e){t.$set(t.platForm.form,"data_timeout",e)},expression:"platForm.form.data_timeout"}},t._l(t.data_timeoutList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),a("span",{staticStyle:{color:"red"}},[t._v("*注意,单位为秒")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ftpdType,expression:"ftpdType"}],staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"连接超时时间",prop:"connection_timeout"}},[a("Select",{model:{value:t.platForm.form.connection_timeout,callback:function(e){t.$set(t.platForm.form,"connection_timeout",e)},expression:"platForm.form.connection_timeout"}},t._l(t.connection_timeoutList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),a("span",{staticStyle:{color:"red"}},[t._v("*注意,单位为秒")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"0px",width:"33%",display:"none"},attrs:{label:"间隔",placeholder:"以秒为单位",prop:"time_interval"}},[a("Select",{model:{value:t.platForm.form.time_interval,callback:function(e){t.$set(t.platForm.form,"time_interval",e)},expression:"platForm.form.time_interval"}},t._l(t.minutes,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),a("span",{staticStyle:{color:"red"}},[t._v("*注意,单位为秒")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.channel_transmission_show,expression:"channel_transmission_show"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"目录同步",prop:"idplatform"}},[a("Select",{model:{value:t.platForm.form.gg,callback:function(e){t.$set(t.platForm.form,"gg",e)},expression:"platForm.form.gg"}},t._l(t.aaList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.channel_transmission_show,expression:"channel_transmission_show"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"限速",prop:"idbiz"}},[a("Input",{model:{value:t.platForm.form.uu,callback:function(e){t.$set(t.platForm.form,"uu",e)},expression:"platForm.form.uu"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"启用监控目录清理",prop:"idbiz"}},[a("Checkbox",{attrs:{label:"Eat"}})],1)],1)]),a("TabPane",{attrs:{label:"文件过滤",name:"name3"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"text-align":"left","margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"开启病毒扫描",prop:"idbiz6"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkVirusFilter},model:{value:t.platForm.form.idbiz6,callback:function(e){t.$set(t.platForm.form,"idbiz6",e)},expression:"platForm.form.idbiz6"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.idbiz6,expression:"platForm.form.idbiz6"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editVirusFilter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"关键字过滤",prop:"idbiz1"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkPicNameFilter},model:{value:t.platForm.form.idbiz1,callback:function(e){t.$set(t.platForm.form,"idbiz1",e)},expression:"platForm.form.idbiz1"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.idbiz1,expression:"platForm.form.idbiz1"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editPicNameFilter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"文件大小过滤",prop:"idbiz2"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSizeFilter},model:{value:t.platForm.form.idbiz2,callback:function(e){t.$set(t.platForm.form,"idbiz2",e)},expression:"platForm.form.idbiz2"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.idbiz2,expression:"platForm.form.idbiz2"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSizeFilter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"文件名过滤",prop:"idbiz3"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkNameFilter},model:{value:t.platForm.form.idbiz3,callback:function(e){t.$set(t.platForm.form,"idbiz3",e)},expression:"platForm.form.idbiz3"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.idbiz3,expression:"platForm.form.idbiz3"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editNameFilter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"文件后缀过滤",prop:"idbiz5"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSuffixFilter},model:{value:t.platForm.form.idbiz5,callback:function(e){t.$set(t.platForm.form,"idbiz5",e)},expression:"platForm.form.idbiz5"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.idbiz5,expression:"platForm.form.idbiz5"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSuffixFilter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"定时同步",prop:"settimesyn"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSettimesynFilter},model:{value:t.platForm.form.settimesyn,callback:function(e){t.$set(t.platForm.form,"settimesyn",e)},expression:"platForm.form.settimesyn"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.settimesyn,expression:"platForm.form.settimesyn"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSettimesynFilter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"文件特征过滤",prop:"file_feature_filter"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkfile_feature_filter},model:{value:t.platForm.form.file_feature_filter,callback:function(e){t.$set(t.platForm.form,"file_feature_filter",e)},expression:"platForm.form.file_feature_filter"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.platForm.form.file_feature_filter,expression:"platForm.form.file_feature_filter"}],staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editfile_feature_filter(e)}}},[t._v("编辑")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"32%",display:"none"},attrs:{label:"敏感文件操作",prop:"filter_after_opt"}},[a("Select",{staticStyle:{width:"135px"},model:{value:t.platForm.form.filter_after_opt,callback:function(e){t.$set(t.platForm.form,"filter_after_opt",e)},expression:"platForm.form.filter_after_opt"}},t._l(t.filter_after_optList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.showCopy_move(e.val)}}},[t._v(t._s(e.name))])})),1),a("Poptip",{attrs:{trigger:"hover",content:"敏感文件就是关键字过滤、文件大小过滤等出来的不符合规定的文件"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"3px",color:"#fa914e","font-size":"24px"}})])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.showcopy_move,expression:"gaoSettings?showcopy_move:false"}],staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"敏感文件复制到平台",prop:"copy_move"}},[a("Select",{model:{value:t.platForm.form.copy_move,callback:function(e){t.$set(t.platForm.form,"copy_move",e)},expression:"platForm.form.copy_move "}},t._l(t.filter_after_optKeeptList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.showfilter_after_opt_path,expression:"gaoSettings?showfilter_after_opt_path:false"}],staticStyle:{"margin-bottom":"15px",width:"30%",display:"none"},attrs:{label:"敏感文件转移路径",prop:"filter_after_opt_path"}},[a("Input",{model:{value:t.platForm.form.filter_after_opt_path,callback:function(e){t.$set(t.platForm.form,"filter_after_opt_path",e)},expression:"platForm.form.filter_after_opt_path"}})],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.virusFilter,expression:"gaoSettings?virusFilter:false"}],attrs:{orientation:"left"}},[t._v("病毒扫描")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.virusFilter,expression:"gaoSettings?virusFilter:false"}],staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"病毒文件处理",prop:"virus_opt"}},[a("Select",{model:{value:t.platForm.form.virus_opt,callback:function(e){t.$set(t.platForm.form,"virus_opt",e)},expression:"platForm.form.virus_opt"}},t._l(t.virusList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.picNameFilter,expression:"gaoSettings?picNameFilter:false"}],attrs:{orientation:"left"}},[t._v("关键字过滤")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.picNameFilter,expression:"gaoSettings?picNameFilter:false"}],staticClass:"contentFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"过滤的关键字",prop:"filter_keyword"}},[a("Input",{staticStyle:{width:"280px"},model:{value:t.platForm.form.filter_keyword,callback:function(e){t.$set(t.platForm.form,"filter_keyword",e)},expression:"platForm.form.filter_keyword "}}),a("Poptip",{attrs:{trigger:"hover",content:"匹配文件中的内容进行过滤操作，\n                            支持的文件有：txt、pdf、xls、xlsx、doc、docx、ppt、pptx、wps、dps、et、xml，多个以/#/分隔"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"1px",color:"#fa914e","font-size":"24px"}})])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.picNameFilter,expression:"gaoSettings?picNameFilter:false"}],staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"过滤类型",prop:"keyword_type"}},[a("Select",{model:{value:t.platForm.form.keyword_type,callback:function(e){t.$set(t.platForm.form,"keyword_type",e)},expression:"platForm.form.keyword_type"}},t._l(t.filterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.picNameFilter,expression:"gaoSettings?picNameFilter:false"}],staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"图片关键字过滤",prop:"filter_picture_keyword"}},[a("Input",{staticStyle:{width:"280px"},model:{value:t.platForm.form.filter_picture_keyword,callback:function(e){t.$set(t.platForm.form,"filter_picture_keyword",e)},expression:"platForm.form.filter_picture_keyword "}}),a("Poptip",{attrs:{trigger:"hover",content:"匹配图像中的内容里面的文字，多个以/#/分隔"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"1px",color:"#fa914e","font-size":"24px"}})])],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.sizeFilter,expression:"gaoSettings?sizeFilter:false"}],attrs:{orientation:"left"}},[t._v("文件大小过滤")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.sizeFilter,expression:"gaoSettings?sizeFilter:false"}],staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"50%",display:"none"},attrs:{label:"最小",prop:"filter_min"}},[a("Poptip",{attrs:{trigger:"hover",content:"大于此值可同步"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.filter_min_size,callback:function(e){t.$set(t.platForm.form,"filter_min_size",e)},expression:"platForm.form.filter_min_size"}})],1),a("Select",{staticStyle:{width:"26%"},model:{value:t.platForm.form.filter_min_size_unit,callback:function(e){t.$set(t.platForm.form,"filter_min_size_unit",e)},expression:"platForm.form.filter_min_size_unit"}},t._l(t.dataTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.sizeFilter,expression:"gaoSettings?sizeFilter:false"}],staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"50%",display:"none"},attrs:{label:"最大",prop:"filter_max"}},[a("Poptip",{attrs:{trigger:"hover",content:"小于此值可同步"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.filter_max_size,callback:function(e){t.$set(t.platForm.form,"filter_max_size",e)},expression:"platForm.form.filter_max_size"}})],1),a("Select",{staticStyle:{width:"26%"},model:{value:t.platForm.form.filter_max_size_unit,callback:function(e){t.$set(t.platForm.form,"filter_max_size_unit",e)},expression:"platForm.form.filter_max_size_unit"}},t._l(t.dataTypeList1,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.sizeFilter,expression:"gaoSettings?sizeFilter:false"}],staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"大小过滤类型",prop:"filter_size_type"}},[a("Select",{model:{value:t.platForm.form.filter_size_type,callback:function(e){t.$set(t.platForm.form,"filter_size_type",e)},expression:"platForm.form.filter_size_type"}},t._l(t.sizefilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.nameFilter,expression:"gaoSettings?nameFilter:false"}],attrs:{orientation:"left"}},[t._v("文件名过滤")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.nameFilter,expression:"gaoSettings?nameFilter:false"}],staticClass:"nameFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"文件名过滤类型",prop:"filename_type"}},[a("Select",{model:{value:t.platForm.form.filename_type,callback:function(e){t.$set(t.platForm.form,"filename_type",e)},expression:"platForm.form.filename_type"}},t._l(t.flienamefilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.nameFilter,expression:"gaoSettings?nameFilter:false"}],staticClass:"nameFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"文件名",prop:"filter_filename"}},[a("Poptip",{attrs:{trigger:"hover",content:"多个以小写|分割"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.platForm.form.filter_filename,callback:function(e){t.$set(t.platForm.form,"filter_filename",e)},expression:"platForm.form.filter_filename"}})],1)],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.suffixFilter,expression:"gaoSettings?suffixFilter:false"}],attrs:{orientation:"left"}},[t._v("文件后缀过滤")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.suffixFilter,expression:"gaoSettings?suffixFilter:false"}],staticClass:"suffixFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"后缀过滤类型",prop:"suffix_type"}},[a("Select",{model:{value:t.platForm.form.suffix_type,callback:function(e){t.$set(t.platForm.form,"suffix_type",e)},expression:"platForm.form.suffix_type"}},t._l(t.suffixfilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.suffixFilter,expression:"gaoSettings?suffixFilter:false"}],staticClass:"suffixFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"文件后缀",prop:"filter_suffix "}},[a("Poptip",{attrs:{trigger:"hover",content:"多个以小写|分割"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.platForm.form.filter_suffix,callback:function(e){t.$set(t.platForm.form,"filter_suffix",e)},expression:"platForm.form.filter_suffix"}})],1)],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.settimesynFilter,expression:"gaoSettings?settimesynFilter:false"}],attrs:{orientation:"left"}},[t._v("同步时间")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.settimesynFilter,expression:"gaoSettings?settimesynFilter:false"}],staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"同步时间段",prop:"syntime",cvallass:"gaoSettings_style"}},[a("TimePicker",{staticStyle:{width:"168px"},attrs:{confirm:"",value:t.platForm.form.syntime,format:"hh’mm’ss",type:"timerange",placement:"bottom-end",placeholder:"Select time"}})],1),a("Divider",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.file_feature_filter,expression:"gaoSettings?file_feature_filter:false"}],attrs:{orientation:"left"}},[t._v("文件特征过滤")]),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.file_feature_filter,expression:"gaoSettings?file_feature_filter:false"}],staticStyle:{"margin-bottom":"15px",width:"60%",display:"none"},attrs:{label:"文件特征",prop:"filter_feature"}},[a("Input",{directives:[{name:"show",rawName:"v-show",value:t.gaoSettings,expression:"gaoSettings"}],staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},model:{value:t.platForm.form.filter_feature,callback:function(e){t.$set(t.platForm.form,"filter_feature",e)},expression:"platForm.form.filter_feature"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!!t.gaoSettings&&t.file_feature_filter,expression:"gaoSettings?file_feature_filter:false"}],staticStyle:{"margin-bottom":"15px",width:"49%",display:"none"},attrs:{label:"文件特征类型",prop:"feature_type"}},[a("Select",{staticStyle:{"margin-bottom":"15px",width:"49%"},model:{value:t.platForm.form.feature_type,callback:function(e){t.$set(t.platForm.form,"feature_type",e)},expression:"platForm.form.feature_type"}},t._l(t.featureList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1),a("Upload",{attrs:{action:"","before-upload":t.handleLinkimage}},[a("i-button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("添加文件")])],1)],1)],1)])],1)],1)],1)}),[],!1,null,"0112a23e",null);e.default=o.exports},"0f1e":function(t,e,a){"use strict";a.r(e),a("163d");var i={name:"UserPassword",components:{jk_tabs:a("25b1").a},data:function(){return{links:[{name:"用户",to:"/user/userConfig"},{name:"角色",to:"/user/userRole"},{name:"密码强度设置",to:"/user/userPwd"}],modal:{form:{min:"8",max:null}}}},mounted:function(){this.showProxy()},methods:{showProxy:function(){var t=this;this.$https.fetchGet(this.$api.user.showPWD.url).then((function(e){t.modal.form=e.data.data})).catch((function(t){}))},addPlatForm:function(){var t=this;Number(this.modal.form.min)>=Number(this.modal.form.max)?this.$Notice.error({title:"密码长度修改失败",desc:"最小值请小于最大值"}):this.$https.fetchPost(this.$api.user.updatePWD.url,this.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"密码长度修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){location.reload()}),300)):t.$Notice.error({title:"密码长度修改失败",desc:"错误代码："+e.data.status,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"8",disabled:""},model:{value:t.modal.form.min,callback:function(e){t.$set(t.modal.form,"min",e)},expression:"modal.form.min"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"16"},model:{value:t.modal.form.max,callback:function(e){t.$set(t.modal.form,"max",e)},expression:"modal.form.max"}})],1)])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("最小密码长度:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("最大密码长度:")])])}],!1,null,"4901c78c",null);e.default=o.exports},"0ff8":function(t,e,a){"use strict";a.r(e),a("9a33");var i={inject:["reload"],name:"LogSyslog",components:{jk_tabs:a("25b1").a},data:function(){return{loading:!1,lasttime:"",lastdetailshow:!1,lastlog:"",needSyncTables:[],needSyncTablesList:[],passshow:!1,addTitle:!0,disabled_val:!0,start_snmp:!1,start_log:!0,remote_server:[],action:!1,dataFormatTypeList:[{name:"json类型",value:1},{name:"xml类型",value:2}],encryptTypeList:[{name:"不加密",value:0},{name:"base64加密",value:1},{name:"aes加密",value:2}],links:[{name:"日志常规设置",to:"/logs/logSetting"},{name:"Syslog服务",to:"/logs/logSyslog"},{name:"SNMP Traps服务",to:"/logs/logSnmpTraps"}],form:{encryptType:0,aesPassword:"",dataFormatType:0,intervalTime:"",needSyncTables:[{action:0,tableName:"",tableChineseName:"",selectType:0,tag:"",tagValue:""}],machines:[{ip:"",port:"",desc:""}]}}},mounted:function(){this.getsysloginfo()},methods:{showdetail:function(){this.lastdetailshow=!0,this.getlastloginfo()},getlastloginfo:function(){var t=this;this.$https.fetchGet(this.$api.log.getLastLog.url).then((function(e){if(200==e.data.status){t.lastlog=e.data.data;var a=t.lastlog.split(/[\n]/);t.lastlog=a}else t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},sumbit:function(){var t=this;for(var e in this.form.machines=this.remote_server,this.form.needSyncTables)this.form.needSyncTables[e].action=1;for(var a in this.needSyncTables)for(var i in this.form.needSyncTables)this.needSyncTables[a]==this.form.needSyncTables[i].tableName&&(this.form.needSyncTables[i].action=0);this.$https.fetchPost(this.$api.log.updateSysLog.url,this.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"提交成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){location.reload()}),250)):t.$Notice.error({title:"提交失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},passchange:function(t){this.passshow=2==t},getsysloginfo:function(){var t=this;this.$https.fetchGet(this.$api.log.getSysLog.url).then((function(e){if(200==e.data.status){var a=e.data.data;for(var i in t.form=a,1==a.action?t.action=!1:(t.action=!0,t.getlastloginfo()),2==a.encryptType&&(t.passshow=!0),0==a.machines.length?t.addTitle=!1:t.addTitle=!0,a.needSyncTables)t.needSyncTablesList.push(a.needSyncTables[i]),0==a.needSyncTables[i].action&&t.needSyncTables.push(a.needSyncTables[i].tableName);for(var s in a.machines){var o={ip:a.machines[s].ip,port:a.machines[s].port,desc:a.machines[s].desc};t.remote_server.push(o)}}else t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},checkaction:function(){var t=this;this.loading=!0,this.action?this.$https.fetchGet(this.$api.log.action.url).then((function(e){200==e.data.status?(setTimeout((function(){}),250),t.$Notice.success({title:"日志记录启动成功",desc:"正在刷新页面",duration:2.5})):(t.action=!1,t.$Notice.error({title:"日志记录启动失败",desc:e.data.desc,duration:5})),t.loading=!1})).catch((function(e){t.loading=!1,t.$Notice.error({title:"请求失败",desc:e,duration:2.5}),t.action=!1})):this.$https.fetchGet(this.$api.log.stop.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"日志记录关闭成功",desc:"正在刷新页面",duration:2.5}),setTimeout((function(){}),250)):(t.action=!0,t.$Notice.error({title:"日志记录关闭失败",desc:e.data.desc,duration:5})),t.loading=!1})).catch((function(e){t.loading=!1,t.action=!0,t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},checkSnmp:function(t){this.disabled_val=1==t},add_remote_server:function(){this.addTitle=!0,this.remote_server.push({port:"",ip:"",desc:""})},del_remote_server:function(t){this.remote_server.splice(t,1),0==this.remote_server.length&&(this.addTitle=!1)}}},s=(a("72f5"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("i-switch",{staticStyle:{"margin-left":"12px"},attrs:{loading:t.loading,size:"large"},on:{"on-change":t.checkaction},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Select",{staticStyle:{width:"200px","margin-left":"12px"},attrs:{clearable:""},model:{value:t.form.encryptType,callback:function(e){t.$set(t.form,"encryptType",e)},expression:"form.encryptType"}},t._l(t.encryptTypeList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value},nativeOn:{click:function(a){return t.passchange(e.value)}}},[t._v(t._s(e.name))])})),1)],1)]),t.passshow?a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"12px"},model:{value:t.form.aesPassword,callback:function(e){t.$set(t.form,"aesPassword",e)},expression:"form.aesPassword"}})],1)]):t._e(),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Select",{staticStyle:{width:"200px","margin-left":"12px"},attrs:{clearable:""},model:{value:t.form.dataFormatType,callback:function(e){t.$set(t.form,"dataFormatType",e)},expression:"form.dataFormatType"}},t._l(t.dataFormatTypeList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])})),1)],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"12px"},model:{value:t.form.intervalTime,callback:function(e){t.$set(t.form,"intervalTime",e)},expression:"form.intervalTime"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("Select",{staticStyle:{width:"500px","margin-left":"12px"},attrs:{multiple:""},model:{value:t.needSyncTables,callback:function(e){t.needSyncTables=e},expression:"needSyncTables"}},t._l(t.needSyncTablesList,(function(e){return a("Option",{key:e.tableName,attrs:{value:e.tableName}},[t._v(t._s(e.tableChineseName))])})),1)],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(6),a("td",[t.addTitle?a("table",{staticStyle:{margin:"10px 0 5px 10px"}},[t._m(7),t._l(t.remote_server,(function(e,i){return a("tr",{key:i,staticStyle:{"margin-left":"-7px"}},[a("td",[a("Input",{staticStyle:{margin:"5px",width:"100px"},model:{value:e.ip,callback:function(a){t.$set(e,"ip",a)},expression:"d.ip"}})],1),a("td",[a("Input",{staticStyle:{margin:"5px",width:"80px"},model:{value:e.port,callback:function(a){t.$set(e,"port",a)},expression:"d.port"}})],1),a("td",[a("Input",{staticStyle:{margin:"5px",width:"250px"},model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"d.desc"}})],1),a("td",[a("i-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small"},on:{click:function(e){return t.del_remote_server(i)}}},[t._v("删除")])],1)])}))],2):t._e(),a("i-button",{staticStyle:{margin:"0 0 5px 15px"},attrs:{icon:"md-add",size:"small"},on:{click:t.add_remote_server}},[t._v("添加")])],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.action,expression:"action"}],staticStyle:{height:"40px"}},[t._m(8),a("td",[a("Button",{staticStyle:{"margin-left":"12px"},on:{click:t.showdetail}},[t._v("点击详情")])],1)])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"},on:{click:t.sumbit}},[t._v("确认")])])])]),a("Modal",{attrs:{title:"操作详情",styles:{top:"100px"}},model:{value:t.lastdetailshow,callback:function(e){t.lastdetailshow=e},expression:"lastdetailshow"}},[t._l(t.lastlog,(function(e,i){return a("div",{key:i,staticStyle:{"margin-left":"12px"}},[a("span",{domProps:{textContent:t._s(e)}})])})),a("div",{attrs:{slot:"footer"},slot:"footer"})],2)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("启用远程syslog服务器:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("加密方式:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("密码:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("数据的格式类型:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("间隔时长(毫秒):")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("需要同步的表:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("远程服务器主机配置:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticStyle:{"text-align":"center","font-size":"12px",padding:"1px"}},[this._v("IP")]),e("th",{staticStyle:{"text-align":"center","font-size":"12px",padding:"1px"}},[this._v("端口")]),e("th",{staticStyle:{"text-align":"center","font-size":"12px",padding:"1px"}},[this._v("描述")]),e("th",{staticStyle:{"text-align":"center","font-size":"12px",padding:"1px"}},[this._v("操作")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("最近一次运行记录:")])])}],!1,null,"2efd1e4a",null);e.default=o.exports},1097:function(t,e,a){"use strict";a.r(e),a("9a33");var i=a("5e7e"),s={name:"SysInfo",components:{},inject:["reload"],data:function(){return{isHost:!1,switchValue:!1,columns1:[{title:"序号",key:"id",align:"center",width:70,render:function(t,e){return t("span",e.index+1)}},{width:150,align:"center",title:"接口",key:"dev"},{align:"center",title:"IP地址",key:"list",sortable:!0,slot:"list"},{width:80,align:"center",title:"链路状态",key:"bl",render:function(t,e){return e.row.bl?t("Tag",{style:{paddingLeft:"18px",border:"none !important"},props:{type:"dot",color:"success"}}):t("Tag",{style:{paddingLeft:"18px",border:"none !important"},props:{type:"dot",color:"error"}})}}],data1:[],AvaliList:{isHost:"主机",pattern:"主备",HA:null,action:"true"},sysCfg:{input:0,switch:!0},webSocket:null,text:{},randomMovieList:[{title:"型号",content:"ViGap安全隔离与信息单向导入系统"},{title:"版本",content:"1.0.5.1_38 (数据库) | 1.0.1.5 (文件)"},{title:"内部版本识别",content:"3天20时55分58秒"}],randomMovieList1:[{title:"运行时长：",content:"2020-10-21 10:10:29"},{title:"配置时间",content:"3天20时55分58秒"},{title:"授权信息",content:"2020-10-21 10:10:29"}],sysInfo:{mapping:{name:"系统名称",version:"版本",state:"开启状态",registerTime:"注册时间",startupTime:"启动时间"},values:{name:"伟思信安集中监控平台",version:"V3.0.4",state:"开启",registerTime:"2019-06-26 10:00",startupTime:"2019-06-26 8:00"}},dflt:{min:0,max:200,counter:!0,hideInnerShadow:!0}}},mounted:function(){this.getipfindLinkIp(),this.getSystemMessage(),this.getAvailMessage(),this.connWebSocket(),this.$refs.g1.draw({id:"g1",value:1,min:0,max:100,title:"CPU使用率",label:"%"}),this.$refs.g2.draw({id:"g2",value:1,min:0,max:100,title:"内存使用率",label:"%"}),this.$refs.g3.draw({id:"g3",value:1,min:0,max:100,title:"磁盘使用率",label:"%"})},methods:{quick:function(t){this.$router.push({path:t}),i.a.$emit("demo1",t)},getipfindLinkIp:function(){var t=this;this.$https.fetchPost(this.$api.sys.ipfindLinkIp.url).then((function(e){if(200==e.data.status){for(var a in e.data.data)t.data1.push(e.data.data[a]);t.data1.reverse()}})).catch((function(t){}))},getAvailMessage:function(){var t=this;this.$https.fetchGet(this.$api.sys.getIndexData.url).then((function(e){200==e.data.status&&(t.AvaliList=e.data.data,"主机"==t.AvaliList.isHost&&(t.isHost=!0))})).catch((function(t){}))},getSystemMessage:function(){var t=this;this.$https.fetchPost(this.$api.sys.getSystemMessage.url).then((function(e){if(200==e.data.status){var a,i=e.data.data,s=i.dbsyncVersion+"(数据库) | "+i.fileSyncVersion+"(文件)";a="正式版"==i.licenseInfo.type?i.licenseInfo.type:i.licenseInfo.type+i.licenseInfo.data+"天",t.$set(t.randomMovieList[0],"content",i.type),t.$set(t.randomMovieList[1],"content",i.version),t.$set(t.randomMovieList[2],"content",s),t.$set(t.randomMovieList1[0],"content",i.systemRunTime),t.$set(t.randomMovieList1[1],"content",i.configurationTime),t.$set(t.randomMovieList1[2],"content",a)}})).catch((function(t){}))},connWebSocket:function(){var t=null;if("/"==this.$https.getAxiosBaseurl())t="wss://"+window.location.host+"/websocket";else{var e=this.$https.getAxiosBaseurl(),a=e.lastIndexOf("/");t="wss://"+(e=e.substring(a+1,e.length))+"/websocket"}var i=new WebSocket(t);this.webSocket=i,i.onmessage=this.$options.methods.onmessage.bind(this),i.onopen=function(t){},i.onerror=function(t){},i.onclose=function(t){}},closeWebSocket:function(){null!=this.webSocket&&this.webSocket.close()},onmessage:function(t){var e=JSON.parse(t.data);this.$refs.g1.refresh(e.cpu),e.mem=e.mem.substr(1),e.mem=e.mem.substr(0,e.mem.length-1);var a=new Array;a=e.mem.split(","),this.$refs.g2.refresh((a[0]-a[1])/a[0]*100),this.$refs.g3.refresh(e.disk),this.text=e},send:function(){var t={instruct:this.model1,param:this.value};this.webSocket.send(JSON.stringify(t))},scrollBottom:function(){this.$nextTick((function(){}))}},beforeDestroy:function(){this.closeWebSocket()}},o=(a("c35f"),a("2c07")),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("Row",{staticClass:"panel-group",attrs:{gutter:16}},[a("Col",{staticClass:"card-panel-col",attrs:{span:"6"}},[a("Card",{staticClass:"card1"},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.quick("/network/interface")}}},[a("div",{staticClass:"card-panel-icon-wrapper"},[a("Icon",{attrs:{size:"58",type:"md-git-network"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          网络配置\n        ")]),a("div",{staticStyle:{"font-size":"11px"}},[t._v("\n          接口、通道等配置\n        ")])])])])],1),a("Col",{staticClass:"card-panel-col",attrs:{span:"6"}},[a("Card",{staticClass:"card2"},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.quick("/local/ftp")}}},[a("div",{staticClass:"card-panel-icon-wrapper "},[a("Icon",{attrs:{size:"58",type:"md-git-pull-request"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          本地服务\n        ")]),a("div",{staticStyle:{"font-size":"11px"}},[t._v("\n          本地FTP等服务\n        ")])])])])],1),a("Col",{staticClass:"card-panel-col",attrs:{span:"6"}},[a("Card",{staticClass:"card3"},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.quick("/data/test2")}}},[a("div",{staticClass:"card-panel-icon-wrapper"},[a("Icon",{attrs:{size:"58",type:"md-sync"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          数据同步\n        ")]),a("div",{staticStyle:{"font-size":"11px"}},[t._v("\n          业务/服务管理\n        ")])])])])],1),a("Col",{staticClass:"card-panel-col",attrs:{span:"6"}},[a("Card",{staticClass:"card4"},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.quick("/sys/businessMonitoring")}}},[a("div",{staticClass:"card-panel-icon-wrapper"},[a("Icon",{attrs:{size:"58",type:"ios-pulse"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          业务监控\n        ")]),a("div",{staticStyle:{"font-size":"11px"}},[t._v("\n          服务监控\n        ")])])])])],1)],1),a("Row",{staticClass:"panel-group",attrs:{gutter:16}},[a("Col",{staticClass:"card-panel-col",attrs:{span:"12",offset:"0"}},[a("Card",{staticStyle:{height:"230px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{size:"20",type:"ios-pulse"}}),t._v("\n            资源监控\n          ")],1),a("vue-justgage",{ref:"g1",staticClass:"gauge",attrs:{id:"g1"}}),a("vue-justgage",{ref:"g2",staticClass:"gauge",attrs:{id:"g2"}}),a("vue-justgage",{ref:"g3",staticClass:"gauge",attrs:{id:"g3"}})],1)],1),a("Col",{staticClass:"card-panel-col",attrs:{span:"12"}},[a("Card",{staticStyle:{height:"230px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{size:"20",type:"md-barcode"}}),t._v("\n            设备信息\n          ")],1),a("Row",{attrs:{gutter:36}},[a("Col",{attrs:{span:"14"}},t._l(t.randomMovieList,(function(e){return a("div",{key:e.title,staticStyle:{"font-weight":"500","margin-bottom":"24px"}},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"left","font-weight":"bold"}},[t._v(t._s(e.title))]),a("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.content))])])])})),0),a("Col",{attrs:{span:"10"}},t._l(t.randomMovieList1,(function(e){return a("div",{key:e.title,staticStyle:{"font-weight":"500","margin-bottom":"24px"}},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[t._v(t._s(e.title))]),a("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.content))])])])})),0)],1)],1)],1)],1),a("Row",{staticClass:"panel-group",attrs:{gutter:16}},[a("Col",{staticClass:"card-panel-col",attrs:{span:"12",offset:"0"}},[a("Card",{staticStyle:{height:"230px"},attrs:{bordered:""}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{size:"20",type:"md-git-network"}}),t._v("\n            网络接口信息\n          ")],1),a("div",{staticStyle:{"overflow-y":"hidden"}},[a("Table",{attrs:{height:"140",border:"",stripe:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"list",fn:function(e){var i=e.row;return e.index,[0==i.list.length?a("span",[t._v("暂未配置")]):t._e(),t._l(i.list,(function(e,s){return i.list.length>0?a("span",[t._v("\n                  "+t._s(e)+t._s(s!=i.list.length-1?",":"")+"\n                ")]):t._e()}))]}}])})],1)])],1),a("Col",{staticClass:"card-panel-col",attrs:{span:"12"}},[a("Card",{staticStyle:{height:"230px"},attrs:{padding:0,bordered:""}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{size:"20",type:"md-swap"}}),t._v("\n            双机热备状态"+t._s("true"==t.AvaliList.action?t.AvaliList.isHost?"（当前为主机）":"（当前为备机）":"")+"\n          ")],1),a("CellGroup",[a("Cell",{attrs:{title:"当前状态",extra:"true"==t.AvaliList.action?"启用中":"已禁用"}}),a("Cell",{attrs:{title:"HA口",extra:null==t.AvaliList.HA?"无":t.AvaliList.HA}}),a("Cell",{attrs:{title:"工作模式",extra:t.AvaliList.pattern}})],1)],1)],1)],1)],1)}),[],!1,null,"73646d17",null);e.default=r.exports},"11c6":function(t,e,a){"use strict";a("d3d8")},"144e":function(t,e,a){"use strict";a.r(e),a("cc57");var i=a("25b1");function s(t){return("00"+t).substr(t.length)}a("9dd9"),a("f548");var o={name:"LogCommond",components:{jk_tabs:i.a},inject:["reload"],data:function(){var t=this;return{searchLoading:!1,Names:"",level:"",name:"",msgparams:"",eventparams:"",ipparams:"",times:[],platfrom:{role:""},columns:[{title:"序号",key:"",align:"center",width:70,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"管理员",key:"name",align:"center"},{title:"源IP",key:"accessIp",align:"center"},{title:"事件",key:"title",align:"center",render:function(t,e){return t("div",[t("span",{style:{display:"inline-block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},domProps:{title:e.row.title},on:{click:function(t){t.stopPropagation()}}},e.row.title)])}},{title:"消息",key:"desc",align:"center",render:function(e,a){var i=a.row.desc;return null!=a.row.desc&&(i=a.row.desc.length>15?a.row.desc.slice(0,14)+"...":a.row.desc),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.desc)])])}},{title:"级别",key:"level",align:"center",width:90,render:function(t,e){return 0==e.row.level?t("div",[t("span",{},"成功")]):t("div",[t("span",{},"失败")])}},{title:"配置时间",key:"accessTime",align:"center"}],indeterminate:!1,checkAll:!1,checkAllGroup:[],loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"long"},{filed:"",type:"",params:""},{filed:"",type:"",params:0}],sorts:[{filed:"accessTime",order:!1}]}},links:[{name:"管理操作日志",to:"/logs/logCommond"}]}},mounted:function(){this.showProxy()},methods:{resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"long"},{filed:"",type:"",params:""},{filed:"",type:"",params:0}],sorts:[{filed:"accessTime",order:!1}]}}},search:function(){var t=this;this.resetFileters(),this.ipparams&&(this.page.form.filters[0].type="like",this.page.form.filters[0].filed="accessIp",this.page.form.filters[0].params=this.ipparams),this.eventparams&&(this.page.form.filters[1].params=this.eventparams,this.page.form.filters[1].type="like",this.page.form.filters[1].filed="title"),this.name&&(this.page.form.filters[4].params=this.name,this.page.form.filters[4].type="equal",this.page.form.filters[4].filed="name"),this.page.form.filters[5].params=this.level,this.page.form.filters[5].params||(this.page.form.filters[5].params=0),this.page.form.filters[5].type="equal",this.page.form.filters[5].filed="level",""!=this.times[0]&&(this.times[0]=this.times[0].getTime(),this.times[1]=this.times[1].getTime(),this.page.form.filters[3].type="between",this.page.form.filters[3].filed="accessTime",this.page.form.filters[3].params=this.times),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.operationLog.url,this.page.form,{timeout:3e5}).then((function(e){for(var a in t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.data)t.data[a].accessTime=t.formatDate(t.data[a].accessTime);t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},getNames:function(){var t=this;this.Names||this.$https.fetchGet(this.$api.log.getNames.url).then((function(e){t.Names=e.data.data})).catch((function(t){}))},showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.operationLog.url,this.page.form,{timeout:3e5}).then((function(e){for(var a in t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1,t.data)t.data[a].accessTime=t.formatDate(t.data[a].accessTime)})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},formatDate:function(t){return function(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp("(".concat(i,")")).test(e)){var o=a[i]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?o:s(o))}return e}(new Date(t),"yyyy-MM-dd hh:mm:ss")},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部管理操作日志</p>",onOk:function(){t.$https.fetchGet(t.$api.log.delOperationLog.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},r=(a("b0ec"),a("2c07")),n=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:function(e){return t.clearAll()}}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},[a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            管理员：\n                            "),a("Select",{staticStyle:{width:"155px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.getNames()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},t._l(t.Names,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            级别：\n                            "),a("Select",{staticStyle:{width:"155px"},attrs:{clearable:""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},[a("Option",{attrs:{value:"0"}},[t._v("成功")]),a("Option",{attrs:{value:"1"}},[t._v("失败")])],1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                                     源IP：\n                            "),a("Input",{staticStyle:{width:"auto"},model:{value:t.ipparams,callback:function(e){t.ipparams=e},expression:"ipparams"}})],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                               事件：\n                            "),a("Input",{staticStyle:{width:"auto"},model:{value:t.eventparams,callback:function(e){t.eventparams=e},expression:"eventparams"}})],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            消息：\n                            "),a("Input",{staticStyle:{width:"auto"},model:{value:t.msgparams,callback:function(e){t.msgparams=e},expression:"msgparams"}})],1),a("div",{staticStyle:{margin:"5px","font-size":"12px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"280px",margin:"5px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间"},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}}),a("Button",{staticStyle:{height:"32px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,"show-elevator":""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"877c2e3a",null);e.default=n.exports},1473:function(t,e,a){"use strict";a.r(e),a("cc57");var i={name:"TestFtpProxyParameter",components:{jk_tabs:a("25b1").a},data:function(){return{columns1:[{title:"名称",key:"name",align:"center"},{title:"内容",key:"content",align:"center"},{title:"默认内容",key:"default_content",align:"center",className:"default_content"},{title:"说明",key:"explain",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],updateVal:null,links:[{name:"FTP代理参数配置",to:"/test/ftpProxyParameter"}],val:null,data1:[{name:"buffer_size",content:"",default_content:"32KB",explain:"BufferSize"},{name:"debug_level",content:"",default_content:"debug",explain:"DEBUG级别"},{name:"work_num",content:"",default_content:"2",explain:"CPU核数"},{name:"work_cpu_start",content:"",default_content:"-1",explain:"CPU起始"},{name:"xmit_srv_str",content:"",default_content:"127.0.0.1",explain:"发送侦听IP"},{name:"xmit_srv_port",content:"",default_content:"6688",explain:"发送侦听端口"},{name:"check_srv_str",content:"",default_content:"127.0.0.1",explain:"过滤侦听IP"},{name:"check_srv_port",content:"",default_content:"28403",explain:"过滤侦听端口"},{name:"check_enable",content:"",default_content:"启用",explain:"是否启用过滤"},{name:"task_json_file",content:"",default_content:"/opt/wsgap_frelease/task.json",explain:"任务配置"},{name:"proxy_json_file",content:"",default_content:"/opt/wsgap_frelease/proxy.json",explain:"是否启用过滤"}]}},mounted:function(){this.showIpAddr()},methods:{showIpAddr:function(){var t=this;this.$https.fetchGet(this.$api.test.proxydInfo.url).then((function(e){for(var a in e.data.data)for(var i in t.data1)t.data1[i].name==a&&(t.data1[i].content=e.data.data[a])})).catch((function(t){}))},update:function(t){var e=this;this.$Modal.confirm({render:function(t){return t("Input",{props:{value:e.value,autofocus:!0,placeholder:"Please enter your value..."},on:{input:function(t){e.val=t}}})},onOk:function(){var a=new FormData;a.append("key",t),a.append("value",e.val),e.$https.fetchPost(e.$api.test.updateProxyd.url,a).then((function(t){200==t.data.status?(e.$Notice.success({title:"代理参数修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):e.$Notice.error({title:"代理参数修改失败",desc:"错误代码："+t.data.status,duration:2.5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})}}},s=(a("e515"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.update(i.name)}}},[t._v("修改")])]}}])})],1)])])}),[],!1,null,"ad8c5e22",null);e.default=o.exports},"154c":function(t,e,a){"use strict";a.r(e);var i=(a("8ba2"),a("2c07")),s=Object(i.a)({name:"Data",components:{},provide:function(){return{reload:this.reload}},data:function(){return{IsRouterAlive:!0}},mounted:function(){},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n            数据同步\n        ")])])}],!1,null,"7c7ca8f6",null);e.default=s.exports},1640:function(t,e,a){"use strict";a("fb11")},"16d9":function(t,e,a){"use strict";a.r(e);var i={name:"LogFileWarning",components:{jk_tabs:a("25b1").a},data:function(){var t=this;return{searchLoading:!1,columns:[{title:"序号",key:"",align:"center",width:72,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"业务ID",align:"center",key:"taskID"},{title:"消息",align:"center",key:"msg",render:function(e,a){var i=a.row.msg;return null!=a.row.msg&&(i=a.row.msg.length>15?a.row.msg.slice(0,14)+"...":a.row.msg),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.msg)])])}},{title:"事件",align:"center",key:"event",render:function(e,a){var i=a.row.event;return null!=a.row.event&&(i=a.row.event.length>15?a.row.event.slice(0,14)+"...":a.row.event),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.event)])])}},{title:"告警级别",align:"center",key:"level",render:function(t,e){return 0==e.row.level?t("div",[t("span",{},"告警")]):t("div",[t("span",{},"错误")])}},{title:"状态",align:"center",key:"status",render:function(t,e){return 0==e.row.status?t("div",[t("span",{},"成功")]):t("div",[t("span",{},"失败")])}},{title:"告警模块",align:"center",key:"type",render:function(t,e){return 5==e.row.type?t("div",[t("span",{},"文件过滤")]):6==e.row.type?t("div",[t("span",{},"病毒扫描")]):7==e.row.type?t("div",[t("span",{},"文件同步")]):8==e.row.type?t("div",[t("span",{},"文件名过滤")]):9==e.row.type?t("div",[t("span",{},"恶意代码检测")]):10==e.row.type?t("div",[t("span",{},"通道")]):11==e.row.type?t("div",[t("span",{},"安全代理")]):12==e.row.type?t("div",[t("span",{},"客户身份认证")]):void 0}},{title:"告警时间",align:"center",key:"time"}],loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""},{filed:"",type:"",params:""}],sorts:[{filed:"time",order:!1}]}},links:[{name:"告警日志",to:"/logs/logFileWarning"}],Model:"",taskID:"",taskIDs:[],ipaddr:"",level:"",time:[]}},mounted:function(){this.showProxy()},methods:{gettaskIDs:function(){var t=this;this.taskID||this.$https.fetchGet(this.$api.log.getWarningTaskIds.url).then((function(e){t.taskIDs=e.data.data})).catch((function(t){}))},showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.findFileWarningOperStatus.url,this.page.form,{timeout:3e5}).then((function(e){t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""},{filed:"",type:"",params:""}],sorts:[{filed:"time",order:!1}]}}},search:function(){var t=this;this.resetFileters(),this.level&&(this.page.form.filters[0].type="equal",this.page.form.filters[0].filed="level",this.page.form.filters[0].params=this.level),this.Model&&(this.page.form.filters[2].type="equal",this.page.form.filters[2].filed="type",this.page.form.filters[2].params=this.Model),this.taskID&&(this.page.form.filters[3].type="equal",this.page.form.filters[3].filed="taskID",this.page.form.filters[3].params=this.taskID),""!=this.time[0]&&(this.time[0]=this.$util.time_format(new Date(this.time[0]),"yyyy-MM-dd hh:mm:ss"),this.time[1]=this.$util.time_format(new Date(this.time[1]),"yyyy-MM-dd hh:mm:ss"),this.page.form.filters[1].type="between",this.page.form.filters[1].filed="time",this.page.form.filters[1].params=this.time),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.findFileWarningOperStatus.url,this.page.form,{timeout:3e5}).then((function(e){t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},statusChange:function(t){},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部告警日志</p>",onOk:function(){t.$https.fetchGet(t.$api.log.delWarningLog.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=(a("eb43"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:t.clearAll}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{width:"28%",margin:"10px","font-size":"12px"}},[t._v("\n                                业务ID：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.gettaskIDs()}},model:{value:t.taskID,callback:function(e){t.taskID=e},expression:"taskID"}},t._l(t.taskIDs,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"10px","font-size":"12px"}},[t._v("\n                            告警模块：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:t.Model,callback:function(e){t.Model=e},expression:"Model"}},[a("Option",{attrs:{value:"5"}},[t._v("文件过滤")]),a("Option",{attrs:{value:"6"}},[t._v("病毒扫描")]),a("Option",{attrs:{value:"7"}},[t._v("文件同步")]),a("Option",{attrs:{value:"8"}},[t._v("文件名过滤")]),a("Option",{attrs:{value:"9"}},[t._v("恶意代码检测")]),a("Option",{attrs:{value:"10"}},[t._v("通道")]),a("Option",{attrs:{value:"11"}},[t._v("安全代理")]),a("Option",{attrs:{value:"12"}},[t._v("客户身份认证")])],1)],1),a("div",{staticStyle:{width:"28%",margin:"10px","font-size":"12px"}},[t._v("\n                            告警级别：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},[a("Option",{attrs:{value:"0"}},[t._v("告警")]),a("Option",{attrs:{value:"1"}},[t._v("错误")])],1)],1),a("div",{staticStyle:{width:"500px",margin:"10px","font-size":"12px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"daterange",placement:"bottom-end",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:t.search}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"619f5595",null);e.default=o.exports},1775:function(t,e,a){"use strict";a.r(e);var i={name:"DataUdpMap",components:{jk_tabs:a("25b1").a},data:function(){return{indeterminate:!1,checkAll:!1,isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,checkAllGroup:[],hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],List:[{value:"all",label:"所有"},{value:"user",label:"用户与登录设置"},{value:"interface",label:"接口配置"},{value:"gateway",label:"网关配置"},{value:"route",label:"静态路由"},{value:"availability",label:"高可用性"},{value:"control",label:"访问控制"},{value:"ftp",label:"FTP服务"},{value:"smb",label:"SMB服务"},{value:"nfs",label:"NFS服务"},{value:"data",label:"数据资源"},{value:"business",label:"业务与服务"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"UDP映射服务",to:"/data/udpMap"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["用户管理","登录管理","静态路由","虚拟IPS","访问控制","强制访问控制","FTP服务","SMB服务","数据资源","业务与服务"]:this.checkAllGroup=[]},checkAllGroupChange:function(t){10===t.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Select",{staticStyle:{width:"150px","margin-left":"15px"},model:{value:t.aa,callback:function(e){t.aa=e},expression:"aa"}},[a("Option",{attrs:{label:"TCP",value:"tcp"}}),a("Option",{attrs:{label:"UDP",value:"udp"}}),a("Option",{attrs:{label:"ICMP",value:"icmp"}})],1)],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:"admin"}})],1)])])]),a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px"}},[this._v("服务名称:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px"}},[this._v("任务sid:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px"}},[this._v("网闸地址:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px"}},[this._v("转发端口:")])])}],!1,null,"e8d11f98",null);e.default=o.exports},1842:function(t,e,a){},1943:function(t,e,a){"use strict";a("2d0b")},"1a1f":function(t,e,a){},"1ae5":function(t,e,a){"use strict";a.r(e);var i={name:"LogFileMonitor",components:{jk_tabs:a("25b1").a},data:function(){var t=this;return{searchLoading:!1,operation:"",time:[],operations:"",checkData:[{val:"1",name:"失败"},{val:"0",name:"成功"}],typecheckData:[{val:"1",name:"告警"},{val:"0",name:"常规"}],operationResult:"",type:"",form:{id:"",message:"",operation:"",operation_result:"",create_time:"",type:"",source:""},columns:[{title:"序号",key:"",align:"center",width:60,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"日志内容",key:"message",align:"center",render:function(e,a){var i=a.row.message;return null!=a.row.message&&(i=a.row.message.length>15?a.row.message.slice(0,14)+"...":a.row.message),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.message)])])}},{title:"操作项",key:"operation",align:"center",render:function(e,a){var i=a.row.operation;return null!=a.row.operation&&(i=a.row.operation.length>15?a.row.operation.slice(0,14)+"...":a.row.operation),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.operation)])])}},{title:"日志类型",key:"type",align:"center",render:function(t,e){return 0==e.row.type?t("div","常规"):t("div","警告")}},{title:"来源",key:"source",align:"center",render:function(t,e){return 0==e.row.source?t("div","内端"):t("div","外端")}},{title:"创建时间",key:"createTime",align:"center",render:function(e,a){return e("div",t.$util.time_format(new Date(a.row.createTime),"yyyy-MM-dd hh:mm:ss"))}},{title:"操作状态",key:"operationResult",align:"center",render:function(t,e){return 0==e.row.operationResult?t("div","成功"):t("div","失败")}}],loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"createTime"},{filed:"",type:"",params:""}],sorts:[{filed:"id",order:!1}]}},links:[{name:"同步通用日志",to:"/logs/LogFileCommond"}]}},mounted:function(){this.showProxy()},methods:{getoperations:function(){var t=this;this.operation||this.$https.fetchGet(this.$api.log.getoperations.url).then((function(e){t.operations=e.data.data})).catch((function(t){}))},showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.findCommonLogs.url,this.page.form,{timeout:3e5}).then((function(e){t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"createTime"},{filed:"",type:"",params:""}],sorts:[{filed:"id",order:!1}]}}},search:function(){var t=this;this.resetFileters(),this.params&&(this.page.form.filters[0].type="equal",this.page.form.filters[0].filed="operation",this.page.form.filters[0].params=this.operation),this.status&&(this.page.form.filters[1].type="equal",this.page.form.filters[1].filed="operationResult",this.page.form.filters[1].params=this.operationResult),this.taskName&&(this.page.form.filters[3].type="equal",this.page.form.filters[3].filed="type",this.page.form.filters[3].params=this.type),""!=this.time[0]&&(this.time[0]=this.$util.time_format(new Date(this.time[0]),"yyyy-MM-dd hh:mm:ss"),this.time[1]=this.$util.time_format(new Date(this.time[1]),"yyyy-MM-dd hh:mm:ss"),this.page.form.filters[2].type="between",this.page.form.filters[2].filed="createTime",this.page.form.filters[2].params=this.time),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.findCommonLogs.url,this.page.form,{timeout:3e5}).then((function(e){t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},statusChange:function(t){},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部文件同步操作日志</p>",onOk:function(){t.$https.fetchPost(t.$api.log.delAllFileOperStatusLogs.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=(a("6502"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:function(e){return t.clearAll()}}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px",display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{width:"28%",float:"left","font-size":"12px"}},[t._v("\n                            操作项：\n                        "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.getoperations()}},model:{value:t.operation,callback:function(e){t.operation=e},expression:"operation"}},t._l(t.operations,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",float:"left","font-size":"12px"}},[t._v("\n                        日志类型：\n                        "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typecheckData,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("div",{staticStyle:{width:"28%",float:"left","font-size":"12px"}},[t._v("\n                        操作状态：\n                        "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:t.operationResult,callback:function(e){t.operationResult=e},expression:"operationResult"}},t._l(t.checkData,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("div",{staticStyle:{width:"1000px","font-size":"12px"}},[a("div",{staticStyle:{display:"flex",width:"100%","align-items":"center","margin-top":"15px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"300px",margin:"5px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),a("Button",{staticStyle:{margin:"5px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"ce5c57ae",null);e.default=o.exports},"1cd8":function(t,e,a){"use strict";a.r(e),a("9a33");var i=a("25b1"),s={name:"LocalUdpAdd",components:{},inject:["reload"],data:function(){return{typeList:[],platForm:{show:!1,form:{id:null,gapip:"",targetport:"",gapport:"",snat:!0,disabled:!0},rules:{gapip:[{required:!0,message:"不能为空",trigger:"blur"}]}}}},computed:{},mounted:function(){this.getips()},methods:{getips:function(){var t=this;this.$https.fetchGet(this.$api.local.findUdpIP.url).then((function(e){t.typeList=e.data.data})).catch((function(t){}))},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e)if(t.$util.testportnumber(t.platForm.form.gapport)){var a=t.platForm.form.gapip.substring(t.platForm.form.gapip.lastIndexOf(":")+1),i={id:null,gapip:"",targetport:"",gapport:"",snat:!0,disabled:!0};i.gapip=a,i.gapport=t.platForm.form.gapport,i.disabled=t.platForm.form.disabled,i.snat=t.platForm.form.snat,t.$https.fetchPost(t.$api.udp.addUdpNat.url,i).then((function(e){200==e.data.status?(t.$Notice.success({title:"添加成功",desc:"修改成功，正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}else t.$Modal.warning({title:"warning",content:"请正确填写转发端口号"})}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n            新增\n        ")]),a("Drawer",{attrs:{title:"UDP协议通信",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{model:t.platForm.form,rules:t.platForm.rules,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用",prop:"disabled"}},[a("Checkbox",{model:{value:t.platForm.form.disabled,callback:function(e){t.$set(t.platForm.form,"disabled",e)},expression:"platForm.form.disabled"}},[t._v("启用此规则")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"网闸地址",prop:"gapip"}},[a("Select",{model:{value:t.platForm.form.gapip,callback:function(e){t.$set(t.platForm.form,"gapip",e)},expression:"platForm.form.gapip"}},t._l(t.typeList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"转发端口",prop:"gapport"}},[a("Input",{model:{value:t.platForm.form.gapport,callback:function(e){t.$set(t.platForm.form,"gapport",e)},expression:"platForm.form.gapport"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用转源",prop:"snat"}},[a("Checkbox",{model:{value:t.platForm.form.snat,callback:function(e){t.$set(t.platForm.form,"snat",e)},expression:"platForm.form.snat"}},[t._v("启用转源")])],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"55b2a237",null).exports,n={name:"LocalUdp",components:{jk_tabs:i.a,udpAdd:r},inject:["reload"],data:function(){return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",key:"id",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"网闸IP",key:"gapip",align:"center"},{title:"转发端口",key:"gapport",align:"center"},{title:"转源",key:"snat",align:"center"},{title:"启用",key:"disabled",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],playshow:!0,play:!1,platForm:{show:!1,form:{id:null,gapip:null,gapport:null,snat:!0,disabled:!0,targetport:null},rules:{}},data1:[],data3:[],links:[{name:"访问控制",to:"/local/acl"},{name:"UDP协议通信",to:"/local/udp"},{name:"抗攻击",to:"/local/antiAttack"}],typeList:[]}},mounted:function(){this.getyesnoinfo(),this.test(),this.getips()},methods:{changepage:function(t){},getips:function(){var t=this;this.$https.fetchGet(this.$api.local.findUdpIP.url).then((function(e){var a=[];for(var i in e.data.data){var s={};s.name=e.data.data[i],s.val=e.data.data[i].split(":")[1],a.push(s)}t.typeList=a})).catch((function(t){}))},getyesnoinfo:function(){var t=this;this.$https.fetchGet(this.$api.local.findDisableFilter.url).then((function(e){200==e.data.status&&("yes"==e.data.data?t.play=!0:t.play=!1)})).catch((function(e){t.$Notice.error({title:"请求数据失败",desc:e,duration:2.5})}))},test:function(){var t=this;this.$https.fetchGet(this.$api.udp.findUdpNatInfo.url).then((function(e){for(var a in t.data1=e.data.data,t.data3=t._.cloneDeep(e.data.data),t.dataCount=e.data.data.length,t.data1)"true"==t.data1[a].disabled?t.data1[a].disabled="启用中":t.data1[a].disabled="已禁用";for(var i in t.data1)"true"==t.data1[i].snat?t.data1[i].snat="是":t.data1[i].snat="否"}))},update:function(t){this.platForm.show=!0,this.platForm.form.id=this.data1[t].id,this.platForm.form.gapip=this.data1[t].gapip,this.platForm.form.gapport=this.data1[t].gapport,this.platForm.form.targetport=this.data1[t].targetport,"true"==this.data3[t].disabled?this.platForm.form.disabled=!0:this.platForm.form.disabled=!1,"是"==this.data1[t].snat?this.platForm.form.snat=!0:this.platForm.form.snat=!1},restPlatForm:function(){this.$refs.plat_form.resetFields()},add:function(){var t=this;this.playshow=!1,1==this.play?this.$https.fetchGet(this.$api.local.startDisableFilter.url,{string:"yes"}).then((function(e){200==e.data.status?(t.$Message.info("启用成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"启用失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})):this.$https.fetchGet(this.$api.local.stopDisableFilter.url,{string:"no"}).then((function(e){200==e.data.status?(t.$Message.info("启停成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"启停失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e){var a=t.platForm.form.gapip.substring(t.platForm.form.gapip.lastIndexOf(":")+1),i={id:"",gapip:"",targetport:"",gapport:"",snat:!0,disabled:!0};i.gapip=a,i.id=t.platForm.form.id,i.gapport=t.platForm.form.gapport,i.disabled=t.platForm.form.disabled,i.snat=t.platForm.form.snat,t.$https.fetchPost(t.$api.udp.updateUdpNat.url,i).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",desc:"修改成功，正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}))},delDb:function(t){var e=this;this.$Modal.confirm({title:"删除规则",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.udp.delUdpNat.url,{id:t}).then((function(t){200==t.data.status?setTimeout((function(){e.reload(),e.$Modal.remove()}),250):(e.$Modal.remove(),e.$Notice.error({title:"规则删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})}},watch:{play:function(t,e){this.playshow=!0}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("udpAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Checkbox",{model:{value:t.play,callback:function(e){t.play=e},expression:"play"}},[t._v("启用")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.playshow,expression:"playshow"}],attrs:{size:"small",type:"primary"},on:{click:t.add}},[t._v("确认")]),a("Table",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.update(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.delDb(i.id)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"UDP通信协议",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{model:t.platForm.form,rules:t.platForm.rules,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用",prop:"subnet"}},[a("Checkbox",{model:{value:t.platForm.form.disabled,callback:function(e){t.$set(t.platForm.form,"disabled",e)},expression:"platForm.form.disabled"}},[t._v("启用此规则")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"网闸IP",prop:"gapip"}},[a("Select",{model:{value:t.platForm.form.gapip,callback:function(e){t.$set(t.platForm.form,"gapip",e)},expression:"platForm.form.gapip"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"端口",prop:"gapport"}},[a("Input",{model:{value:t.platForm.form.gapport,callback:function(e){t.$set(t.platForm.form,"gapport",e)},expression:"platForm.form.gapport"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用转源",prop:"subnet"}},[a("Checkbox",{model:{value:t.platForm.form.snat,callback:function(e){t.$set(t.platForm.form,"snat",e)},expression:"platForm.form.snat"}},[t._v("启用此规则")])],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"888db06e",null);e.default=l.exports},"1e64":function(t,e,a){"use strict";a("45db")},"1e77":function(t,e,a){"use strict";a.r(e);var i=(a("fc05"),a("2c07")),s=Object(i.a)({name:"Virus",components:{},data:function(){return{IsRouterAlive:!0}},provide:function(){return{reload:this.reload}},mounted:function(){},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n            病毒库管理\n        ")])])}],!1,null,"12b857c4",null);e.default=s.exports},"1f22":function(t,e,a){"use strict";a("8d82")},"1f24":function(t,e,a){},"1ffa":function(t,e,a){"use strict";a("8913")},2056:function(t,e,a){},2139:function(t,e,a){"use strict";a("4bde")},2516:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s=(a("cc57"),{name:"LocalAclAdd",components:{},inject:["reload"],data:function(){var t=this;return{platForm:{show:!1,form:{type:"ACCEPT",protocol:"tcp",srctype:"any",srcip:"",srcport:"",dsttype:"any",dstip:"",dstport:"",disabled:!0},rules:{srcip:[{validator:function(e,a,i){"single"==t.platForm.form.srctype?t.$util.queryDevIP4(a)||t.$util.queryDevIP6(a)?i():i(new Error("ip地址格式不正确")):i()}}],dstip:[{validator:function(e,a,i){"single"==t.platForm.form.dsttype?t.$util.queryDevIP4(a)||t.$util.queryDevIP6(a)?i():i(new Error("ip地址格式不正确")):i()}}],dstport:[{validator:function(e,a,i){t.$util.testportnumber(a)?i():(""!=a&&"*"!=a||i(),i(new Error("端口格式不正确")))}}],srcport:[{validator:function(e,a,i){t.$util.testportnumber(a)?i():(""!=a&&"*"!=a||i(),i(new Error("端口格式不正确")))}}]}},any:!1,any1:!1,icmp:!0,resourceList:[{name:"UDP",val:"udp"},{name:"TCP",val:"tcp"},{name:"ICMP",val:"icmp"}],resourceList1:[{name:"any",val:"any"},{name:"单个主机",val:"single"}],resourceList2:[{name:"any",val:"any"},{name:"单个主机",val:"single"}],typeList:[{name:"ACCEPT",val:"ACCEPT"},{name:"DROP",val:"DROP"},{name:"REJECT",val:"REJECT"}],transferdirectList:[{title:"1",name:"单入"},{title:"2",name:"单出"},{title:"3",name:"双向"}],baseprotocolList:[{title:"0001",name:"TCP/IP"},{title:"0002",name:"SSL"},{title:"0003",name:"IPSEC"},{title:"0004",name:"FTP"},{title:"0005",name:"H323"},{title:"0006",name:"H320"},{title:"0007",name:"SNMP"},{title:"0008",name:"UDP"},{title:"0009",name:"其他"}],flagList:[{title:"1",name:"是"},{title:"0",name:"否"}],passFileName:"",linkimageFileName:"",innerlinkList:[],directoryList:[],levelList:[{name:"1"},{name:"2"}],codingList:[{name:"UTF-8"}],operationList:[{name:"删除"},{name:"复制"},{name:"备份"}],idplatformList:[{name:"不审计"},{name:"白名单"},{name:"黑名单"}],filterTypeList:[{name:"白名单"},{name:"黑名单"}],virusList:[{name:"删除"},{name:"隔离"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],interfaceList:[{name:"eth2"}]}},computed:{},mounted:function(){},methods:{checkType:function(t){this.$refs.plat_form.resetFields(),this.any=!1,this.any1=!1,this.platForm.form.protocol=t,this.icmp="icmp"!=t},checkType1:function(t){this.platForm.form.srcip="",this.platForm.form.srcport="",this.platForm.form.srctype=t,"any"==t?this.any=!1:"single"==t&&(this.any=!0)},checkType2:function(t){this.platForm.form.dstip="",this.platForm.form.dstport="",this.platForm.form.dsttype=t,"any"==t?this.any1=!1:"single"==t&&(this.any1=!0)},getPassTime:function(t){this.platForm.form.passtime=t},getRegTime:function(t){this.platForm.form.regtime=t},handlePassfile:function(t){return this.passFileName=t.name,this.platForm.form.passFile=t,!1},handleLinkimage:function(t){return this.linkimageFileName=t.name,this.platForm.form.linkimageFile=t,!1},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e)if("single"==t.platForm.form.srctype&&null==t.platForm.form.srcip||"single"==t.platForm.form.dsttype&&null==t.platForm.form.dstip)t.$Modal.warning({title:"warning",content:"当类型为单个主机时地址不能为空"});else{var a={};Object.assign(a,t.platForm.form),""==t.platForm.form.dstip&&(a.dstip="*"),""==t.platForm.form.dstport&&(a.dstport="*"),""==t.platForm.form.srcip&&(a.srcip="*"),""==t.platForm.form.srcport&&(a.srcport="*"),t.$https.fetchPost(t.$api.filter.addFilter.url,a).then((function(e){200==e.data.status?(t.$Notice.success({title:"添加成功",desc:"修改成功，正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}))},restPlatForm:function(){this.$refs.plat_form.resetFields(),"icmp"==this.platForm.form.resourceList?this.icmp=!1:this.icmp=!0}}}),o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"访问控制",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"动作",prop:"type"}},[a("Select",{model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用",prop:"disabled"}},[a("Checkbox",{model:{value:t.platForm.form.disabled,callback:function(e){t.$set(t.platForm.form,"disabled",e)},expression:"platForm.form.disabled"}},[t._v("启用此规则")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"协议",prop:"protocol1"}},[a("Select",{model:{value:t.platForm.form.protocol,callback:function(e){t.$set(t.platForm.form,"protocol",e)},expression:"platForm.form.protocol"}},t._l(t.resourceList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"源类型",prop:"srctype"}},[a("Select",{model:{value:t.platForm.form.srctype,callback:function(e){t.$set(t.platForm.form,"srctype",e)},expression:"platForm.form.srctype"}},t._l(t.resourceList1,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType1(e.val)}}},[t._v(t._s(e.name))])})),1),a("br")],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.any,expression:"any"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"源地址",prop:"srcip"}},[a("Input",{model:{value:t.platForm.form.srcip,callback:function(e){t.$set(t.platForm.form,"srcip",e)},expression:"platForm.form.srcip"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.icmp,expression:"icmp"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"源端口",prop:"srcport"}},[a("Input",{model:{value:t.platForm.form.srcport,callback:function(e){t.$set(t.platForm.form,"srcport",e)},expression:"platForm.form.srcport"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"本地服务",prop:"dsttype"}},[a("Select",{model:{value:t.platForm.form.dsttype,callback:function(e){t.$set(t.platForm.form,"dsttype",e)},expression:"platForm.form.dsttype"}},t._l(t.resourceList2,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType2(e.val)}}},[t._v(t._s(e.name))])})),1),a("br")],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.any1,expression:"any1"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"本地地址",prop:"dstip"}},[a("Input",{model:{value:t.platForm.form.dstip,callback:function(e){t.$set(t.platForm.form,"dstip",e)},expression:"platForm.form.dstip"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.icmp,expression:"icmp"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"本地端口",prop:"dstport"}},[a("Input",{model:{value:t.platForm.form.dstport,callback:function(e){t.$set(t.platForm.form,"dstport",e)},expression:"platForm.form.dstport"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")])],1)],1)],1)],1)}),[],!1,null,"554b1012",null).exports,n={name:"LocalAcl",components:{jk_tabs:i.a,aclAdd:r},inject:["reload"],data:function(){var t=this;return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"动作",key:"type",align:"center"},{title:"协议",key:"protocol",align:"center"},{title:"源IP",key:"srcip",align:"center"},{title:"源端口",key:"srcport",align:"center"},{title:"本地服务的IP地址",key:"dstip",width:150,align:"center"},{title:"本地服务端口号",key:"dstport",width:150,align:"center"},{title:"启用",key:"disabled",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],playshow:!0,play:!1,data1:[],data3:[],any:!1,any1:!1,icmp:!0,resourceList:[{name:"UDP",val:"udp"},{name:"TCP",val:"tcp"},{name:"ICMP",val:"icmp"}],resourceList1:[{name:"any",val:"any"},{name:"单个主机",val:"single"}],resourceList2:[{name:"any",val:"any"},{name:"单个主机",val:"single"}],typeList:[{name:"ACCEPT",val:"ACCEPT"},{name:"DROP",val:"DROP"},{name:"REJECT",val:"REJECT"}],platForm:{show:!1,form:{id:null,type:null,protocol:null,srctype:null,srcip:null,srcport:null,dsttype:null,dstip:null,dstport:null,disabled:!0},rules:{srcip:[{validator:function(e,a,i){"single"==t.platForm.form.srctype?t.$util.queryDevIP4(a)||t.$util.queryDevIP6(a)?i():i(new Error("ip地址格式不正确")):i()}}],dstip:[{validator:function(e,a,i){"single"==t.platForm.form.dsttype?t.$util.queryDevIP4(a)||t.$util.queryDevIP6(a)?i():i(new Error("ip地址格式不正确")):i()}}],dstport:[{validator:function(e,a,i){t.$util.testportnumber(a)?i():(""!=a&&"*"!=a||i(),i(new Error("端口格式不正确")))}}],srcport:[{validator:function(e,a,i){t.$util.testportnumber(a)?i():(""!=a&&"*"!=a||i(),i(new Error("端口格式不正确")))}}]}},links:[{name:"访问控制",to:"/local/acl"},{name:"UDP协议通信",to:"/local/udp"},{name:"抗攻击",to:"/local/antiAttack"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},mounted:function(){this.test(),this.getyesnoinfo()},methods:{changepage:function(t){},getyesnoinfo:function(){var t=this;this.$https.fetchGet(this.$api.local.findDisableFilter.url).then((function(e){200==e.data.status&&("yes"==e.data.data?t.play=!0:t.play=!1)})).catch((function(e){t.$Notice.error({title:"请求数据失败",desc:e,duration:2.5})}))},test:function(){var t=this;this.$https.fetchGet(this.$api.filter.findFilterInfo.url).then((function(e){for(var a in t.data1=e.data.data,t.dataCount=e.data.data.length,t.data1)"true"==t.data1[a].disabled?t.data1[a].disabled="启用中":t.data1[a].disabled="已禁用"}))},restPlatForm:function(){this.$refs.plat_form.resetFields()},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e)if("single"==t.platForm.form.srctype&&null==t.platForm.form.srcip||"single"==t.platForm.form.dsttype&&null==t.platForm.form.dstip)t.$Modal.warning({title:"warning",content:"当类型为单个主机时地址不能为空"});else{var a={};Object.assign(a,t.platForm.form),""==t.platForm.form.dstip&&(a.dstip="*"),""==t.platForm.form.dstport&&(a.dstport="*"),""==t.platForm.form.srcip&&(a.srcip="*"),""==t.platForm.form.srcport&&(a.srcport="*"),t.$https.fetchPost(t.$api.filter.updateFilter.url,a).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",desc:"修改成功，正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}))},add:function(){var t=this;this.playshow=!1,1==this.play?this.$https.fetchGet(this.$api.local.startDisableFilter.url,{string:"yes"}).then((function(e){200==e.data.status?(t.$Message.info("启用成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"启用失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})):this.$https.fetchGet(this.$api.local.stopDisableFilter.url,{string:"no"}).then((function(e){200==e.data.status?(t.$Message.info("启停成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"启停失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},checkType:function(t){this.platForm.form.srcip="",this.platForm.form.srcport="",this.platForm.form.dstip="",this.platForm.form.dstport="",this.any=!1,this.any1=!1,this.platForm.form.srctype="any",this.platForm.form.dsttype="any",this.icmp="icmp"!=t},checkType1:function(t){this.platForm.form.srcip="",this.platForm.form.srcport="",this.platForm.form.srctype=t,"any"==t?this.any=!1:"single"==t&&(this.any=!0)},checkType2:function(t){this.platForm.form.dstip="",this.platForm.form.dstport="",this.platForm.form.dsttype=t,"any"==t?this.any1=!1:"single"==t&&(this.any1=!0)},delDb:function(t){var e=this;this.$Modal.confirm({title:"删除访问规则",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.filter.delFilter.url,{id:t}).then((function(t){200==t.data.status?(e.$Message.info("删除成功"),setTimeout((function(){e.$Modal.remove(),e.reload()}),250)):(e.$Modal.remove(),e.$Notice.error({title:"访问规则删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},update:function(t){this.platForm.show=!0,this.platForm.form.id=this.data1[t].id,this.platForm.form.type=this.data1[t].type,this.platForm.form.protocol=this.data1[t].protocol,this.platForm.form.srctype=this.data1[t].srctype,this.platForm.form.srcip=this.data1[t].srcip,this.platForm.form.srcport=this.data1[t].srcport,this.platForm.form.dsttype=this.data1[t].dsttype,this.platForm.form.dstip=this.data1[t].dstip,this.platForm.form.dstport=this.data1[t].dstport,"*"==this.platForm.form.dstip&&(this.platForm.form.dstip=""),"*"==this.platForm.form.dstport&&(this.platForm.form.dstport=""),"*"==this.platForm.form.srcip&&(this.platForm.form.srcip=""),"*"==this.platForm.form.srcport&&(this.platForm.form.srcport=""),"启用中"==this.data1[t].disabled?this.platForm.form.disabled=!0:this.platForm.form.disabled=!1,"icmp"==this.data1[t].protocol?this.icmp=!1:this.icmp=!0,"any"==this.data1[t].srctype?this.any=!1:this.any=!0,"any"==this.data1[t].dsttype?this.any1=!1:this.any1=!0}},watch:{play:function(t,e){this.playshow=!0}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("aclAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Checkbox",{model:{value:t.play,callback:function(e){t.play=e},expression:"play"}},[t._v("启用")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.playshow,expression:"playshow"}],attrs:{size:"small",type:"primary"},on:{click:t.add}},[t._v("确认")]),a("Table",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.update(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.delDb(i.id)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"访问控制",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"动作",prop:"type1"}},[a("Select",{model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用",prop:"disabled1"}},[a("Checkbox",{model:{value:t.platForm.form.disabled,callback:function(e){t.$set(t.platForm.form,"disabled",e)},expression:"platForm.form.disabled"}},[t._v("启用此规则")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"协议",prop:"protocol"}},[a("Select",{model:{value:t.platForm.form.protocol,callback:function(e){t.$set(t.platForm.form,"protocol",e)},expression:"platForm.form.protocol"}},t._l(t.resourceList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"源类型",prop:"srctype"}},[a("Select",{model:{value:t.platForm.form.srctype,callback:function(e){t.$set(t.platForm.form,"srctype",e)},expression:"platForm.form.srctype"}},t._l(t.resourceList1,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType1(e.val)}}},[t._v(t._s(e.name))])})),1),a("br")],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.any,expression:"any"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"源地址",prop:"srcip"}},[a("Input",{model:{value:t.platForm.form.srcip,callback:function(e){t.$set(t.platForm.form,"srcip",e)},expression:"platForm.form.srcip"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.icmp,expression:"icmp"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"源端口",prop:"srcport"}},[a("Input",{model:{value:t.platForm.form.srcport,callback:function(e){t.$set(t.platForm.form,"srcport",e)},expression:"platForm.form.srcport"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"本地服务",prop:"dsttype"}},[a("Select",{model:{value:t.platForm.form.dsttype,callback:function(e){t.$set(t.platForm.form,"dsttype",e)},expression:"platForm.form.dsttype"}},t._l(t.resourceList2,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType2(e.val)}}},[t._v(t._s(e.name))])})),1),a("br")],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.any1,expression:"any1"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"本地地址",prop:"dstip"}},[a("Input",{model:{value:t.platForm.form.dstip,callback:function(e){t.$set(t.platForm.form,"dstip",e)},expression:"platForm.form.dstip"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.icmp,expression:"icmp"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"本地端口",prop:"dstport"}},[a("Input",{model:{value:t.platForm.form.dstport,callback:function(e){t.$set(t.platForm.form,"dstport",e)},expression:"platForm.form.dstport"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")])],1)],1)],1)],1)}),[],!1,null,"57aaeb5c",null);e.default=l.exports},"25b1":function(t,e,a){"use strict";var i={name:"JkTabs",props:{links:{type:Array}},data:function(){return{test:[{name:"报表统计",to:"log"},{name:"历史日志",child:[{name:"视频业务",to:"log"},{name:"结构化同步",to:"log"},{name:"非结构同步",to:"log"}]}]}}},s=(a("893a"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c_tabs"},[t._l(t.links,(function(e,i){return[e.child?t._e():a("router-link",{attrs:{to:e.to}},[t._v(t._s(e.name))]),e.child?a("Dropdown",[a("router-link",{staticClass:"tab_dir",attrs:{to:e.to}},[t._v(t._s(e.name)+"\n                "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{staticStyle:{padding:"20px"},attrs:{slot:"list"},slot:"list"},[t._l(e.child,(function(i,s){return[a("router-link",{attrs:{to:i.to}},[t._v(t._s(i.name))]),s<e.child.length-1?[t._v("|")]:t._e()]}))],2)],1):t._e(),i<t.links.length-1?[t._v("|")]:t._e()]}))],2)}),[],!1,null,"47a61492",null);e.a=o.exports},"26d5":function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"LocalSmbAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{state:"stop",username:null,password:null,path:null,browseable:"true",writable:"true"},rules:{username:[{required:!0,max:30,pattern:/^[a-zA-Z0-9_\s]*$/,message:"用户名请输入数字或英文或下划线",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],password:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:20,message:"长度不超过20",trigger:"blur"},{min:6,message:"长度请大于6",trigger:"blur"}]}},protect:"SMB"}},computed:{},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.platForm.form.path="/home/"+t.platForm.form.username,t.$https.fetchPost(t.$api.local.addSam.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"Smb服务添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"Smb服务添加失败",desc:"错误代码："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"本地SMB服务",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"协议",prop:"protect"}},[a("Input",{attrs:{disabled:""},model:{value:t.protect,callback:function(e){t.protect=e},expression:"protect"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"7361f2df",null).exports,n={name:"LocalSmb",components:{jk_tabs:i.a,smbAdd:r},inject:["reload"],data:function(){return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",key:"id",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"用户名",key:"username",align:"center"},{title:"SMB目录",key:"path",align:"center"},{title:"状态",slot:"state",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"SMB服务",to:"/local/smb"}],modal:{show:!1,form:{state:"",username:"",password:"",path:"",browseable:"true",writable:"true"},rules:{username:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:15,message:"长度不超过15",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],password:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:20,message:"长度不超过20",trigger:"blur"},{min:6,message:"长度请大于6",trigger:"blur"}]}},data1:[],data3:[],protect:"SMB"}},mounted:function(){this.test()},methods:{changepage:function(t){},test:function(){var t=this;this.$https.fetchGet(this.$api.local.samInfo.url).then((function(e){for(var a in t.data1=e.data.data,t.dataCount=e.data.data.length,t.data3=t._.cloneDeep(e.data.data),t.data1)"stop"==t.data1[a].state?(t.data1[a].state="已禁用",t.data1[a].color="red",t.data1[a].iconName="ios-pause"):(t.data1[a].state="启用中",t.data1[a].color="green",t.data1[a].iconName="ios-play")})).catch((function(t){}))},deleteFtp:function(t,e){var a=this;"start"!=this.data3[e].state?this.$Modal.confirm({title:"删除FTP服务",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.local.delSam.url,{id:t}).then((function(t){200==t.data.status?setTimeout((function(){a.$Modal.remove(),a.reload()}),250):(a.$Modal.remove(),a.$Notice.error({title:"Smb服务删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}}):this.$Notice.error({title:"启用中无法修改",duration:2.5})},updateState:function(t){var e=this;"stop"==this.data3[t].state?(this.stateTitle="启用服务",this.stateContent="确定要启用此服务吗?",this.modal.form.state="start",this.api=this.$api.local.startSam.url):(this.stateTitle="禁用服务",this.stateContent="确定要禁用此服务吗?",this.modal.form.state="stop",this.api=this.$api.local.stopSam.url),this.modal.form.username=this.data1[t].username,this.modal.form.password=this.data1[t].password,this.modal.form.path=this.data1[t].path,this.modal.form.id=this.data1[t].id,this.modal.form.browseable=this.data1[t].browseable,this.modal.form.writable=this.data1[t].writable,this.$Modal.confirm({title:this.stateTitle,content:"<p>"+this.stateContent+"</p>",loading:!0,onOk:function(){e.$https.fetchPost(e.api,e.modal.form).then((function(t){200==t.data.status?(e.$Notice.success({title:"启停成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){e.$Modal.remove(),e.reload()}),250)):(e.$Modal.remove(),e.$Notice.error({title:"启停失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtp:function(t){"start"!=this.data3[t].state?(this.modal.show=!0,this.modal.form.id=this.data1[t].id,this.modal.form.username=this.data1[t].username,this.modal.form.password=this.data1[t].password,this.modal.form.path=this.data1[t].path,this.modal.form.state=this.data1[t].state,this.modal.form.browseable=this.data1[t].browseable,this.modal.form.writable=this.data1[t].writable,"stop"==this.data3[t].state?this.modal.form.state="stop":this.modal.form.state="start","true"==this.data1[t].browseable?this.modal.form.browseable=!0:this.modal.form.browseable=!1,"true"==this.data1[t].writable?this.modal.form.writable=!0:this.modal.form.writable=!1):this.$Notice.error({title:"启用中无法修改",duration:2.5})},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&(t.modal.form.path="/home/"+t.modal.form.username,t.$https.fetchPost(t.$api.local.updateSam.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"Smb服务修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"Smb服务修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("smbAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{icon:t.data1[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data1[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtp(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtp(i.id,s)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"本地SMB服务",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.modal.form.username,callback:function(e){t.$set(t.modal.form,"username",e)},expression:"modal.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.modal.form.password,callback:function(e){t.$set(t.modal.form,"password",e)},expression:"modal.form.password"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"协议",prop:"protect"}},[a("Input",{attrs:{disabled:""},model:{value:t.protect,callback:function(e){t.protect=e},expression:"protect"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"21f695c2",null);e.default=l.exports},"29ef":function(t,e,a){},"2b44":function(t,e,a){},"2ba7":function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s=(a("cc57"),{name:"LocalSFtpAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{username:null,password:null,path:null,state:"stop"},rules:{username:[{required:!0,max:30,pattern:/^[a-zA-Z0-9_\s]*$/,message:"用户名请输入数字或英文或下划线",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],password:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:20,message:"长度不超过20",trigger:"blur"},{min:6,message:"长度请大于6",trigger:"blur"}]}},transferdirectList:[{title:"1",name:"单入"},{title:"2",name:"单出"},{title:"3",name:"双向"}],baseprotocolList:[{title:"0001",name:"TCP/IP"},{title:"0002",name:"SSL"},{title:"0003",name:"IPSEC"},{title:"0004",name:"FTP"},{title:"0005",name:"H323"},{title:"0006",name:"H320"},{title:"0007",name:"SNMP"},{title:"0008",name:"UDP"},{title:"0009",name:"其他"}],flagList:[{title:"1",name:"是"},{title:"0",name:"否"}],passFileName:"",linkimageFileName:"",innerlinkList:[],resourceList:[{name:"本地FTP"},{name:"本地SMB"},{name:"本地NFS"},{name:"光碟塔"},{name:"Client"},{name:"认证同步"}],directoryList:[],levelList:[{name:"1"},{name:"2"}],codingList:[{name:"UTF-8"}],operationList:[{name:"删除"},{name:"复制"},{name:"备份"}],idplatformList:[{name:"不审计"},{name:"白名单"},{name:"黑名单"}],filterTypeList:[{name:"白名单"},{name:"黑名单"}],virusList:[{name:"删除"},{name:"隔离"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],interfaceList:[{name:"eth2"}]}},computed:{},methods:{getPassTime:function(t){this.platForm.form.passtime=t},getRegTime:function(t){this.platForm.form.regtime=t},handlePassfile:function(t){return this.passFileName=t.name,this.platForm.form.passFile=t,!1},handleLinkimage:function(t){return this.linkimageFileName=t.name,this.platForm.form.linkimageFile=t,!1},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.platForm.form.path="/home/local/sftp/"+t.platForm.form.username,t.$https.fetchPost(t.$api.local.addSftp.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"SFTP服务添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"SFTP服务添加失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}}),o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增服务\n    ")]),a("Drawer",{attrs:{title:"本地SFTP服务",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"fb121478",null).exports,n={name:"LocalSFtp",components:{jk_tabs:i.a,sftpAdd:r},inject:["reload"],data:function(){return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",key:"id",align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"用户名",key:"username",align:"center"},{title:"SFTP目录",key:"path",align:"center"},{title:"状态",slot:"state",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],modal:{show:!1,form:{username:null,password:null,path:null,state:null},rules:{username:[{required:!0,max:30,pattern:/^[a-zA-Z0-9_\s]*$/,message:"用户名请输入数字或英文或下划线",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],password:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:20,message:"长度不超过20",trigger:"blur"},{min:6,message:"长度请大于6",trigger:"blur"}]}},data1:[],links:[{name:"SFTP服务",to:"/local/sftp"}]}},mounted:function(){this.test()},methods:{changepage:function(t){},test:function(){var t=this;this.$https.fetchGet(this.$api.local.findSftp.url).then((function(e){for(var a in t.data1=e.data.data,t.dataCount=e.data.data.length,t.data3=t._.cloneDeep(e.data.data),t.data1)"stop"==t.data1[a].state?(t.data1[a].state="已禁用",t.data1[a].color="red",t.data1[a].iconName="ios-pause"):(t.data1[a].state="启用中",t.data1[a].color="green",t.data1[a].iconName="ios-play")})).catch((function(t){}))},deleteFtp:function(t,e){var a=this;"start"!=this.data3[e].state?this.$Modal.confirm({title:"删除FTP服务",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.local.delSftp.url,{id:t}).then((function(t){200==t.data.status?(a.$Message.info("FTP服务删除成功"),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Notice.error({title:"FTP服务删除失败",desc:"错误："+t.data.desc,duration:5}),a.$Modal.remove())})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}}):this.$Notice.error({title:"启用中无法修改",duration:2.5})},updateState:function(t){var e=this;"stop"==this.data3[t].state?(this.stateTitle="启用服务",this.stateContent="确定要启用此服务吗?",this.modal.form.state="start",this.api=this.$api.local.startSftp.url):(this.stateTitle="禁用服务",this.stateContent="确定要禁用此服务吗?",this.modal.form.state="stop",this.api=this.$api.local.stopSftp.url),this.modal.form.username=this.data1[t].username,this.modal.form.password=this.data1[t].password,this.modal.form.path=this.data1[t].path,this.modal.form.id=this.data1[t].id,this.$Modal.confirm({title:this.stateTitle,content:"<p>"+this.stateContent+"</p>",loading:!0,onOk:function(){e.$https.fetchPost(e.api,e.modal.form).then((function(t){200==t.data.status?(e.$Notice.success({title:"启停成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){e.$Modal.remove(),e.reload()}),250)):(e.$Modal.remove(),e.$Notice.error({title:"启停失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtp:function(t){"start"!=this.data3[t].state?(this.modal.show=!0,this.modal.form.id=this.data1[t].id,this.modal.form.username=this.data1[t].username,this.modal.form.password=this.data1[t].password,this.modal.form.path=this.data1[t].path,this.modal.form.state=this.data1[t].state,"stop"==this.data3[t].state?this.modal.form.state="stop":this.modal.form.state="start"):this.$Notice.error({title:"启用中无法修改",duration:2.5})},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&(t.modal.form.path="/home/local/sftp/"+t.modal.form.username,t.$https.fetchPost(t.$api.local.updateSftp.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"SFTP服务修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"SFTP服务修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("sftpAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{icon:t.data1[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data1[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtp(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtp(i.id,s)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"本地SFTP服务",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.modal.form.username,callback:function(e){t.$set(t.modal.form,"username",e)},expression:"modal.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.modal.form.password,callback:function(e){t.$set(t.modal.form,"password",e)},expression:"modal.form.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"1a4b7415",null);e.default=l.exports},"2d0b":function(t,e,a){},"2f01":function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"NetworkInterfaceAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{dstent:"",subent:24,interface_dev:"eth0",gateway:"",descr:"",state:"禁用"}},testList:[],mackList:[],interfaceList:[{name:"eth0",val:"eth0"},{name:"eth1",val:"eth1"}]}},computed:{},mounted:function(){this.push(),this.test()},methods:{test:function(){var t=this;this.$https.fetchGet(this.$api.network.showIfconfig.url).then((function(e){t.testList=e.data.data})).catch((function(t){}))},showAddDrawer:function(){this.platForm.show=!0},push:function(){for(var t=1;t<=32;t++)this.mackList.push(t)},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.$util.queryDevIP4(t.platForm.form.dstent)||t.$util.queryDevIP6(t.platForm.form.dstent)?t.$util.queryDevIP4(t.platForm.form.gateway)||t.$util.queryDevIP6(t.platForm.form.gateway)?("禁用"==t.platForm.form.state||"disable"==t.platForm.form.state?t.platForm.form.state="disable":t.platForm.form.state="enable",t.$https.fetchPost(t.$api.route.addRoute.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"路由添加成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"路由添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))):t.$Modal.warning({title:"warning",content:"网关请正确填写合法的ipv4或ipv6"}):t.$Modal.warning({title:"warning",content:"目的网络请正确填写合法的ipv4或ipv6"}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields(),this.platForm.form.subent=24,this.platForm.form.dstent=""}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"静态路由",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:t.platForm.form.state,callback:function(e){t.$set(t.platForm.form,"state",e)},expression:"platForm.form.state"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用",disabled:""}})],1)],1),a("FormItem",{staticStyle:{"margin-top":"15px"},attrs:{label:"目的网络",prop:"network"}},[a("Input",{staticStyle:{width:"150px"},model:{value:t.platForm.form.dstent,callback:function(e){t.$set(t.platForm.form,"dstent",e)},expression:"platForm.form.dstent"}}),t._v("/\n                "),a("Select",{staticStyle:{width:"70px"},model:{value:t.platForm.form.subent,callback:function(e){t.$set(t.platForm.form,"subent",e)},expression:"platForm.form.subent"}},t._l(t.mackList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),a("span",{staticStyle:{color:"red"}},[t._v("*请填写一个IPv4或IPv6地址; 目的主机选择掩码32")])],1),a("FormItem",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"接口",prop:"interface_dev"}},[a("Select",{model:{value:t.platForm.form.interface_dev,callback:function(e){t.$set(t.platForm.form,"interface_dev",e)},expression:"platForm.form.interface_dev"}},t._l(t.testList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("span",{staticStyle:{color:"red","margin-left":"150px"}},[t._v("注:网关请填写一个IPv4或IPv6地址")]),a("FormItem",{attrs:{label:"网关",prop:"gateway"}},[a("Input",{model:{value:t.platForm.form.gateway,callback:function(e){t.$set(t.platForm.form,"gateway",e)},expression:"platForm.form.gateway"}})],1),a("FormItem",{attrs:{label:"描述",prop:"descr"}},[a("Input",{model:{value:t.platForm.form.descr,callback:function(e){t.$set(t.platForm.form,"descr",e)},expression:"platForm.form.descr"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"b79eb372",null).exports,n={inject:["reload"],name:"NetworkRoute",components:{jk_tabs:i.a,route_add:r},data:function(){return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"网络",key:"dstent",align:"center"},{title:"子网掩码",key:"subent",align:"center"},{title:"网关",key:"gateway",align:"center"},{title:"接口",key:"interface_dev",align:"center"},{title:"描述",key:"descr",align:"center"},{title:"状态",slot:"state",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],data1:[],data3:[],data2:[{gw:"192.168.104.254",dev:"eth1",dsc:"test Route",state:"start",routeName:"test1",network:"192.168.11.0/24"},{gw:"192.168.104.254",dev:"eth1",dsc:"test Route",state:"stop",routeName:"test2",network:"192.168.12.0/24"}],stateTitle:"",stateContent:"",modal:{show:!1,form:{dstent:"",subent:"",interface_dev:"",gateway:"",descr:"",state:""},rules:{gateway:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}]}},testList:[],mackList:[],interfaceList:[{name:"eth0",val:"eth0"},{name:"eth1",val:"eth1"}],links:[{name:"默认路由",to:"/network/route"}]}},mounted:function(){this.push(),this.showRoute(),this.test()},methods:{changepage:function(t){},test:function(){var t=this;this.$https.fetchGet(this.$api.network.showIfconfig.url).then((function(e){200==e.data.status?t.testList=e.data.data:t.$Message.info("请求数据失败")})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},showRoute:function(){var t=this;this.$https.fetchGet(this.$api.route.showRoute.url).then((function(e){if(200==e.data.status)for(var a in t.dataCount=e.data.data.length,t.data1=e.data.data,Object.assign(t.data3,t.data1),t.data1)"disable"==t.data1[a].state?(t.data1[a].state="已禁用",t.data1[a].color="red",t.data1[a].iconName="ios-pause"):(t.data1[a].state="启用中",t.data1[a].color="green",t.data1[a].iconName="ios-play");else t.$Message.info("请求数据失败")})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},updateState:function(t){var e=this;"已禁用"==this.data3[t].state||"disable"==this.data3[t].state?(this.stateTitle="启用路由",this.stateContent="确定要启用此路由吗?",this.api=this.$api.route.startRoute.url):(this.stateTitle="禁用路由",this.stateContent="确定要禁用此路由吗?",this.api=this.$api.route.stopRoute.url),this.modal.form.dstent=this.data3[t].dstent,this.modal.form.subent=this.data3[t].subent,this.modal.form.interface_dev=this.data3[t].interface_dev,this.modal.form.gateway=this.data3[t].gateway,this.modal.form.descr=this.data3[t].descr,this.modal.form.id=this.data3[t].id,this.$Modal.confirm({title:this.stateTitle,content:"<p>"+this.stateContent+"</p>",onOk:function(){e.$refs.info_form.validate((function(a){a&&("已禁用"==e.data1[t].state||"disable"==e.data1[t].state?e.modal.form.state="enable":e.modal.form.state="disable",e.$https.fetchPost(e.api,e.modal.form).then((function(t){200==t.data.status?(e.$Notice.success({title:"路由配置成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){e.reload()}),250)):(e.$Notice.error({title:"路由配置失败",desc:"错误："+t.data.desc,duration:5}),e.$Modal.remove())})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:5})})))}))}})},deleteRoute:function(t,e){var a=this;"启用中"!=this.data3[e].state&&"enable"!=this.data3[e].state?this.$Modal.confirm({title:"删除路由",content:"<p>当前操作将会导致该静态路由被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.route.delRoute.url,{key:t}).then((function(t){200==t.data.status?setTimeout((function(){a.$Modal.remove(),a.reload()}),250):(a.$Modal.remove(),a.$Notice.error({title:"路由配置删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:5})}))}}):this.$Notice.error({title:"启用中无法修改",duration:2.5})},updateRoute:function(t){"启用中"!=this.data3[t].state&&"enable"!=this.data3[t].state?(this.modal.show=!0,this.modal.form.dstent=this.data3[t].dstent,this.modal.form.subent=parseInt(this.data3[t].subent),this.modal.form.interface_dev=this.data3[t].interface_dev,this.modal.form.gateway=this.data3[t].gateway,this.modal.form.descr=this.data3[t].descr,this.modal.form.state=this.data3[t].state,this.modal.form.id=this.data3[t].id):this.$Notice.error({title:"启用中无法修改",duration:5})},push:function(){for(var t=1;t<=32;t++)this.mackList.push(t)},restForm:function(){this.$refs.info_form.resetFields(),this.modal.form.subent=24,this.modal.form.dstent=""},addForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&(t.modal.form.interface_dev?("已禁用"==t.modal.form.state||"disable"==t.modal.form.state?t.modal.form.state="disable":t.modal.form.state="enable",t.$https.fetchPost(t.$api.route.updateRoute.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"路由配置修改成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"路由配置修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))):t.$Modal.warning({title:"warning",content:"请选择端口号"}))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("route_add",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{icon:t.data1[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data1[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateRoute(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteRoute(i.id,s)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"修改静态路由",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:t.modal.form.state,callback:function(e){t.$set(t.modal.form,"state",e)},expression:"modal.form.state"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用",disabled:""}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"目的网络",prop:"subent"}},[a("Input",{staticStyle:{width:"150px"},model:{value:t.modal.form.dstent,callback:function(e){t.$set(t.modal.form,"dstent",e)},expression:"modal.form.dstent"}}),t._v("/\n                "),a("Select",{staticStyle:{width:"70px"},model:{value:t.modal.form.subent,callback:function(e){t.$set(t.modal.form,"subent",e)},expression:"modal.form.subent"}},t._l(t.mackList,(function(e,i){return a("Option",{key:i,attrs:{value:e}},[t._v(t._s(e))])})),1),a("span",{staticStyle:{color:"red"}},[t._v("* 目的主机选择掩码32")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"接口",prop:"interface_dev1"}},[a("Select",{model:{value:t.modal.form.interface_dev,callback:function(e){t.$set(t.modal.form,"interface_dev",e)},expression:"modal.form.interface_dev"}},t._l(t.testList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"网关",prop:"gateway"}},[a("Input",{model:{value:t.modal.form.gateway,callback:function(e){t.$set(t.modal.form,"gateway",e)},expression:"modal.form.gateway"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"描述",prop:"descr"}},[a("Input",{model:{value:t.modal.form.descr,callback:function(e){t.$set(t.modal.form,"descr",e)},expression:"modal.form.descr"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"7da4f7a0",null);e.default=l.exports},"2f06":function(t,e,a){"use strict";a.r(e);var i={name:"CarpStatus",components:{jk_tabs:a("25b1").a},data:function(){return{data1:[],columns1:[{title:"序号",align:"center",key:""},{title:"双机热备接口",align:"center",key:""},{title:"虚拟IP",align:"center",key:""},{title:"状态",align:"center",key:""}],links:[{name:"双机热备状态",to:"/availability/carpStatus"}],testList:[]}},methods:{getinfo:function(){},getUSBList:function(){var t=this;this.$https.fetchGet(this.$api.network.showEth.url,{name:"common"}).then((function(e){200==e.data.status?t.testList=e.data.data:t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}},mounted:function(){this.getinfo(),this.getUSBList()}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}})],1)]),e("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[e("Table",{attrs:{border:"",columns:this.columns1,data:this.data1}})],1)])])}),[],!1,null,"f10bad78",null);e.default=o.exports},"32a8":function(t,e,a){"use strict";a("007d")},"3aad":function(t,e,a){"use strict";a.r(e);var i={name:"DataComm",components:{jk_tabs:a("25b1").a},data:function(){return{animal:"启用",ishostShow:!1,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"通讯配置",to:"/data/comm"},{name:"同步模式",to:"/data/sync"},{name:"同步锁配置",to:"/data/syncLock"},{name:"同步锁缓存",to:"/data/lockCache"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){var e=t.target.checked;this.ishostShow=!!e},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("RadioGroup",{staticStyle:{"margin-left":"15px"},model:{value:t.animal,callback:function(e){t.animal=e},expression:"animal"}},[a("Radio",{attrs:{label:"启用"}}),a("Radio",{attrs:{label:"禁用"}})],1)],1)])])]),t._m(2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("通讯结束符:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("是否加密:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])}],!1,null,"220a1a49",null);e.default=o.exports},"3abd":function(t,e,a){"use strict";a.r(e),a("f548"),a("163d"),a("9e76"),a("cc57");var i={name:"SysBackupRecovery",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{cycleVal2:10,cycleVal4:10,modal1:!1,downUrl:"",uploadurl:"",List:[{value:10,label:"所有"},{value:0,label:"用户与登录设置"},{value:1,label:"ip配置"},{value:2,label:"网关配置"},{value:3,label:"路由配置"},{value:4,label:"角色"},{value:5,label:"密码长度"},{value:6,label:"本地FTP服务"},{value:7,label:"本地SMB服务"},{value:8,label:"数据资源"},{value:9,label:"业务与服务"}],List1:[{value:10,label:"所有"},{value:0,label:"用户与登录设置"},{value:1,label:"ip配置"},{value:2,label:"网关配置"},{value:3,label:"路由配置"},{value:4,label:"角色"},{value:5,label:"密码长度"},{value:6,label:"本地FTP服务"},{value:7,label:"本地SMB服务"},{value:8,label:"数据资源"},{value:9,label:"业务与服务"}],links:[{name:"备份/恢复",to:"/sys/backupRecovery"}],file:null,loadingStatus:!1,uploaditem:{}}},mounted:function(){this.uploadurl=this.$https.getAxiosBaseurl()+this.$api.user.testRecover.url,this.downUrl=this.$api.user.backup.url},methods:{handleUpload:function(t){var e=t.name;this.file=t,t.size>=20971520&&this.handleMaxSize(t);var a=e.match(/.json$/);return a=null!=a&&""!=a,"application/json"==t.type||a||this.handleFormatError(t),!1},upload:function(t){var e=this,a={};a.code=String(this.cycleVal4),this.$https.fetchGet(this.$api.user.testRecover.url,a).then((function(a){200==a.data.status?e.uploadfile(t):e.$Modal.confirm({title:"您已有一个备份文件存在待备份的目录中",content:"<p>确定要覆盖上一个备份文件吗</p>",onOk:function(){e.uploadfile(t)}})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))},uploadfile:function(t){var e=this,a={};a.file=t,a.code=Number(this.cycleVal4);var i=new FormData;i.append("file",t),i.append("code",Number(this.cycleVal4)),this.$https.fetchPost(this.$api.user.recover.url,i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){200==t.data.status?e.$Notice.success({title:"文件上传成功",desc:"请点击还原配置按钮",duration:2.5}):e.$Notice.error({title:"文件上传失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))},handleMaxSize:function(t){return this.$Notice.error({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 20M。"}),this.file=null,!1},handleSuccess:function(t,e,a){return!1},handleFormatError:function(){this.$Notice.error({title:"文件格式不正确",desc:"请上传json文件",duration:2.5}),this.file=null},downloadbackup:function(){var t=this,e={};e.code=this.cycleVal2,this.$https.fetchGet(this.$api.user.testbackup.url,e).then((function(e){if(200!=e.data.status)t.$Notice.error({title:"文件下载失败",desc:e.data.desc,duration:2.5});else{var a={};a.code=t.cycleVal2;t.$https.fetchGet(t.$api.user.backup.url,a,{responseType:"blob"}).then((function(e){t.download(e)})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},download:function(t){var e=t.headers,a=t.headers["content-disposition"].concat(".json"),i=e["content-type"],s=new Blob([t.data],{type:i}),o=new FileReader;"download"in document.createElement("a")?(o.readAsDataURL(s),o.onload=function(t){var e=document.createElement("a");e.download=a,e.style.display="none",e.href=t.target.result,document.body.appendChild(e),e.click(),document.body.removeChild(e)}):navigator.msSaveBlob(s,a)},backup:function(){var t=this;this.$Modal.confirm({title:"提示",content:'<div>确定要恢复设置吗</div><div style="color:red">注:恢复设置后将会自动重启</div>',onOk:function(){var e="code="+Number(t.cycleVal4);t.$https.fetchPost(t.$api.user.handleRecover.url,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"还原配置成功",desc:"3秒后自动重启系统",duration:2.5}),setTimeout((function(){t.$https.fetchGet(t.$api.sys.reboot.url).then((function(t){})),t.$router.replace("/login")}),3e3)):t.$Notice.error({title:"还原设置失败",desc:e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})},backupdeafult:function(){var t=this;this.$Modal.confirm({title:"提示",content:'<div>确定要恢复出厂设置吗</div><div style="color:red">注:恢复出厂设置后将会自动重启</div>',onOk:function(){t.$https.fetchPost(t.$api.user.restoreFactorySettings.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"恢复出厂配置成功",desc:"3秒后自动重启系统",duration:2.5}),setTimeout((function(){t.$router.replace("/login")}),3e3)):t.$Notice.error({title:"恢复出厂设置失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n           系统配置\n    ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("备份配置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[a("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}}),a("td",[a("p",{staticStyle:{margin:"10px 0 0 10px","font-size":"12px"}},[t._v("点击下载配置按钮进行配置备份,配置为json格式.")]),a("p",{staticStyle:{margin:"10px 0 0 10px","font-size":"12px"}},[t._v("备份区域:"),a("Select",{staticStyle:{width:"130px","margin-left":"15px"},model:{value:t.cycleVal2,callback:function(e){t.cycleVal2=e},expression:"cycleVal2"}},t._l(t.List,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 0 10px 10px"},on:{click:function(e){return t.downloadbackup()}}},[t._v("确认")])])])])])]),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("还原配置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[a("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}}),a("td",[a("p",{staticStyle:{margin:"10px 0 0 10px","font-size":"12px"}},[t._v("打开一个json配置文件并点击下方按钮恢复配置.")]),a("p",{staticStyle:{margin:"10px 0 0 10px","font-size":"12px"}},[t._v("恢复区域:"),a("Select",{staticStyle:{width:"130px","margin-left":"15px"},model:{value:t.cycleVal4,callback:function(e){t.cycleVal4=e},expression:"cycleVal4"}},t._l(t.List1,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),a("div",[a("Upload",{staticStyle:{margin:"7px 0 0 15px",width:"200px",height:"30px"},attrs:{multiple:"",type:"drag",format:["json"],"max-size":20480,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleUpload,action:t.uploadurl,"on-success":t.handleSuccess}},[a("Button",{staticStyle:{width:"100%",height:"100%"},attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击或拖曳选择文件")])],1),null!==t.file?a("div",{staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t._v("您上传的文件名是: "+t._s(t.file.name)+"\n                                        "),a("Button",{staticStyle:{background:"#e86429",color:"white","font-size":"12px"},attrs:{loading:t.loadingStatus},on:{click:function(e){return t.upload(t.file)}}},[t._v(t._s(t.loadingStatus?"Uploading":"点击上传"))])],1):t._e()],1),a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 0 10px 10px"},on:{click:function(e){return t.backup()}}},[t._v("还原配置")]),a("span",{staticStyle:{"margin-left":"10px","font-size":"12px",color:"red"}},[t._v("注意:上传文件成功并点击还原配置按钮后,还需重启系统，还原才会生效.")])])])])])]),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("恢复出厂配置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[a("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}}),a("td",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 0 10px 10px"},on:{click:function(e){return t.backupdeafult()}}},[t._v("恢复出厂配置")]),a("span",{staticStyle:{"margin-left":"10px","font-size":"12px",color:"red"}},[t._v("注意:设备将在恢复出厂配置后自动重启.")])])])])])])])])])}),[],!1,null,"18393f94",null);e.default=o.exports},"3c7f":function(t,e,a){"use strict";a.r(e),a("2b45");var i=a("25b1"),s={name:"LocalMailAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{username:"",password:""},rules:{username:{required:!0,message:"不能为空",trigger:"blur"},password:{required:!0,message:"不能为空",trigger:"blur"}}}}},computed:{},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.mail.addMailUser.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"邮件账号添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"邮件账号添加失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增邮件账号\n    ")]),a("Drawer",{attrs:{title:"本地邮件服务",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"4723d8ff",null).exports,n={inject:["reload"],name:"LocalMail",components:{jk_tabs:i.a,mailAdd:r},data:function(){return{switchloading:!1,columns1:[{title:"序号",key:"id",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"账号",align:"center",key:"username"},{title:"操作",slot:"action",width:150,align:"center"}],action:!1,data1:[],indeterminate:!1,checkAll:!1,checkAllGroup:[],platForm:{form:{ip:"",maxConnection:"",pop3Port:"",smtpPort:"",timeOut:""}},userform:{show:!1,form:{username:"",password:""},rules:{username:{required:!0,message:"不能为空",trigger:"blur"},password:{required:!0,message:"不能为空",trigger:"blur"}}},links:[{name:"邮件服务",to:"/local/mail"}]}},mounted:function(){this.getinfo()},methods:{addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.mail.updateMailUser.url,t.userform.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"邮件账号修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"邮件账号修改失败",desc:"错误："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()},deleteMailUser:function(t,e){var a=this;this.$Modal.confirm({title:"删除邮件用户",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",onOk:function(){a.$https.fetchPost(a.$api.mail.deleteMailUser.url,{id:t}).then((function(t){200==t.data.status?(a.$Message.info("邮件用户删除成功"),setTimeout((function(){a.reload(),a.$Modal.remove()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"邮件用户删除失败",desc:"错误："+t.data.desc,duration:2.5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateMailUser:function(t){this.userform.show=!0,this.userform.form.id=this.data1[t].id,this.userform.form.username=this.data1[t].username,this.userform.form.password=this.data1[t].password},submit:function(){var t=this;this.platForm.form.pop3Port=this.platForm.form.pop3Port.toString(),this.platForm.form.smtpPort=this.platForm.form.smtpPort.toString(),this.$util.queryDevIP4(this.platForm.form.ip)||this.$util.queryDevIP6(this.platForm.form.ip)?this.$util.testportnumber(this.platForm.form.pop3Port)?this.$util.testportnumber(this.platForm.form.smtpPort)?this.platForm.form.maxConnection<1||this.platForm.form.maxConnection>100?this.$Notice.error({title:"修改失败",desc:"最大连接数范围为1-100",duration:2.5}):this.platForm.form.timeOut<1||this.platForm.form.timeOut>200?this.$Notice.error({title:"修改失败",desc:"超时时间范围为1-200",duration:2.5}):this.$https.fetchPost(this.$api.mail.updateMailServer.url,this.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"邮件服务修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"邮件服务修改失败",desc:"错误："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})):this.$Notice.error({title:"修改失败",desc:"smtp端口请输入正确的端口格式",duration:2.5}):this.$Notice.error({title:"修改失败",desc:"pop3端口请输入正确的端口格式",duration:2.5}):this.$Notice.error({title:"修改失败",desc:"请输入正确的ip格式",duration:2.5})},checkaction:function(){var t=this;this.switchloading=!0,this.action?this.$https.fetchPost(this.$api.mail.startMailService.url,{},{timeout:2e4}).then((function(e){200==e.data.status?(t.$Notice.success({title:"邮件服务启动成功",desc:"正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):(t.action=!1,t.switchloading=!1,t.$Notice.error({title:"邮件服务启动失败",desc:e.data.desc,duration:2.5}))})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5}),t.switchloading=!1,t.action=!1})):this.$https.fetchGet(this.$api.mail.stopMailService.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"邮件服务关闭成功",desc:"正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):(t.action=!0,t.switchloading=!1,t.$Notice.error({title:"邮件服务关闭失败",desc:e.data.desc,duration:2.5}))})).catch((function(e){t.action=!0,t.switchloading=!1,t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.mail.getMailServerMessage.url).then((function(e){200==e.data.status?(t.platForm.form=e.data.data,e.data.data.users&&(t.data1=e.data.data.users),0==t.platForm.form.action?t.action=!0:t.action=!1):t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"120px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("邮件服务器设置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.form.ip,callback:function(e){t.$set(t.platForm.form,"ip",e)},expression:"platForm.form.ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.form.smtpPort,callback:function(e){t.$set(t.platForm.form,"smtpPort",e)},expression:"platForm.form.smtpPort"}}),a("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[t._v("默认端口为25")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.form.pop3Port,callback:function(e){t.$set(t.platForm.form,"pop3Port",e)},expression:"platForm.form.pop3Port"}}),a("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[t._v("默认端口为110")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.form.maxConnection,callback:function(e){t.$set(t.platForm.form,"maxConnection",e)},expression:"platForm.form.maxConnection"}}),a("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[t._v("默认最大连接为10")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.form.timeOut,callback:function(e){t.$set(t.platForm.form,"timeOut",e)},expression:"platForm.form.timeOut"}}),a("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[t._v("默认超时时间为20s")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("i-switch",{staticStyle:{"margin-left":"12px"},attrs:{loading:t.switchloading,size:"large"},on:{"on-change":t.checkaction},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)])])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 0 0 50%"},on:{click:t.submit}},[t._v("保存")]),a("mailAdd",{staticStyle:{float:"right","margin-top":"10px"}})],1),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left",margin:"20px 0"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("邮件列表")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("Table",{attrs:{size:"small",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateMailUser(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteMailUser(i.id,s)}}},[t._v("删除")])]}}])})],1)])])]),a("Drawer",{attrs:{title:"本地邮件服务",width:"50%"},model:{value:t.userform.show,callback:function(e){t.$set(t.userform,"show",e)},expression:"userform.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.userform.rules,model:t.userform.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.userform.form.username,callback:function(e){t.$set(t.userform.form,"username",e)},expression:"userform.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.userform.form.password,callback:function(e){t.$set(t.userform.form,"password",e)},expression:"userform.form.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("邮件服务器IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("smtp服务器端口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("pop3服务器端口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("邮件服务器最大连接数:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("邮件服务器超时时间:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("是否开启邮件服务器:")])])}],!1,null,"6a95a280",null);e.default=l.exports},"42c1":function(t,e,a){"use strict";a.r(e);var i={name:"LogDbMessage",components:{jk_tabs:a("25b1").a},data:function(){var t=this;return{searchLoading:!1,DegLoadTableNames:"",DegLoadTableName:"",levelList:[{value:0},{value:1},{value:3}],DegBusinessNames:"",DegBusinessName:"",serviceName:"",event:"",level:null,degServiceName:"",DegDiretion:"",DegDiretions:[],DegServiceName:"",DegServiceNames:"",times:[],columns:[{title:"序号",key:"",align:"center",width:63,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"业务名",align:"center",key:"degBusinessName"},{title:"服务名",align:"center",key:"degServiceName"},{title:"业务流程",align:"center",key:"degBusinessProcess"},{title:"加载表名",align:"center",key:"degLoadTableName"},{title:"事件",align:"center",key:"degEvent"},{title:"消息内容",align:"center",key:"degMessageContent",render:function(e,a){var i=a.row.degMessageContent;return null!=a.row.degMessageContent&&(i=a.row.degMessageContent.length>15?a.row.degMessageContent.slice(0,14)+"...":a.row.degMessageContent),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.degMessageContent)])])}},{title:"等级",align:"center",key:"degLevel",width:"60px"},{title:"时间",align:"center",key:"degTime"}],indeterminate:!1,checkAll:!1,checkAllGroup:[],loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""}],sorts:[{filed:"degId",order:!1}]}},links:[{name:"数据库基本信息日志",to:"/logs/logDbMessage"}]}},mounted:function(){this.showProxy()},methods:{messagegetDegLoadTableNames:function(){var t=this;this.DegLoadTableNames||this.$https.fetchGet(this.$api.log.messagegetDegExtractTableNames.url).then((function(e){t.DegLoadTableNames=e.data.data})).catch((function(t){}))},getDegServiceNames:function(){var t=this;this.DegServiceNames||this.$https.fetchGet(this.$api.log.messagegetDegServiceNames.url).then((function(e){t.DegServiceNames=e.data.data})).catch((function(t){}))},messagegetDegBusinessNames:function(){var t=this;this.DegBusinessNames||this.$https.fetchGet(this.$api.log.messagegetDegBusinessNames.url).then((function(e){t.DegBusinessNames=e.data.data})).catch((function(t){}))},showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.findMessage.url,this.page.form,{timeout:3e5}).then((function(e){t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""}],sorts:[{filed:"degId",order:!1}]}}},search:function(){var t=this;for(var e in this.resetFileters(),this.page.form.filters)this.page.form.filters[e].type="",this.page.form.filters[e].filed="",this.page.form.filters[e].params="";this.DegServiceName&&(this.page.form.filters[0].type="equal",this.page.form.filters[0].filed="degServiceName",this.page.form.filters[0].params=this.DegServiceName),null!=this.level&&(this.page.form.filters[2].params=this.level,this.page.form.filters[2].type="like",this.page.form.filters[2].filed="degLevel"),this.DegLoadTableName&&(this.page.form.filters[3].params=this.DegLoadTableName,this.page.form.filters[3].type="equal",this.page.form.filters[3].filed="degLoadTableName"),this.serviceName&&(this.page.form.filters[4].params=this.serviceName,this.page.form.filters[4].type="equal",this.page.form.filters[4].filed="degBusinessName"),this.times[0]&&(this.times[0]=this.$util.time_format(new Date(this.times[0]),"yyyy-MM-dd hh:mm:ss"),this.times[1]=this.$util.time_format(new Date(this.times[1]),"yyyy-MM-dd hh:mm:ss"),this.page.form.filters[1].type="between",this.page.form.filters[1].filed="degTime",this.page.form.filters[1].params=this.times),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.findMessage.url,this.page.form,{timeout:3e5}).then((function(e){t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部数据库基本信息日志</p>",onOk:function(){t.$https.fetchPost(t.$api.log.delAllMessage.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=(a("6521"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:function(e){return t.clearAll()}}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            业务名：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.getDegServiceNames()}},model:{value:t.DegServiceName,callback:function(e){t.DegServiceName=e},expression:"DegServiceName"}},t._l(t.DegServiceNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                                 服务名：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.messagegetDegBusinessNames()}},model:{value:t.serviceName,callback:function(e){t.serviceName=e},expression:"serviceName"}},t._l(t.DegBusinessNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            加载表名：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.messagegetDegLoadTableNames()}},model:{value:t.DegLoadTableName,callback:function(e){t.DegLoadTableName=e},expression:"DegLoadTableName"}},t._l(t.DegLoadTableNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                                等级：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},t._l(t.levelList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)],1),a("div",{staticStyle:{margin:"5px","font-size":"12px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"290px",margin:"5px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间"},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}}),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"5403c7a5",null);e.default=o.exports},"439b":function(t,e,a){"use strict";a.r(e);var i={name:"DataSyncLock",components:{jk_tabs:a("25b1").a},data:function(){return{clearCache:["锁命令报文队列","同步锁线程中锁命令报文队列","锁命令解释队列","本地目标数据资源队列","远程目标数据资源队列"],advancedContent:[{name:"TCP通道NT1->T2响应间隔时间:",val:""},{name:"TCP通道NT1->T2响应次数:",val:""},{name:"TCP通道NT1响应间隔时间:",val:""},{name:"TCP通道NT1响应次数:",val:""},{name:"TCP通道NT2->T1响应间隔时间:",val:""},{name:"TCP通道NT2->T1响应次数:",val:""},{name:"TCP通道NT2响应间隔时间:",val:""},{name:"TCP通道NT2响应次数:",val:""},{name:"TCP通道T1->NT2间隔时间:",val:""},{name:"TCP通道T1->NT2响应间隔时间:",val:""},{name:"TCP通道T1->NT2响应次数:",val:""},{name:"TCP通道T2->NT1间隔时间:",val:""},{name:"TCP通道T2->NT1响应间隔时间:",val:""},{name:"TCP通道T2->NT1响应次数:",val:""},{name:"UDP通道T1->NT2间隔时间:",val:""},{name:"UDP通道T2->NT1间隔时间:",val:""},{name:"UDP通道NT2->T2间隔时间:",val:""},{name:"UDP通道NT1->T1间隔时间:",val:""},{name:"释放锁检测间隔时间:",val:""},{name:"释放锁检测次数:",val:""}],advancedShow:!1,type:"native",typeList:[{label:"原生",value:"native"},{label:"Client",value:"client"}],clientIP:"127.0.0.1",isShow:!0,ishostShow:!1,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"通讯配置",to:"/data/comm"},{name:"同步模式",to:"/data/sync"},{name:"同步锁配置",to:"/data/syncLock"},{name:"同步锁缓存",to:"/data/lockCache"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){this.isShow="client"==t},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)},checkAdvancedShow:function(t){1===t.length?this.advancedShow=!0:this.advancedShow=!1}}},s=(a("df44"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("RadioGroup",{staticStyle:{"margin-left":"15px"}},[a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"1"}},[a("span",[t._v("启用")])]),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"2"}},[a("span",[t._v("禁用")])])],1)],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[t._m(1),a("td",[a("RadioGroup",[a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"1"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"2"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"3"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"4"}},[a("span")])],1)])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("CheckboxGroup",{on:{"on-change":t.checkAdvancedShow}},[a("Checkbox",{staticStyle:{"margin-left":"15px"}},[t._v("显示/隐藏")])],1)],1)])]),a("span",{staticStyle:{color:"red","font-size":"12px"}},[t._v("注:勾选表示当前设备")]),a("table",{directives:[{name:"show",rawName:"v-show",value:t.advancedShow,expression:"advancedShow"}],staticStyle:{width:"100%"},attrs:{border:"1"}},t._l(t.advancedContent,(function(e){return a("tr",{key:e.name,staticStyle:{height:"40px"}},[a("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[a("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[t._v(t._s(e.name))])]),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"}})],1)])})),0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("是否启用:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备1内端(T端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备1外端(NT端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备2内端(T端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备2外端(NT端):")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("显示高级设置:")])])}],!1,null,"5615d80a",null);e.default=o.exports},4473:function(t,e,a){"use strict";a("8ace")},4477:function(t,e,a){"use strict";a.r(e);var i={name:"LocalAccessControl",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{links:[{name:"FTP服务",to:"/local/ftp"},{name:"强制访问控制",to:"/local/accessControl"},{name:"FTP安全代理",to:"/local/proxy"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}})],1)]),e("div",{staticClass:"modal-body"},[e("div",{staticStyle:{margin:"15px 10px"}},[e("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[e("tr",{staticStyle:{height:"40px"}},[this._m(0),e("td",[e("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),e("tr",{staticStyle:{height:"40px"}},[this._m(1),e("td",[e("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),e("tr",{staticStyle:{height:"40px"}},[this._m(2),e("td",[e("Checkbox",{staticStyle:{width:"70px","margin-left":"15px"}})],1)])])]),this._m(3)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("IP地址:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("端口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("启用:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])}],!1,null,"07d4c842",null);e.default=o.exports},4505:function(t,e,a){"use strict";function i(t){var e=0;if(t.length<1)return e;switch(/\d/.test(t)&&e++,/[a-z]/.test(t)&&e++,/[A-Z]/.test(t)&&e++,/\W/.test(t)&&e++,e){case 1:return 1;case 2:return 2;case 3:case 4:return t.length<10?3:4}return e}a.r(e),a.d(e,"checkStrong",(function(){return i}));var s={name:"test",data:function(){return{msgText:"",pwd:""}},methods:{},watch:{pwd:function(t,e){this.msgText=i(t),this.msgText>1||1==this.msgText?$("#one").css("background","red"):$("#one").css("background","#eee"),this.msgText>2||2==this.msgText?$("#two").css("background","orange"):$("#two").css("background","#eee"),4==this.msgText?$("#three").css("background","#00D1B2"):$("#three").css("background","#eee")}}},o=(a("0189"),a("2c07")),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{staticStyle:{"margin-left":"40px"}},[t._v("密码:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{id:"inputValue","auto-complete":"off"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}}),a("br"),t._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input_span"},[e("span",{attrs:{id:"one"}}),e("span",{attrs:{id:"two"}}),e("span",{attrs:{id:"three"}})])}],!1,null,"50c8a0cd",null);e.default=r.exports},"45db":function(t,e,a){},4943:function(t,e,a){"use strict";a("e5cb")},"4a7f":function(t,e,a){},"4bde":function(t,e,a){},"4d05":function(t,e,a){"use strict";a.r(e);var i={name:"LogTrustAuth",components:{jk_tabs:a("25b1").a},data:function(){var t=this;return{columns:[{title:"序号",key:"",align:"center",width:65,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"设备IP",align:"center",key:""},{title:"业务流程名",align:"center",key:""},{title:"事件",align:"center",key:""},{title:"等级",align:"center",key:""},{title:"时间",align:"center",key:""},{title:"配置时间",align:"center",key:""}],indeterminate:!1,checkAll:!1,checkAllGroup:[],loading:!1,data:[],total:0,page:{form:{page:1,size:10}},links:[{name:"认证状态日志",to:"/logs/logTrustAuth"}]}},methods:{}},s=(a("a420"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{width:"250px","font-size":"12px"}},[t._v("\n                            业务ID：\n                            "),a("Select",{staticStyle:{width:"170px"}})],1),a("div",{staticStyle:{width:"250px","font-size":"12px"}},[t._v("\n                            IP地址：\n                            "),a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"Enter name"}})],1),a("div",{staticStyle:{width:"250px","font-size":"12px"}},[t._v("\n                            描述：\n                            "),a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"Enter name"}})],1),a("div",{staticStyle:{width:"400px","font-size":"12px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"选择日期"}}),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning"}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"fa08bbb8",null);e.default=o.exports},"4efb":function(t,e,a){"use strict";a.r(e);var i={name:"DataBusinessRegister",components:{jk_tabs:a("25b1").a},data:function(){return{platForm:{taskname:null,department:null,master:null,contact:null},links:[{name:"业务注册",to:"/data/businessRegister"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{addPlatForm:function(){var t=this;null!=this.platForm.taskname?this.platForm.taskname.length>=10?this.$Notice.error({title:"业务名称长度不能超过10"}):null!=this.platForm.department?this.platForm.taskname.length>=10?this.$Notice.error({title:"主管部门长度不能超过10"}):null!=this.platForm.master?this.platForm.taskname.length>=10?this.$Notice.error({title:"主管人长度不能超过10"}):null!=this.platForm.contact?this.platForm.taskname.length>=10?this.$Notice.error({title:"联系电话长度不能超过10"}):this.$https.fetchPost(this.$api.data.addSyncTask.url,this.platForm).then((function(e){200==e.data.status?(t.$Notice.success({title:"业务注册成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.$router.push({path:"/data/test2"})}),250)):t.$Notice.error({title:"业务注册失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})):this.$Notice.error({title:"联系电话不能为空"}):this.$Notice.error({title:"主管人不能为空"}):this.$Notice.error({title:"主管部门不能为空"}):this.$Notice.error({title:"业务名称不能为空"})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.taskname,callback:function(e){t.$set(t.platForm,"taskname",e)},expression:"platForm.taskname"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.department,callback:function(e){t.$set(t.platForm,"department",e)},expression:"platForm.department"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.master,callback:function(e){t.$set(t.platForm,"master",e)},expression:"platForm.master"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:""},model:{value:t.platForm.contact,callback:function(e){t.$set(t.platForm,"contact",e)},expression:"platForm.contact"}})],1)])]),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")])],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("业务名称:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("主管部门:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("主管人:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("联系电话:")])])}],!1,null,"4bc24cc6",null);e.default=o.exports},"51ba":function(t,e,a){},"521f":function(t,e,a){"use strict";a.r(e),a("cc57");var i=a("25b1"),s={name:"TestFileSyncFilterAdd",components:{},data:function(){return{platForm:{show:!1,form:{virus_check:null,size_check:null,size_white:null,size_space_low:null,size_space_high:null,name_check:null,name_white:null,name:null,suffix_check:null,suffix_white:null,suffix:null,format_check:null,format_white:null,format:null},virus_check:!1,size_check:!1,name_check:!1,suffix_check:!1,format_check:!1},size_show:!1,name_show:!1,suffix_show:!1,format_show:!1}},computed:{},methods:{checkSizeShow:function(){this.size_show=!this.size_show},checkNameShow:function(){this.name_show=!this.name_show},checkSuffixShow:function(){this.suffix_show=!this.suffix_show},checkFormatShow:function(){this.format_show=!this.format_show},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;0==this.platForm.virus_check?this.platForm.form.virus_check="0":this.platForm.form.virus_check="1",0==this.platForm.size_check?this.platForm.form.size_check="0":this.platForm.form.size_check="1",0==this.platForm.name_check?this.platForm.form.name_check="0":this.platForm.form.name_check="1",0==this.platForm.suffix_check?this.platForm.form.suffix_check="0":this.platForm.form.suffix_check="1",0==this.platForm.format_check?this.platForm.form.format_check="0":this.platForm.form.format_check="1",this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.test.addPolicy.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"同步过滤策略添加成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"同步过滤策略添加失败",desc:"错误代码："+e.data.status,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"文件同步过滤策略",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"病毒查杀",prop:"subnet"}},[a("Checkbox",{model:{value:t.platForm.virus_check,callback:function(e){t.$set(t.platForm,"virus_check",e)},expression:"platForm.virus_check"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"大小过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkSizeShow},model:{value:t.platForm.size_check,callback:function(e){t.$set(t.platForm,"size_check",e)},expression:"platForm.size_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.size_show,expression:"size_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"大小过滤类型",prop:"password"}},[a("Select",{model:{value:t.platForm.form.size_white,callback:function(e){t.$set(t.platForm.form,"size_white",e)},expression:"platForm.form.size_white"}},[a("Option",{attrs:{value:"1"}},[t._v("大小过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("大小过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.size_show,expression:"size_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"最小值",prop:"password"}},[a("Input",{model:{value:t.platForm.form.size_space_low,callback:function(e){t.$set(t.platForm.form,"size_space_low",e)},expression:"platForm.form.size_space_low"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.size_show,expression:"size_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"最大值",prop:"password"}},[a("Input",{model:{value:t.platForm.form.size_space_high,callback:function(e){t.$set(t.platForm.form,"size_space_high",e)},expression:"platForm.form.size_space_high"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件名过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkNameShow},model:{value:t.platForm.name_check,callback:function(e){t.$set(t.platForm,"name_check",e)},expression:"platForm.name_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.name_show,expression:"name_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件名过滤类型",prop:"password"}},[a("Select",{model:{value:t.platForm.form.name_white,callback:function(e){t.$set(t.platForm.form,"name_white",e)},expression:"platForm.form.name_white"}},[a("Option",{attrs:{value:"1"}},[t._v("文件名过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("文件名过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.name_show,expression:"name_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件名",prop:"password"}},[a("Input",{model:{value:t.platForm.form.name,callback:function(e){t.$set(t.platForm.form,"name",e)},expression:"platForm.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件后缀过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkSuffixShow},model:{value:t.platForm.suffix_check,callback:function(e){t.$set(t.platForm,"suffix_check",e)},expression:"platForm.suffix_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.suffix_show,expression:"suffix_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件后缀过滤类型",prop:"password"}},[a("Select",{model:{value:t.platForm.form.suffix_white,callback:function(e){t.$set(t.platForm.form,"suffix_white",e)},expression:"platForm.form.suffix_white"}},[a("Option",{attrs:{value:"1"}},[t._v("文件后缀过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("文件后缀过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.suffix_show,expression:"suffix_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件后缀",prop:"password"}},[a("Input",{model:{value:t.platForm.form.suffix,callback:function(e){t.$set(t.platForm.form,"suffix",e)},expression:"platForm.form.suffix"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件类型过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkFormatShow},model:{value:t.platForm.format_check,callback:function(e){t.$set(t.platForm,"format_check",e)},expression:"platForm.format_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.format_show,expression:"format_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件类型过滤类型",prop:"password"}},[a("Select",{model:{value:t.platForm.form.format_white,callback:function(e){t.$set(t.platForm.form,"format_white",e)},expression:"platForm.form.format_white"}},[a("Option",{attrs:{value:"1"}},[t._v("文件类型过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("文件类型过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.format_show,expression:"format_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件类型",prop:"password"}},[a("Input",{model:{value:t.platForm.form.format,callback:function(e){t.$set(t.platForm.form,"format",e)},expression:"platForm.form.format"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"df3bf73a",null).exports,n={name:"TestFileSyncFilter",components:{jk_tabs:i.a,fileSyncFilterAdd:r},data:function(){return{columns1:[{title:"序号",key:"id",align:"center"},{title:"病毒查杀",key:"virus_check",align:"center"},{title:"大小过滤最小值",key:"size_space_low",align:"center"},{title:"大小过滤最大值",key:"size_space_high",align:"center"},{title:"文件名过滤",key:"name",align:"center"},{title:"文件后缀",key:"suffix",align:"center"},{title:"文件类型",key:"format",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"文件同步过滤策略",to:"/test/fileSyncFilter"}],modal:{show:!1,form:{virus_check:null,size_check:null,size_white:null,size_space_low:null,size_space_high:null,name_check:null,name_white:null,name:null,suffix_check:null,suffix_white:null,suffix:null,format_check:null,format_white:null,format:null},virus_check:null,size_check:null,name_check:null,suffix_check:null,format_check:null},size_show:null,name_show:null,suffix_show:null,format_show:null,data1:[{id:"proxy1",proxy_addr_str:"192.168.110.12",proxy_port:"6677",real_addr_str:"192.168.110.12",real_port:"21",vroot_dir:"/home/file/ftp/test1"},{id:"proxy2",proxy_addr_str:"192.168.110.12",proxy_port:"6678",real_addr_str:"192.168.110.12",real_port:"21",vroot_dir:"/home/file/ftp/test2"}]}},mounted:function(){this.showProxy()},methods:{showProxy:function(){var t=this;this.$https.fetchGet(this.$api.test.policyInfo.url).then((function(e){t.data1=e.data.data})).catch((function(t){}))},deleteFtpProxy:function(t){var e=this;this.$Modal.confirm({title:"删除配置",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.test.delPolicy.url,{key:t}).then((function(t){200==t.data.status?location.reload():(e.$Modal.remove(),e.$Message.info("配置删除失败"))})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtpProxy:function(t){this.modal.show=!0,this.modal.form.id=this.data1[t].id,0==this.data1[t].virus_check?this.modal.form.virus_check=!1:this.modal.form.virus_check=!0,0==this.data1[t].size_check?this.modal.form.size_check=!1:this.modal.form.size_check=!0,this.modal.form.size_white=this.data1[t].size_white,this.modal.form.size_space_low=this.data1[t].size_space_low,this.modal.form.size_space_high=this.data1[t].size_space_high,0==this.data1[t].name_check?this.modal.form.name_check=!1:this.modal.form.name_check=!0,this.modal.form.name_white=this.data1[t].name_white,this.modal.form.name=this.data1[t].name,0==this.data1[t].suffix_check?this.modal.form.suffix_check=!1:this.modal.form.suffix_check=!0,this.modal.form.suffix_white=this.data1[t].suffix_white,this.modal.form.suffix=this.data1[t].suffix,0==this.data1[t].format_check?this.modal.form.format_check=!1:this.modal.form.format_check=!0,this.modal.form.format_white=this.data1[t].format_white,this.modal.form.format=this.data1[t].format,this.modal.form.size_check&&(this.size_show=!0),this.modal.form.name_check&&(this.name_show=!0),this.modal.form.suffix_check&&(this.suffix_show=!0),this.modal.form.format_check&&(this.format_show=!0)},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;0==this.modal.form.virus_check?this.modal.form.virus_check="0":this.modal.form.virus_check="1",0==this.modal.form.size_check?this.modal.form.size_check="0":this.modal.form.size_check="1",0==this.modal.form.name_check?this.modal.form.name_check="0":this.modal.form.name_check="1",0==this.modal.form.suffix_check?this.modal.form.suffix_check="0":this.modal.form.suffix_check="1",0==this.modal.form.format_check?this.modal.form.format_check="0":this.modal.form.format_check="1",this.$refs.info_form.validate((function(e){e&&t.$https.fetchPost(t.$api.test.updatePolicy.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"配置修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"配置修改失败",desc:"错误代码："+e.data.status,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},checkSizeShow:function(){this.size_show=!this.size_show},checkNameShow:function(){this.name_show=!this.name_show},checkSuffixShow:function(){this.suffix_show=!this.suffix_show},checkFormatShow:function(){this.format_show=!this.format_show}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("fileSyncFilterAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data1[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtpProxy(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtpProxy(i.id)}}},[t._v("删除")])]}}])})],1)]),a("Drawer",{attrs:{title:"文件同步过滤策略",width:"1000"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"病毒查杀",prop:"subnet"}},[a("Checkbox",{model:{value:t.modal.form.virus_check,callback:function(e){t.$set(t.modal.form,"virus_check",e)},expression:"modal.form.virus_check"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"大小过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkSizeShow},model:{value:t.modal.form.size_check,callback:function(e){t.$set(t.modal.form,"size_check",e)},expression:"modal.form.size_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.size_show,expression:"size_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"大小过滤类型",prop:"password"}},[a("Select",{model:{value:t.modal.form.size_white,callback:function(e){t.$set(t.modal.form,"size_white",e)},expression:"modal.form.size_white"}},[a("Option",{attrs:{value:"1"}},[t._v("大小过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("大小过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.size_show,expression:"size_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"最小值",prop:"password"}},[a("Input",{model:{value:t.modal.form.size_space_low,callback:function(e){t.$set(t.modal.form,"size_space_low",e)},expression:"modal.form.size_space_low"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.size_show,expression:"size_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"最大值",prop:"password"}},[a("Input",{model:{value:t.modal.form.size_space_high,callback:function(e){t.$set(t.modal.form,"size_space_high",e)},expression:"modal.form.size_space_high"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件名过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkNameShow},model:{value:t.modal.form.name_check,callback:function(e){t.$set(t.modal.form,"name_check",e)},expression:"modal.form.name_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.name_show,expression:"name_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件名过滤类型",prop:"password"}},[a("Select",{model:{value:t.modal.form.name_white,callback:function(e){t.$set(t.modal.form,"name_white",e)},expression:"modal.form.name_white"}},[a("Option",{attrs:{value:"1"}},[t._v("文件名过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("文件名过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.name_show,expression:"name_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件名",prop:"password"}},[a("Input",{model:{value:t.modal.form.name,callback:function(e){t.$set(t.modal.form,"name",e)},expression:"modal.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件后缀过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkSuffixShow},model:{value:t.modal.form.suffix_check,callback:function(e){t.$set(t.modal.form,"suffix_check",e)},expression:"modal.form.suffix_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.suffix_show,expression:"suffix_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件后缀过滤类型",prop:"password"}},[a("Select",{model:{value:t.modal.form.suffix_white,callback:function(e){t.$set(t.modal.form,"suffix_white",e)},expression:"modal.form.suffix_white"}},[a("Option",{attrs:{value:"1"}},[t._v("文件后缀过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("文件后缀过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.suffix_show,expression:"suffix_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件后缀",prop:"password"}},[a("Input",{model:{value:t.modal.form.suffix,callback:function(e){t.$set(t.modal.form,"suffix",e)},expression:"modal.form.suffix"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件类型过滤-黑白名单",prop:"vhid"}},[a("Checkbox",{on:{"on-change":t.checkFormatShow},model:{value:t.modal.form.format_check,callback:function(e){t.$set(t.modal.form,"format_check",e)},expression:"modal.form.format_check"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.format_show,expression:"format_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件类型过滤类型",prop:"password"}},[a("Select",{model:{value:t.modal.form.format_white,callback:function(e){t.$set(t.modal.form,"format_white",e)},expression:"modal.form.format_white"}},[a("Option",{attrs:{value:"1"}},[t._v("文件类型过滤白名单")]),a("Option",{attrs:{value:"0"}},[t._v("文件类型过滤黑名单")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.format_show,expression:"format_show"}],staticStyle:{"margin-bottom":"0px"},attrs:{label:"文件类型",prop:"password"}},[a("Input",{model:{value:t.modal.form.format,callback:function(e){t.$set(t.modal.form,"format",e)},expression:"modal.form.format"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"4bc81afb",null);e.default=l.exports},"53ba":function(t,e,a){},"53df":function(t,e,a){"use strict";a("b727")},"541c":function(t,e,a){"use strict";a("b56c")},5429:function(t,e,a){},"545d":function(t,e,a){"use strict";a.r(e);var i={name:"LogSyncPrograms",components:{jk_tabs:a("25b1").a},data:function(){return{start_program:!0,program_max_size:200,program_path:"/home/smond",program_sfmdellogsise:0,program_crondeltime:10,start_sender:!0,sender_size:200,sender_path:"/home/ogapd",links:[{name:"日志常规设置",to:"/logs/logSetting"},{name:"Syslog服务",to:"/logs/logSyslog"},{name:"SNMP Traps服务",to:"/logs/logSnmpTraps"},{name:"同步程序日志设置",to:"/logs/logSyncPrograms"}]}},methods:{}},s=(a("6dc1"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("table",{staticStyle:{"margin-left":"15px"}},[a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("开启备份:")]),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},model:{value:t.start_program,callback:function(e){t.start_program=e},expression:"start_program"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0","font-size":"12px"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("阀值:")]),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{value:t.program_max_size}}),t._v(" 超过设定大小自动压缩转存,单位MB")],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("备份路径:")]),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{value:t.program_path}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("目录清理日志阀值:")]),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{value:t.program_sfmdellogsise}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("目录清理间隔:")]),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{value:t.program_crondeltime}})],1)])])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("table",{staticStyle:{"margin-left":"15px"}},[a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("开启备份:")]),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},model:{value:t.start_sender,callback:function(e){t.start_sender=e},expression:"start_sender"}})],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0","font-size":"12px"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("阀值:")]),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{value:t.sender_size}}),t._v(" 超过设定大小自动压缩转存,单位MB")],1)]),a("tr",{staticStyle:{display:"block",margin:"10px 0"}},[a("td",{staticStyle:{width:"120px","font-size":"12px"}},[t._v("备份路径:")]),a("td",[a("Input",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{value:t.sender_path}})],1)])])])])])]),t._m(2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("监控程序日志设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("发送端日志设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])}],!1,null,"776bb4ec",null);e.default=o.exports},"558e":function(t,e,a){"use strict";a.r(e);var i={name:"DataServiceRestart",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{},links:[{name:"业务/服务列表",to:"/data/test2"},{name:"配置生效",to:"/data/serviceRestart"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.ButtonLoading=!0,this.$https.fetchPost(this.$api.data.loadServe.url,{},{timeout:6e4}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.$Notice.success({title:"重启成功",desc:e.data.desc,duration:2.5})):(t.ButtonLoading=!1,t.$Notice.error({title:"重启失败",desc:"错误:"+e.data.desc,duration:5}))})).catch((function(e){t.ButtonLoading=!1,t.$Notice.error({title:"重启失败",desc:e,duration:5})}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}})],1)]),e("div",{staticClass:"modal-body"},[e("div",{staticStyle:{margin:"15px 10px"}},[e("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[e("tr",{staticStyle:{height:"40px"}},[this._m(0),e("td",{staticStyle:{"font-size":"12px"}},[e("Button",{staticStyle:{"margin-left":"15px"},attrs:{loading:this.ButtonLoading},on:{click:this.submit}},[this._v("重启服务")])],1)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("配置生效:")])])}],!1,null,"1cc7ffe4",null);e.default=o.exports},"59a5":function(t,e,a){"use strict";a.r(e),a("f548");var i=a("25b1"),s=a("dbd7"),o=a("bdd1"),r={components:{jk_tabs:i.a,dbsync:s.a,dbsync_file_update:o.a},data:function(){return{index:null,links:[{name:"业务/服务列表",to:"/data/fileSync1"}],register:{show:!1,form:{id:null,taskname:null,department:null,master:null,contact:null}},size_show:null,data1:[{contact:"123",dbsync:{},department:"研发",filesync:{NUM2:{id:"NUM2",iocharset:"UTF-8",ipaddress:"192.168.5.235",level:"1",operation:"删除",out_task_id:"99",password:"123456",path:"/test",remotrport:"8080",runstate:"stop",servicename:"fileSync",time_interval:"3",type:"ftp",username:"wukz"},NUM1:{id:"NUM1",iocharset:"1",ipaddress:"1",level:"1",operation:"1",out_task_id:"10000",password:"1",path:"/hoem",remotrport:"1",runstate:"run",servicename:"44444",time_interval:"1",type:"本地FTP",username:"1"}},id:"NUM1",master:"张三",taskname:"table-expand.vue"}],data2:[],modal10:!1}},computed:{},mounted:function(){this.showSyncTaskInfo(),document.addEventListener("click",(function(t){"usermessage"!=t.target.className&&(this.index=null)}))},methods:{addPlatForm:function(t){null==this.index?this.index=t:this.index=null},byBusinessID:function(t){this.$storage.setStorage("businessID",t)},byFileIndex:function(t,e){this.$storage.setStorage("businessIndex",t),this.$storage.setStorage("FileIndex",e)},gotolink:function(){this.$router.replace("/network/channel")},showService:function(t,e){this.data2=[{name:"资源类型",val:this.data1[t].filesync[e].type},{name:"外端服务ID",val:this.data1[t].filesync[e].out_task_id},{name:"服务名称",val:this.data1[t].filesync[e].servicename},{name:"用户名",val:this.data1[t].filesync[e].username},{name:"密码",val:this.data1[t].filesync[e].password},{name:"IP地址",val:this.data1[t].filesync[e].ipaddress}],this.modal10=!0},showSyncTaskInfo:function(){var t=this;this.$https.fetchGet(this.$api.data.syncTaskInfo.url).then((function(e){t.data1=e.data.data})).catch((function(t){}))},updateBusiness:function(t){this.register.show=!0,this.register.form.id=this.data1[t].id,this.register.form.taskname=this.data1[t].taskname,this.register.form.department=this.data1[t].department,this.register.form.master=this.data1[t].master,this.register.form.contact=this.data1[t].contact},addregisterForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&t.$https.fetchPost(t.$api.data.updateSyncTask.url,t.register.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"业务修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"业务修改失败",desc:"错误："+e.data.status,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}))},deleteBusiness:function(t){var e=this;this.$Modal.confirm({title:"删除业务",content:"<p>当前操作将会导致该业务被删除，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.data.delSyncTask.url,{id:t}).then((function(t){200==t.data.status?location.reload():(e.$Modal.remove(),e.$Message.info("业务删除失败"))})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:5})}))}})},deleteService:function(t,e){var a=this;this.$Modal.confirm({title:"删除服务",content:"<p>当前操作将会导致该服务被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.data.delFileTask.url,{taskId:t,id:e}).then((function(t){200==t.data.status?location.reload():(a.$Modal.remove(),a.$Message.info("服务删除失败"))})).catch((function(t){a.$Notice.error({title:"请求失败",desc:t,duration:5})}))}})}}},n=(a("a8de"),a("2c07")),l=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",on:{click:function(e){t.index=null}}},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("table",{staticClass:"table",staticStyle:{width:"100%",border:"1px solid #dcdee2","font-size":"12px",color:"#515a6e"}},[t._m(0),t._l(t.data1,(function(e,i){return a("tbody",{key:i},[a("tr",{staticClass:"gradeX"},[a("td",[t._v(t._s(e.taskname))]),a("td"),a("td"),a("td"),a("td",[t._v(t._s(e.department))]),a("td",[t._v(t._s(e.master))]),a("td",[t._v(t._s(e.contact))]),a("td",[a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.addPlatForm(i)}}},[t._v("配置管理 "),a("span",{staticClass:"caret"})]),a("ul",{staticClass:"dropdown-menu",class:i==t.index?"open-dropdown-menu":""},[t._m(1,!0),a("dbsync",{nativeOn:{click:function(a){return t.byBusinessID(e.id)}}}),a("li",[a("a",{on:{click:function(e){return t.updateBusiness(i)}}},[t._v("修改业务")])]),a("li",[a("a",{on:{click:function(a){return t.deleteBusiness(e.id)}}},[t._v("删除业务")])])],1)],1)])]),t._l(e.filesync,(function(s,o){return a("tr",{key:o,staticClass:"gradeX"},[a("td",[t._v(t._s(s.servicename))]),a("td",[t._v(t._s(s.out_task_id))]),a("td",[t._v(t._s("文件同步"))]),a("td",[t._v(t._s(s.runstate))]),a("td"),a("td"),a("td"),a("td",[a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.addPlatForm(o)}}},[t._v("配置管理 "),a("span",{staticClass:"caret"})]),a("ul",{staticClass:"dropdown-menu",class:o==t.index?"open-dropdown-menu":""},[t._m(2,!0),a("dbsync_file_update",{nativeOn:{click:function(e){return t.byFileIndex(i,o)}}}),a("li",[a("a",{on:{click:function(a){return t.deleteService(e.id,o)}}},[t._v("删除服务")])]),a("li",[a("a",{on:{click:function(e){return t.showService(i,o)}}},[t._v("查看配置")])])],1)],1)])])}))],2)}))],2)])]),a("Modal",{attrs:{title:"Title","class-name":"vertical-center-modal"},model:{value:t.modal10,callback:function(e){t.modal10=e},expression:"modal10"}},[a("div",{staticStyle:{height:"50px"}},t._l(t.data2,(function(e,i){return a("span",{key:i,staticStyle:{width:"200px",float:"left"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0)]),a("Drawer",{attrs:{title:"业务注册",width:"1000"},model:{value:t.register.show,callback:function(e){t.$set(t.register,"show",e)},expression:"register.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.register.rules,model:t.register.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"业务名称",prop:"subnet"}},[a("Input",{model:{value:t.register.form.taskname,callback:function(e){t.$set(t.register.form,"taskname",e)},expression:"register.form.taskname"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"主管部门",prop:"vhid"}},[a("Input",{model:{value:t.register.form.department,callback:function(e){t.$set(t.register.form,"department",e)},expression:"register.form.department"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"主管人",prop:"password"}},[a("Input",{model:{value:t.register.form.master,callback:function(e){t.$set(t.register.form,"master",e)},expression:"register.form.master"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"联系电话",prop:"password"}},[a("Input",{model:{value:t.register.form.contact,callback:function(e){t.$set(t.register.form,"contact",e)},expression:"register.form.contact"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addregisterForm}},[t._v("确认")])],1)],1)],1)],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{attrs:{id:"first"}},[a("th",[t._v("业务/服务名")]),a("th",[t._v("服务ID")]),a("th",[t._v("服务类型")]),a("th",[t._v("服务状态")]),a("th",[t._v("主管部门")]),a("th",[t._v("主管人")]),a("th",[t._v("联系电话")]),a("th",[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",[this._v("数据库同步")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",[this._v("服务启停")])])}],!1,null,"fc46681c",null);e.default=l.exports},"5b62":function(t,e,a){t.exports=a.p+"img/logo.16f8b647.png"},"5c01":function(t,e,a){"use strict";a("daff")},"5c9b":function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s=(a("cc57"),{inject:["reload"],name:"NetworkInterfaceAdd",components:{},data:function(){return{platForm:{show:!1,form:{real_interface:"",ipaddr:"",subent:24,type:"STATIC",interface_type:"common",state:"禁用"}},mackList:[],ipAddr:!0,ipv4:[],ipv6:[],testList:[],typeList:[{name:"静态IPv4",val:"STATIC"},{name:"静态IPv6",val:"STATICIPv6"},{name:"DHCP",val:"DHCP"}],interfaceTypeList:[{name:"业务口",val:"common"},{name:"管理口",val:"manage"},{name:"通道口",val:"channel"}],interfaceList:[{name:"eth0",val:"eth0"},{name:"eth1",val:"eth1"}]}},computed:{},mounted:function(){var t=this;this.push();this.$https.fetchGet(this.$api.network.showEth.url,{name:"common"}).then((function(e){200==e.data.status?(t.testList=e.data.data,t.platForm.form.real_interface=t.testList[0]):t.$Notice.error({title:"获取数据失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},methods:{test:function(){var t=this;this.$https.fetchGet(this.$api.network.showIfconfig.url).then((function(e){t.testList=e.data.data})).catch((function(t){}))},updatedevType:function(t){("common"==t||"manage"==t||"channel"==t)&&this.getUSBList(t)},getUSBList:function(t){var e=this,a={name:t};this.$https.fetchGet(this.$api.network.showEth.url,a).then((function(t){200==t.data.status?(e.testList=t.data.data,e.platForm.form.real_interface=e.testList[0]):e.$Notice.error({title:"获取数据失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:5})}))},addTest:function(){var t=this;this.$refs.plat_form.validate((function(e){if(t.$util.queryDevIP4(t.platForm.form.ipaddr)||t.$util.queryDevIP6(t.platForm.form.ipaddr)){if(!t.$util.queryDevIP6(t.platForm.form.ipaddr)&&"STATICIPv6"==t.platForm.form.type)return t.$Modal.warning({title:"warning",content:"你填写的ip地址不符合ipv6地址规范"}),void(t.modal.form.state="disable");if(!t.$util.queryDevIP4(t.platForm.form.ipaddr)&&"STATIC"==t.platForm.form.type)return t.$Modal.warning({title:"warning",content:"你填写的ip地址不符合ipv4地址规范"}),void(t.modal.form.state="disable");"禁用"==t.platForm.form.state||"disable"==t.platForm.form.state?t.platForm.form.state="disable":t.platForm.form.state="enable",t.$https.fetchPost(t.$api.network.addIpaddr.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"接口添加成功",desc:"正在刷新界面",duration:2.5}),t.reload()):t.$Notice.error({title:"接口添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}else t.$Modal.warning({title:"warning",content:"请正确填写合法的ipv4或ipv6"})}))},push:function(){for(var t=1;t<=32;t++)this.ipv4.push(t);for(var e=1;e<=128;e++)this.ipv6.push(e);this.mackList=this.ipv4},updateType:function(t){"ipv6"==t?(this.mackList=this.ipv6,this.ipAddr=!0,this.platForm.form.mack=64):"ipv4"==t?(this.mackList=this.ipv4,this.ipAddr=!0,this.platForm.form.mack=24):"dhcp"==t&&(this.ipAddr=!1)},updatePort:function(t){this.platForm.form.port=t},getPassTime:function(t){this.platForm.form.passtime=t},getRegTime:function(t){this.platForm.form.regtime=t},handlePassfile:function(t){return this.passFileName=t.name,this.platForm.form.passFile=t,!1},handleLinkimage:function(t){return this.linkimageFileName=t.name,this.platForm.form.linkimageFile=t,!1},showAddDrawer:function(){this.platForm.show=!0,this.getUSBList("common")},addPlatForm:function(){},restPlatForm:function(){this.$refs.plat_form.resetFields(),this.platForm.form.ipaddr="",this.platForm.form.subent=24,this.platForm.form.interface_type="common"}}}),o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n            新增\n        ")]),a("Drawer",{attrs:{title:"新增接口",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"状态",prop:"status"}},[a("RadioGroup",{model:{value:t.platForm.form.state,callback:function(e){t.$set(t.platForm.form,"state",e)},expression:"platForm.form.state"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用",disabled:""}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"网口",prop:"dev"}},[a("Select",{model:{value:t.platForm.form.real_interface,callback:function(e){t.$set(t.platForm.form,"real_interface",e)},expression:"platForm.form.real_interface"}},t._l(t.testList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"接口类型",prop:"type"}},[a("Select",{model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.updateType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用途类型",prop:"devType"}},[a("Select",{model:{value:t.platForm.form.interface_type,callback:function(e){t.$set(t.platForm.form,"interface_type",e)},expression:"platForm.form.interface_type"}},t._l(t.interfaceTypeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.updatedevType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ipAddr,expression:"ipAddr"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"IP地址/掩码",prop:"ipaddr"}},[a("Input",{staticStyle:{width:"350px"},model:{value:t.platForm.form.ipaddr,callback:function(e){t.$set(t.platForm.form,"ipaddr",e)},expression:"platForm.form.ipaddr"}}),t._v("/\n                    \n                    "),a("Select",{staticStyle:{width:"70px"},model:{value:t.platForm.form.subent,callback:function(e){t.$set(t.platForm.form,"subent",e)},expression:"platForm.form.subent"}},t._l(t.mackList,(function(e){return a("Option",{key:e,attrs:{value:e},nativeOn:{click:function(a){return t.updatePort(e)}}},[t._v(t._s(e))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addTest}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"d4a176b2",null).exports,n=(a("dd9d").Base64,{name:"NetworkInterface",components:{jk_tabs:i.a,interface_add:r},inject:["reload"],data:function(){return{dataCount:0,currentPage:1,pageSize:10,spipShow:!0,spIpaddr:"",columns1:[{title:"序号",key:"id",align:"center",size:"12",render:function(t,e){return t("span",e.index+1)}},{title:"接口类型",key:"type",align:"center"},{title:"网络接口",key:"real_interface",align:"center"},{title:"类型",key:"interface_type",align:"center"},{title:"IP地址",key:"ipaddr",align:"center"},{title:"子网掩码",key:"subent",align:"center"},{title:"状态",slot:"state",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],modal:{show:!1,form:{real_interface:"eth0",ipaddr:"",subent:24,type:"STATIC",interface_type:"common",state:"已禁用",id:""},rules:{ipaddr:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}]}},mackList:[],ipAddr:!0,ipv4:[],ipv6:[],testList:[],typeList:[{name:"静态IPv4",val:"STATIC"},{name:"静态IPv6",val:"STATICIPv6"},{name:"DHCP",val:"DHCP"}],interfaceTypeList:[{name:"业务口",val:"common"},{name:"管理口",val:"manage"},{name:"通道口",val:"channel"}],interfaceList:[{name:"eth0",val:"eth0"},{name:"eth1",val:"eth1"}],data1:[],data2:[{devType:"common",dev:"eth2",state:"disable",ipaddr:"192.168.11.32",ipType:"static",mask:"255.255.255.0"},{devType:"common",dev:"eth1",state:"enable",ipaddr:"192.168.11.31",ipType:"static",mask:"255.255.255.0"}],data3:[],stateTitle:"",stateContent:"",links:[{name:"接口列表",to:"/network/interface"},{name:"端口聚合",to:"/network/portTrunking"},{name:"Mac地址",to:"/network/mac"}],iconName:null}},mounted:function(){this.showIpAddr(),this.test(),this.push()},methods:{changepage:function(t){},findspIpAddr:function(){var t=this;this.$https.fetchGet(this.$api.network.findSPIpaddr.url).then((function(e){if(200==e.data.status)for(var a in t.spIpaddr=e.data.data,t.data3)t.data3[a].ipaddr==t.spIpaddr&&(t.data3[a].state="当前访问",t.data3[a].color="green",t.data3[a].iconName="");else t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},updatedevType:function(t){("common"==t||"manage"==t||"channel"==t)&&this.getUSBList(t)},getUSBList:function(t){var e=this,a={name:t};this.$https.fetchGet(this.$api.network.showEth.url,a).then((function(t){200==t.data.status?e.testList=t.data.data:e.$Notice.error({title:"获取数据失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:5})}))},test:function(){var t=this;this.$https.fetchGet(this.$api.network.showIfconfig.url).then((function(e){t.testList=e.data.data})).catch((function(t){}))},push:function(){for(var t=1;t<=32;t++)this.ipv4.push(t);for(var e=1;e<=128;e++)this.ipv6.push(e);this.mackList=this.ipv4},showIpAddr:function(){var t=this;this.$https.fetchGet(this.$api.network.showIPAddr.url).then((function(e){for(var a in t.dataCount=e.data.data.length,t.findspIpAddr(),t.data1=e.data.data,t.data3=t._.cloneDeep(e.data.data),t.data3)"disable"==t.data3[a].state?(t.data3[a].state="已禁用",t.data3[a].color="red",t.data3[a].iconName="ios-pause"):(t.data3[a].state="启用中",t.data3[a].color="green",t.data3[a].iconName="ios-play"),"STATIC"==t.data3[a].type?t.data3[a].type="静态ipv4":"STATICIPv6"==t.data3[a].type?t.data3[a].type="静态ipv6":t.data3[a].type="DHCP","common"==t.data3[a].interface_type?t.data3[a].interface_type="业务口":"channel"==t.data3[a].interface_type?t.data3[a].interface_type="通道口":t.data3[a].interface_type="管道口"})).catch((function(t){}))},deleteInterface:function(t,e){var a=this;"启用中"==e?this.$Modal.info({title:"warning",content:"接口启用时无法操作，请将接口状态调整为禁用后再操作"}):this.$Modal.confirm({title:"删除接口",content:"<p>当前操作将会导致该网口接口被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.network.delIpaddr.url,{key:t}).then((function(t){200==t.data.status?(a.$Message.info("接口配置删除成功"),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"接口配置删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:5})}))}})},updateState:function(t){var e=this;"已禁用"==this.data1[t].state||"disable"==this.data1[t].state?(this.stateTitle="启用接口",this.stateContent="确定要启用此接口吗?",this.modal.form.state="enable",this.api=this.$api.network.startIpaddr.url):(this.stateTitle="禁用接口",this.stateContent="确定要禁用此接口吗?",this.modal.form.state="disable",this.api=this.$api.network.stopIpaddr.url),this.modal.form.real_interface=this.data1[t].real_interface,this.modal.form.ipaddr=this.data1[t].ipaddr,this.modal.form.subent=parseInt(this.data1[t].subent),this.modal.form.type=this.data1[t].type,this.modal.form.interface_type=this.data1[t].interface_type,this.modal.form.id=this.data1[t].id,this.$Modal.confirm({title:this.stateTitle,content:"<p>"+this.stateContent+"</p>",loading:!0,onOk:function(){e.modal.form.subent=parseInt(e.data1[t].subent),e.$https.fetchPost(e.api,e.modal.form).then((function(t){200==t.data.status?(e.$Notice.success({title:"接口配置成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){e.$Modal.remove(),e.reload()}),250)):e.$Notice.error({title:"接口配置失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:5})}))}})},updateInterface:function(t,e){"启用中"==e?this.$Modal.info({title:"warning",content:"接口启用时无法操作，请将接口状态调整为禁用后再操作"}):(this.modal.show=!0,this.modal.form.real_interface=this.data1[t].real_interface,this.modal.form.ipaddr=this.data1[t].ipaddr,this.modal.form.subent=parseInt(this.data1[t].subent),this.modal.form.type=this.data1[t].type,this.modal.form.interface_type=this.data1[t].interface_type,"disable"==this.data1[t].state&&(this.data1[t].state="已禁用"),this.modal.form.state=this.data1[t].state,this.modal.form.id=this.data1[t].id,this.getUSBList(this.data1[t].interface_type),this.modal.form.ipaddr==this.spIpaddr?(this.spipShow=!1,this.$Notice.warning({title:"您正在修改当前IP接口",desc:"如若修改了IP地址页面可能出现卡死情况，请稍后刷新",duration:5})):this.spipShow=!0)},updateType:function(t){"ipv6"==t?(this.mackList=this.ipv6,this.ipAddr=!0,this.platForm.form.mack=64):"ipv4"==t?(this.mackList=this.ipv4,this.ipAddr=!0,this.platForm.form.mack=24):"dhcp"==t&&(this.ipAddr=!1)},restForm:function(){this.$refs.info_form.resetFields(),this.modal.form.ipaddr="",this.modal.form.subent=24,this.modal.form.interface_type="common"},addForm:function(){var t=this;this.$refs.info_form.validate((function(e){if(e)if(t.modal.form.subent){if(t.$util.queryDevIP4(t.modal.form.ipaddr)&&"STATICIPv6"==t.modal.form.type)return t.$Modal.warning({title:"warning",content:"你填写的ip地址不符合ipv6地址规范"}),void(t.modal.form.state="disable");if(t.$util.queryDevIP6(t.modal.form.ipaddr)&&"STATIC"==t.modal.form.type)return t.$Modal.warning({title:"warning",content:"你填写的ip地址不符合ipv4地址规范"}),void(t.modal.form.state="disable");if(!t.$util.queryDevIP4(t.modal.form.ipaddr)&&!t.$util.queryDevIP6(t.modal.form.ipaddr))return t.$Modal.warning({title:"warning",content:"你填写的ip地址不符合ipv4或ipv6地址规范"}),void(t.modal.form.state="disable");"已禁用"==t.modal.form.state||"disable"==t.modal.form.state?t.modal.form.state="disable":t.modal.form.state="enable",t.spipShow?t.$https.fetchPost(t.$api.network.updateIpaddr.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"接口配置修改成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"接口配置修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})})):t.spipShow||t.modal.form.ipaddr==t.spIpaddr||t.$https.fetchPost(t.$api.network.onLineIP.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"接口配置修改成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"接口配置修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}else t.$Modal.warning({title:"warning",content:"请选择端口号"})}))},updatePort:function(t){this.modal.form.subent=t}}}),l=(a("614a"),Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("interface_add",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data3},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[t.data3[s].iconName?a("Button",{staticStyle:{margin:"0 auto",width:"80px"},attrs:{icon:t.data3[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data3[s].color}},[t._v("\n                                    "+t._s(i.state)+"\n                                ")])]):t._e(),t.data3[s].iconName?t._e():a("div",[a("span",{style:{color:t.data3[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateInterface(s,i.state)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteInterface(i.id,i.state)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"修改接口",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"状态",prop:"status"}},[a("RadioGroup",{model:{value:t.modal.form.state,callback:function(e){t.$set(t.modal.form,"state",e)},expression:"modal.form.state"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用",disabled:""}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"网口",prop:"dev"}},[a("Select",{model:{value:t.modal.form.real_interface,callback:function(e){t.$set(t.modal.form,"real_interface",e)},expression:"modal.form.real_interface"}},t._l(t.testList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"接口类型",prop:"type"}},[a("Select",{model:{value:t.modal.form.type,callback:function(e){t.$set(t.modal.form,"type",e)},expression:"modal.form.type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.updateType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用途类型",prop:"devType"}},[a("Select",{model:{value:t.modal.form.interface_type,callback:function(e){t.$set(t.modal.form,"interface_type",e)},expression:"modal.form.interface_type"}},t._l(t.interfaceTypeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.updatedevType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.ipAddr,expression:"ipAddr"}],staticStyle:{"margin-bottom":"15px"},attrs:{label:"IP地址/掩码",prop:"ipaddr"}},[a("Input",{staticStyle:{width:"350px"},model:{value:t.modal.form.ipaddr,callback:function(e){t.$set(t.modal.form,"ipaddr",e)},expression:"modal.form.ipaddr"}}),t._v("/\n                    "),a("FormItem",{staticStyle:{"margin-bottom":"0px",display:"inline-block"},attrs:{prop:"subent"}},[a("Select",{staticStyle:{width:"70px"},model:{value:t.modal.form.subent,callback:function(e){t.$set(t.modal.form,"subent",e)},expression:"modal.form.subent"}},t._l(t.mackList,(function(e){return a("Option",{key:e,attrs:{value:e},nativeOn:{click:function(a){return t.updatePort(e)}}},[t._v(t._s(e))])})),1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"3300cb11",null));e.default=l.exports},"5e7e":function(t,e,a){"use strict";var i=a("a593");e.a=new i.default},"614a":function(t,e,a){"use strict";a("93e4")},6326:function(t,e,a){},"636a":function(t,e,a){"use strict";a.r(e);var i={inject:["reload"],name:"CarpSetting",components:{jk_tabs:a("25b1").a},data:function(){return{loading:!1,actionBackup:!1,isPreempt:!1,host:!1,data1:[],copydata:[],columns1:[{title:"序号",key:"ID",align:"center",width:70,render:function(t,e){return t("span",e.index+1)}},{title:"IP",align:"center",key:"ip",render:function(t,e){return e.row.nowMachine?t("span",{style:{fontWeight:"bold"}},e.row.ip+" [当前设备]"):t("span",e.row.ip)}},{title:"端口",align:"center",key:"port"},{title:"优先度",align:"center",key:"priority"},{title:"状态",align:"center",key:"state",render:function(t,e){return 0==e.row.state?t("span",{style:{padding:"5px 10px",color:"#fff",background:"#ce8282",borderRadius:"10px",display:"inline-block"}},"主机"):t("span","备机")}}],broadcastAddress:"",action:!1,backupIp:[{}],master:{priority:"",ip:"",port:"10000",broadcastAddress:"",id:"",nowMachine:""},indeterminate:!1,checkAll:!1,checkAllGroup:[],checkboxList:[],links:[{name:"双机热备配置",to:"/availability/carpSetting"}],form:{master:[],isPreempt:0,backupIps:[{}],action:1,models:[],virtualIp:[]}}},mounted:function(){this.host=!0,this.getCheckBoxList(),this.getMachineState()},methods:{getMachineState:function(){var t=this;this.$https.fetchPost(this.$api.avail.getMachineState.url,{},{timeout:12e4}).then((function(e){200==e.data.status?t.data1=e.data.data:t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})}))},checkaction:function(){var t=this;this.loading=!0,this.action?this.$https.fetchGet(this.$api.avail.startHotBackup.url).then((function(e){200==e.data.status?(setTimeout((function(){t.reload()}),1e3),t.$Notice.success({title:"热备启动成功",desc:"正在刷新页面",duration:2.5})):(t.action=!1,t.$Notice.error({title:"热备启动失败",desc:e.data.desc,duration:5})),t.loading=!1})).catch((function(e){t.loading=!1,t.$Notice.error({title:"请求失败",desc:e,duration:2.5}),t.action=!1})):this.$https.fetchGet(this.$api.avail.stopHotBackup.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"热备关闭成功",desc:"正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),1e3)):(t.action=!0,t.$Notice.error({title:"热备关闭失败",desc:e.data.desc,duration:5})),t.loading=!1})).catch((function(e){t.loading=!1,t.action=!0,t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},isHost:function(){var t=this;this.$https.fetchGet(this.$api.avail.isHost.url).then((function(e){200==e.data.status?t.host=e.data.data:t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},delvarIP:function(t){this.backupIp.splice(t,1)},addvarIP:function(){this.backupIp.push({state:0,port:1e4})},getCheckBoxList:function(){var t=this;this.$https.fetchGet(this.$api.avail.getDoubleBackups.url).then((function(e){if(200==e.data.status){var a=[];for(var i in e.data.data.backupIps)a.push(e.data.data.backupIps[i].ip);for(var s in t.backupIp=e.data.data.backupIps,null==e.data.data.master||(t.master=e.data.data.master),t.checkboxList=e.data.data.models,t.form.models=e.data.data.models,t.checkboxList)1==t.checkboxList[s].state?t.$set(t.checkboxList[s],"state",!1):0==t.checkboxList[s].state&&(t.$set(t.checkboxList[s],"state",!0),t.checkAllGroup.push(t.checkboxList[s].cname));0!=t.checkAllGroup.length&&(t.indeterminate=!0),t.checkAllGroup.length==t.checkboxList.length&&(t.checkAll=!0),0==e.data.data.action?(t.action=!0,t.actionBackup=!0):1==e.data.data.action&&(t.action=!1,t.actionBackup=!1),t.actionBackup,0==e.data.data.isPreempt?t.isPreempt=!0:1==e.data.data.isPreempt&&(t.isPreempt=!1)}else t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},updateDoubleBackups:function(){var t=this,e=_.cloneDeep(this.form);for(var a in e.backupIps=this.backupIp,e.models)1==e.models[a].state?e.models[a].state=0:0==e.models[a].state&&(e.models[a].state=1);if(1==this.action?e.action=0:e.action=1,1==this.isPreempt?e.isPreempt=0:e.isPreempt=1,e.master=this.master,this.$util.queryDevIP4(e.master.ip)||this.$util.queryDevIP6(e.master.ip))if(this.$util.testportnumber(e.master.port))if(e.master.priority<1||e.master.priority>255)this.$Notice.error({title:"修改失败",desc:"主机优先级范围为1-255",duration:5});else if(!e.master.broadcastAddress||this.$util.queryDevIP4(e.master.broadcastAddress)||this.$util.queryDevIP6(e.master.broadcastAddress)){if(this.host)if(e.backupIps.length>=1);else for(var i in e.backupIps){if(!this.$util.queryDevIP4(e.backupIps[i].ip)&&!this.$util.queryDevIP6(e.backupIps[i].ip))return void this.$Notice.error({title:"修改失败",desc:"备机组请输入正确的ip格式",duration:5});if(!this.$util.testportnumber(e.backupIps[i].port))return void this.$Notice.error({title:"修改失败",desc:"备机组端口请输入正确的端口格式",duration:5});if(e.backupIps[i].priority<1||e.backupIps[i].priority>255)return void this.$Notice.error({title:"修改失败",desc:"备机组优先级范围为1-255",duration:5});if(e.backupIps[i].broadcastAddress&&!this.$util.queryDevIP4(e.backupIps[i].broadcastAddress)&&!this.$util.queryDevIP6(e.backupIps[i].broadcastAddress))return void this.$Notice.error({title:"修改失败",desc:"备机组HA口ip请输入正确的ip格式",duration:5})}this.actionBackup!=this.action&&this.checkaction(),this.$https.fetchPost(this.$api.avail.updateHotBackups.url,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"双击热备配置成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"双击热备配置失败",desc:e.data.desc,duration:10})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:10})}))}else this.$Notice.error({title:"修改失败",desc:"主机HA口ip请输入正确的ip格式",duration:5});else this.$Notice.error({title:"修改失败",desc:"主机端口请输入正确的端口格式",duration:5});else this.$Notice.error({title:"修改失败",desc:"主机ip请输入正确的ip格式",duration:5})},handleCheckAll:function(){if(this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll){var t=[];for(var e in this.checkboxList)t.push(this.checkboxList[e].cname);for(var a in this.checkAllGroup=t,this.checkboxList)this.checkboxList[a].state=!0}else for(var i in this.checkAllGroup=[],this.checkboxList)this.checkboxList[i].state=!1},checkAllGroupChange:function(t){t.length==this.checkboxList?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},rowClassName:function(t,e){return t.nowMachine?"demo-table-info-row":""}}},s=(a("e302"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{"margin-bottom":"25px"}},[a("div",{staticStyle:{"margin-bottom":"25px"}},[a("Table",{attrs:{border:"","row-class-name":t.rowClassName,columns:t.columns1,data:t.data1}})],1),t.host?a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("常规设置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("i-switch",{staticStyle:{"margin-left":"12px"},attrs:{loading:t.loading,size:"large"},on:{"on-change":t.checkaction},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("ip")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.master.ip,callback:function(e){t.$set(t.master,"ip",e)},expression:"master.ip"}}),a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("端口")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.master.port,callback:function(e){t.$set(t.master,"port",e)},expression:"master.port"}}),a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("优先级")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.master.priority,callback:function(e){t.$set(t.master,"priority",e)},expression:"master.priority"}}),a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("HA口:")]),a("Input",{staticStyle:{width:"13%"},model:{value:t.master.broadcastAddress,callback:function(e){t.$set(t.master,"broadcastAddress",e)},expression:"master.broadcastAddress"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[0==t.backupIp.length?a("span",{staticStyle:{"margin-left":"15px","font-size":"12px","margin-top":"5px"}},[t._v("暂无配置")]):t._e(),t._l(t.backupIp,(function(e,i){return a("div",{key:i,staticStyle:{"margin-top":"5px"}},[a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("ip")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.backupIp[i].ip,callback:function(e){t.$set(t.backupIp[i],"ip",e)},expression:"backupIp[i].ip"}}),a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("端口")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.backupIp[i].port,callback:function(e){t.$set(t.backupIp[i],"port",e)},expression:"backupIp[i].port"}}),a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("优先级")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.backupIp[i].priority,callback:function(e){t.$set(t.backupIp[i],"priority",e)},expression:"backupIp[i].priority"}}),a("span",{staticStyle:{margin:"0 5px 0 12px"}},[t._v("HA口:")]),a("Input",{staticStyle:{width:"13%"},model:{value:t.backupIp[i].broadcastAddress,callback:function(e){t.$set(t.backupIp[i],"broadcastAddress",e)},expression:"backupIp[i].broadcastAddress"}}),a("i-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small"},on:{click:function(e){return t.delvarIP(i)}}},[t._v("删除")])],1)})),a("i-button",{staticStyle:{margin:"10px 0 5px 30px"},attrs:{icon:"md-add",size:"small"},on:{click:t.addvarIP}},[t._v("添加")])],2)]),a("tr",{staticStyle:{height:"40px"}})])])]):t._e(),t.host?a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left",margin:"20px 0"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("配置同步选项")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{indeterminate:t.indeterminate,value:t.checkAll},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll(e)}}},[t._v("全选/反选")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("CheckboxGroup",{staticStyle:{"margin-left":"15px"},on:{"on-change":t.checkAllGroupChange},model:{value:t.checkAllGroup,callback:function(e){t.checkAllGroup=e},expression:"checkAllGroup"}},t._l(t.checkboxList,(function(e,i){return a("span",{key:i},[a("span",[a("Checkbox",{attrs:{label:e.cname},model:{value:e.state,callback:function(a){t.$set(e,"state",a)},expression:"val.state"}})],1)])})),0)],1)])]),a("i-button",{staticStyle:{display:"block",width:"60px",margin:"10px auto"},attrs:{type:"primary"},on:{click:t.updateDoubleBackups}},[t._v("提交")])],1)]):t._e(),t.host?t._e():a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left",margin:"20px 0"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("常规设置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("span",{staticStyle:{margin:"0 5px 0 15px"}},[t._v("ip")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.master.ip,callback:function(e){t.$set(t.master,"ip",e)},expression:"master.ip"}}),a("span",{staticStyle:{margin:"0 5px 0 15px"}},[t._v("端口")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.master.port,callback:function(e){t.$set(t.master,"port",e)},expression:"master.port"}}),a("span",{staticStyle:{margin:"0 5px 0 15px"}},[t._v("优先级")]),a("Input",{staticStyle:{width:"13%","margin-right":"15px"},model:{value:t.master.priority,callback:function(e){t.$set(t.master,"priority",e)},expression:"master.priority"}}),a("span",{staticStyle:{margin:"0 5px 0 15px"}},[t._v("HA口:")]),a("Input",{staticStyle:{width:"13%"},model:{value:t.master.broadcastAddress,callback:function(e){t.$set(t.master,"broadcastAddress",e)},expression:"master.broadcastAddress"}})],1)])]),a("i-button",{staticStyle:{display:"block",width:"60px",margin:"10px auto"},attrs:{type:"primary"},on:{click:t.updateDoubleBackups}},[t._v("提交")])],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"17.5%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("启用双机热备:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"17.5%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("主机IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"17.5%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("备机IP组:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"17.5%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("全选/取消:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"17.5%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("用户管理:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"17.5%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设置主机IP:")])])}],!1,null,"05ec9e40",null);e.default=o.exports},6502:function(t,e,a){"use strict";a("bdc2")},6521:function(t,e,a){"use strict";a("ed32")},"65d4":function(t,e,a){"use strict";a.r(e);var i=(a("4473"),a("2c07")),s=Object(i.a)({name:"Test",components:{},data:function(){return{}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)}),[],!1,null,"5801eea5",null);e.default=s.exports},"6c06":function(t,e,a){"use strict";a.r(e);var i={name:"LocalAccessControl",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{links:[{name:"FTP服务",to:"/local/ftp"},{name:"强制访问控制",to:"/local/accessControl"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]},checked:!1,checkedNames:[],checkedArr:["user","pass","acct","cwd","cdup","smnt","quit","rein","port","pasv","type","stru","mode","retr","stor","stou","appe","allo","rest","rnfr","rnto","abor","dele","rmd","mkd","pwd","list","nlst","site","syst","stat","help","noop"]}},methods:{changeAllChecked:function(){this.checked?this.checkedNames=this.checkedArr:this.checkedNames=[]}},watch:{checkedNames:function(){this.checkedNames.length==this.checkedArr.length?this.checked=!0:this.checked=!1}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[t._m(0),t._m(1),a("div",{staticStyle:{border:"1px solid #666",height:"280px",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("操作权限设置")]),a("div",{staticStyle:{width:"98%",height:"30px",border:"1px solid gray",float:"left",margin:"15px 10px 0px"}},[t._m(2),a("div",{staticStyle:{float:"left",width:"40%",height:"28px",margin:"5px 10px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:[function(e){var a=t.checked,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.checked=a.concat([null])):o>-1&&(t.checked=a.slice(0,o).concat(a.slice(o+1)))}else t.checked=s},function(e){return t.changeAllChecked()}]}})])]),a("div",{staticStyle:{width:"98%",height:"220px",border:"1px solid gray",float:"left",margin:"0px 10px"}},[t._m(3),a("div",{staticStyle:{float:"left",width:"73%",height:"218px",margin:"5px 10px"}},[a("table",{staticStyle:{width:"100%",height:"100%"}},[a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"user"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"user")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"user");i.checked?o<0&&(t.checkedNames=a.concat(["user"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("USER(用户名)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"pass"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"pass")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"pass");i.checked?o<0&&(t.checkedNames=a.concat(["pass"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("PASS(密码)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"acct"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"acct")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"acct");i.checked?o<0&&(t.checkedNames=a.concat(["acct"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("ACCT(接收)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"cwd"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"cwd")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"cwd");i.checked?o<0&&(t.checkedNames=a.concat(["cwd"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("CWD(改变工作路径)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"cdup"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"cdup")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"cdup");i.checked?o<0&&(t.checkedNames=a.concat(["cdup"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("CDUP(返回上一级目录)")])]),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"smnt"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"smnt")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"smnt");i.checked?o<0&&(t.checkedNames=a.concat(["smnt"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("SMNT(结构加载)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"quit"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"quit")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"quit");i.checked?o<0&&(t.checkedNames=a.concat(["quit"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("QUIT(用户退出)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"rein"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"rein")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"rein");i.checked?o<0&&(t.checkedNames=a.concat(["rein"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("REIN(重新初始化)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"port"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"port")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"port");i.checked?o<0&&(t.checkedNames=a.concat(["port"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("PORT(主动)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"pasv"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"pasv")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"pasv");i.checked?o<0&&(t.checkedNames=a.concat(["pasv"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("PASV(被动)")])]),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"type"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"type")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"type");i.checked?o<0&&(t.checkedNames=a.concat(["type"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("TYPE(类型)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"stru"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"stru")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"stru");i.checked?o<0&&(t.checkedNames=a.concat(["stru"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("STRU(文件结构)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"mode"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"mode")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"mode");i.checked?o<0&&(t.checkedNames=a.concat(["mode"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("MODE(传输模式)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"retr"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"retr")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"retr");i.checked?o<0&&(t.checkedNames=a.concat(["retr"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("RETR(下载文件)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"stor"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"stor")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"stor");i.checked?o<0&&(t.checkedNames=a.concat(["stor"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("STOR(保存文件)")])]),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"stou"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"stou")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"stou");i.checked?o<0&&(t.checkedNames=a.concat(["stou"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("STOU(唯一保存)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"appe"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"appe")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"appe");i.checked?o<0&&(t.checkedNames=a.concat(["appe"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("APPE(追加或者新建文件)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"allo"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"allo")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"allo");i.checked?o<0&&(t.checkedNames=a.concat(["allo"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("ALLO(分配)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"rest"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"rest")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"rest");i.checked?o<0&&(t.checkedNames=a.concat(["rest"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("REST(重新开始)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"rnfr"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"rnfr")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"rnfr");i.checked?o<0&&(t.checkedNames=a.concat(["rnfr"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("RNFR(重命名)")])]),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"rnto"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"rnto")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"rnto");i.checked?o<0&&(t.checkedNames=a.concat(["rnto"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("RNTO(重命名为)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"abor"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"abor")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"abor");i.checked?o<0&&(t.checkedNames=a.concat(["abor"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("ABOR(放弃)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"dele"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"dele")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"dele");i.checked?o<0&&(t.checkedNames=a.concat(["dele"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("DELE(删除文件)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"rmd"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"rmd")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"rmd");i.checked?o<0&&(t.checkedNames=a.concat(["rmd"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("RMD(删除目录)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"mkd"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"mkd")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"mkd");i.checked?o<0&&(t.checkedNames=a.concat(["mkd"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("MKD(创建目录)")])]),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"pwd"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"pwd")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"pwd");i.checked?o<0&&(t.checkedNames=a.concat(["pwd"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("PWD(打印目录)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"list"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"list")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"list");i.checked?o<0&&(t.checkedNames=a.concat(["list"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("LIST(列表)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"nlst"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"nlst")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"nlst");i.checked?o<0&&(t.checkedNames=a.concat(["nlst"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("NLST(名字列表)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"site"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"site")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"site");i.checked?o<0&&(t.checkedNames=a.concat(["site"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("SITE(站点参数)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"syst"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"syst")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"syst");i.checked?o<0&&(t.checkedNames=a.concat(["syst"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("SYST(系统)")])]),a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"stat"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"stat")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"stat");i.checked?o<0&&(t.checkedNames=a.concat(["stat"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("STAT(状态)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"help"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"help")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"help");i.checked?o<0&&(t.checkedNames=a.concat(["help"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("HELP(帮助)")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedNames,expression:"checkedNames"}],attrs:{type:"checkbox",value:"noop"},domProps:{checked:Array.isArray(t.checkedNames)?t._i(t.checkedNames,"noop")>-1:t.checkedNames},on:{change:function(e){var a=t.checkedNames,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,"noop");i.checked?o<0&&(t.checkedNames=a.concat(["noop"])):o>-1&&(t.checkedNames=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedNames=s}}}),t._v("NOOP(等待)")])])])])])]),t._m(4)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"30px",border:"1px solid gray",float:"left"}},[e("div",{staticStyle:{width:"25%",height:"28px",float:"left","border-right":"1px solid gray","background-color":"#eee"}},[e("span",{staticStyle:{float:"right",margin:"5px 10px","font-size":"12px"}},[this._v("启用强制访问控制")])]),e("div",{staticStyle:{float:"left",width:"40%",height:"28px",margin:"5px 10px"}},[e("input",{attrs:{type:"checkbox"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{border:"1px solid #666",height:"250px",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[e("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[this._v("白名单设置")]),e("div",{staticStyle:{width:"98%",height:"220px",border:"1px solid gray",margin:"15px 10px"}},[e("div",{staticStyle:{width:"25%",height:"218px",float:"left","border-right":"1px solid gray","background-color":"#eee"}},[e("span",{staticStyle:{float:"right",margin:"109px 10px","font-size":"12px"}},[this._v("白名单列表")])]),e("div",{staticStyle:{float:"left",width:"40%",height:"218px",margin:"5px 10px"}},[e("textarea",{staticStyle:{width:"670px",height:"170px"}}),e("span",{staticStyle:{"font-size":"12px"}},[this._v("提示:输入允许主机列表IP，多个输入用换行隔开")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"25%",height:"28px",float:"left","border-right":"1px solid gray","background-color":"#eee"}},[e("span",{staticStyle:{float:"right",margin:"5px 10px","font-size":"12px"}},[this._v("全选/取消")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"25%",height:"218px",float:"left","border-right":"1px solid gray","background-color":"#eee"}},[e("span",{staticStyle:{float:"right",margin:"109px 10px","font-size":"12px"}},[this._v("勾选代表允许的操作命令")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])}],!1,null,"e2cfebb6",null);e.default=o.exports},"6ca2":function(t,e,a){"use strict";a.r(e);var i={name:"trust_auth_setting",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{indeterminate:!1,checkAll:!1,checkAllGroup:[],isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"可信接入认证",to:"/local/trust"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["客户端防病毒引擎","客户端应用进程保护","客户端注册表保护"]:this.checkAllGroup=[]},checkAllGroupChange:function(t){3===t.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("认证服务器")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}})],1)])])])]),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("安全选项")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{indeterminate:t.indeterminate,value:t.checkAll},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll(e)}}},[t._v("全选")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("CheckboxGroup",{staticStyle:{"margin-left":"15px"},on:{"on-change":t.checkAllGroupChange},model:{value:t.checkAllGroup,callback:function(e){t.checkAllGroup=e},expression:"checkAllGroup"}},[a("Checkbox",{attrs:{label:"客户端防病毒引擎"}}),a("Checkbox",{attrs:{label:"客户端应用进程保护"}}),a("Checkbox",{attrs:{label:"客户端注册表保护"}})],1)],1)])])])]),t._m(6)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器网关地址:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器网关端口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("应用程序ID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("客户端HashID:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("全选/取消:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("用户管理:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])}],!1,null,"7603bcb4",null);e.default=o.exports},"6dc1":function(t,e,a){"use strict";a("959e")},"70ed":function(t,e,a){},"72f5":function(t,e,a){"use strict";a("82ec")},"74a9":function(t,e,a){"use strict";a.r(e);var i=(a("1e64"),a("2c07")),s=Object(i.a)({name:"Log",components:{},provide:function(){return{reload:this.reload}},data:function(){return{IsRouterAlive:!0}},mounted:function(){},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n            日志与审计\n            ")])])}],!1,null,"7f99c6e0",null);e.default=s.exports},"74af":function(t,e,a){"use strict";a.r(e);var i={name:"DataSync",components:{jk_tabs:a("25b1").a},data:function(){return{type:"native",typeList:[{label:"原生",value:"native"},{label:"Client",value:"client"}],clientIP:"127.0.0.1",isShow:!1,ishostShow:!1,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"通讯配置",to:"/data/comm"},{name:"同步模式",to:"/data/sync"},{name:"同步锁配置",to:"/data/syncLock"},{name:"同步锁缓存",to:"/data/lockCache"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){this.isShow="client"==t},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Select",{staticStyle:{width:"100px","margin-left":"15px"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value},nativeOn:{click:function(a){return t.configData(e.value)}}},[t._v(t._s(e.label))])})),1)],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:"240"},model:{value:t.clientIP,callback:function(e){t.clientIP=e},expression:"clientIP"}})],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[t._m(2),a("td",[a("RadioGroup",{model:{value:t.animal,callback:function(e){t.animal=e},expression:"animal"}},[a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"1"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"2"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"3"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"4"}},[a("span")])],1)])],1)])])]),t._m(3)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("数据库同步模式:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("Client IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备1内端(T端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备1外端(NT端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备2内端(T端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0","font-size":"12px"}},[this._v("设备2外端(NT端):")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])}],!1,null,"8bf03dbc",null);e.default=o.exports},"762b":function(t,e,a){"use strict";a("70ed")},"76c4":function(t,e,a){"use strict";a("be85")},"771f":function(t,e,a){"use strict";a("53ba")},7837:function(t,e,a){"use strict";a("29ef")},"7af4":function(t,e,a){"use strict";a.r(e);var i={name:"DataLockCache",components:{jk_tabs:a("25b1").a},data:function(){return{clearCache:["锁命令报文队列","同步锁线程中锁命令报文队列","锁命令解释队列","本地目标数据资源队列","远程目标数据资源队列"],type:"native",typeList:[{label:"原生",value:"native"},{label:"Client",value:"client"}],clientIP:"127.0.0.1",isShow:!1,ishostShow:!1,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"通讯配置",to:"/data/comm"},{name:"同步模式",to:"/data/sync"},{name:"同步锁配置",to:"/data/syncLock"},{name:"同步锁缓存",to:"/data/lockCache"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){this.isShow="client"==t},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},s=(a("1640"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("p",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("SUCCESS/[查看客户端模式同步锁缓存]")]),a("p",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("锁命令报文:")]),a("p",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("同步锁线程中锁命令报文:")]),a("p",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("锁命令解释:")]),a("p",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("本地目标数据资源:")]),a("p",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("远程目标数据资源: "),a("Button",{staticStyle:{"margin-left":"10%"},attrs:{size:"small",type:"warning"}},[t._v("刷新")])],1)])]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("CheckboxGroup",{model:{value:t.clearCache,callback:function(e){t.clearCache=e},expression:"clearCache"}},[a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{label:"锁命令报文队列"}}),a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{label:"同步锁线程中锁命令报文队列"}}),a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{label:"锁命令解释队列"}}),a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{label:"本地目标数据资源队列"}}),a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{label:"远程目标数据资源队列"}})],1),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"warning"}},[t._v("清除")])],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{placeholder:"240"},model:{value:t.clientIP,callback:function(e){t.clientIP=e},expression:"clientIP"}})],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[t._m(3),a("td",[a("RadioGroup",{model:{value:t.animal,callback:function(e){t.animal=e},expression:"animal"}},[a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"1"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"2"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"3"}},[a("span")])],1),a("div",{staticStyle:{width:"100%",height:"40px"}},[a("Input",{staticStyle:{width:"150px",margin:"5px 0 0 15px"},attrs:{placeholder:"240"}}),a("Radio",{staticStyle:{"margin-left":"5px"},attrs:{label:"4"}},[a("span")])],1)])],1)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("锁缓存列表:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("清除缓存:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px"}},[this._v("清除缓存:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0"}},[this._v("设备1内端(T端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0"}},[this._v("设备1外端(NT端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0"}},[this._v("设备2内端(T端):")])]),e("div",{staticStyle:{width:"100%",height:"40px"}},[e("span",{staticStyle:{float:"right",margin:"10px 15px 0 0"}},[this._v("设备2外端(NT端):")])])])}],!1,null,"b5dc9432",null);e.default=o.exports},"7d0a":function(t,e,a){"use strict";a.r(e),a("cc57");var i=a("25b1"),s={name:"NetworkInterfaceAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{name:"",ipaddr:"",type:"default",state:"禁用"}},typeList:[{name:"默认",val:"default"},{name:"常规",val:"common"}]}},computed:{},mounted:function(){},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.platForm.form.name?t.$util.queryDevIP4(t.platForm.form.ipaddr)||t.$util.queryDevIP6(t.platForm.form.ipaddr)?("禁用"==t.platForm.form.state||"disable"==t.platForm.form.state?t.platForm.form.state="disable":t.platForm.form.state="enable",t.$https.fetchPost(t.$api.gateway.addGateway.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"业务添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"业务添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))):t.$Modal.warning({title:"warning",content:"请正确填写合法的ipv4或ipv6"}):t.$Modal.warning({title:"warning",content:"请填写名称"}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields(),this.platForm.form.ipaddr=""}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"编辑默认网关",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:t.platForm.form.state,callback:function(e){t.$set(t.platForm.form,"state",e)},expression:"platForm.form.state"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用",disabled:""}})],1)],1),a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{model:{value:t.platForm.form.name,callback:function(e){t.$set(t.platForm.form,"name",e)},expression:"platForm.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"默认网关IP",prop:"ipaddr"}},[a("Input",{model:{value:t.platForm.form.ipaddr,callback:function(e){t.$set(t.platForm.form,"ipaddr",e)},expression:"platForm.form.ipaddr"}}),a("span",{staticStyle:{color:"red"}},[t._v("注:请填写一个IPv4或IPv6地址")])],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"类型",prop:"type"}},[a("Select",{model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"7f19f6f5",null).exports,n={name:"NetworkGateway",components:{jk_tabs:i.a,gateway_add:r},inject:["reload"],data:function(){return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",key:"name",align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"默认网关",key:"ipaddr",align:"center"},{title:"类型",key:"type",align:"center"},{title:"状态",slot:"state",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],modal:{show:!1,form:{name:"",ipaddr:"",type:"default",state:"禁用",id:""},rules:{ipaddr:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}],name:[{required:!0,message:"不能为空",trigger:"blur"}]}},typeList:[{name:"默认",val:"default"},{name:"常规",val:"common"}],api:null,data1:[],data2:[{gefaultGW:"192.168.10.254",dsc:"11",state:"start",gwName:"table-expand.vue"},{gefaultGW:"192.168.10.254",dsc:"11",state:"stop",gwName:"table-expand.vue"}],data3:[],stateTitle:"",stateContent:"",links:[{name:"设置默认网关",to:"/network/gateway"}]}},mounted:function(){this.showGateway()},methods:{changepage:function(t){},showGateway:function(){var t=this;this.$https.fetchGet(this.$api.gateway.showGateway.url).then((function(e){for(var a in t.data1=e.data.data,t.dataCount=e.data.data.length,t.data3=_.cloneDeep(t.data1),t.data1)"disable"==t.data1[a].state?(t.data1[a].state="已禁用",t.data1[a].color="red",t.data1[a].iconName="ios-pause"):(t.data1[a].state="启用中",t.data1[a].color="green",t.data1[a].iconName="ios-play"),"default"==t.data1[a].type?t.data1[a].type="默认":t.data1[a].type="常规"})).catch((function(t){}))},updateState:function(t){var e=this;"已禁用"==this.data3[t].state||"disable"==this.data3[t].state?(this.stateTitle="启用网关",this.stateContent="确定要启用此网关吗?",this.modal.form.state="enable",this.api=this.$api.gateway.startGateway.url):(this.stateTitle="禁用网关",this.stateContent="确定要禁用此网关吗?",this.modal.form.state="disable",this.api=this.$api.gateway.stopGateway.url),this.modal.form.name=this.data3[t].name,this.modal.form.ipaddr=this.data3[t].ipaddr,this.modal.form.type=this.data3[t].type,this.modal.form.id=this.data3[t].id,this.$Modal.confirm({title:this.stateTitle,content:"<p>"+this.stateContent+"</p>",loading:!0,onOk:function(){e.$refs.info_form.validate((function(t){t&&e.$https.fetchPost(e.api,e.modal.form).then((function(t){200==t.data.status?(e.$Notice.success({title:"网关配置成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){e.$Modal.remove(),e.reload()}),250)):(e.$Notice.error({title:"网关配置失败",desc:"错误："+t.data.desc,duration:5}),e.$Modal.remove())})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:5})}))}))}})},deleteGateway:function(t,e){var a=this;"启用中"==e?this.$Modal.info({title:"warning",content:"网关启用时无法操作，请将接口状态调整为禁用后再操作"}):this.$Modal.confirm({title:"删除网关配置",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.gateway.delGateway.url,{key:t}).then((function(t){200==t.data.status?(a.$Message.info("网关配置删除成功"),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"网关配置删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:5})}))}})},updateGateway:function(t,e){"启用中"==e?this.$Modal.info({title:"warning",content:"网关启用时无法操作，请将接口状态调整为禁用后再操作"}):(this.modal.show=!0,this.modal.form.name=this.data3[t].name,this.modal.form.ipaddr=this.data3[t].ipaddr,"默认"==this.modal.form.type?this.data3[t].type="default":this.data3[t].type="common",this.modal.form.state=this.data3[t].state,this.modal.form.id=this.data3[t].id)},restForm:function(){this.$refs.info_form.resetFields()},addForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&("已禁用"==t.modal.form.state||"disable"==t.modal.form.state?t.modal.form.state="disable":t.modal.form.state="enable",t.$https.fetchPost(t.$api.gateway.updateGateway.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"代理配置修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"代理配置修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})})))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("gateway_add",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{icon:t.data1[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data1[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateGateway(s,i.state)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteGateway(i.id,i.state)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"修改默认网关",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:t.modal.form.state,callback:function(e){t.$set(t.modal.form,"state",e)},expression:"modal.form.state"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用",disabled:""}})],1)],1),a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{model:{value:t.modal.form.name,callback:function(e){t.$set(t.modal.form,"name",e)},expression:"modal.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"默认网关IP",prop:"ipaddr"}},[a("Input",{model:{value:t.modal.form.ipaddr,callback:function(e){t.$set(t.modal.form,"ipaddr",e)},expression:"modal.form.ipaddr"}}),a("span",{staticStyle:{color:"red"}},[t._v("注:请填写一个IPv4或IPv6地址")])],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"类型",prop:"type"}},[a("Select",{model:{value:t.modal.form.type,callback:function(e){t.$set(t.modal.form,"type",e)},expression:"modal.form.type"}},t._l(t.typeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.updateType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"89928c8c",null);e.default=l.exports},"7d94":function(t,e,a){"use strict";a.r(e),a("cc57");var i={name:"SysToolSMB",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{ip:"",name:"",password:"",SMB:""},links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"},{name:"SMB服务",to:"/sys/toolSMB"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.$https.fetchPost(this.$api.sys.ftpTest.url,{ip:this.form.ip,name:this.form.name,password:this.form.password,time:this.form.time}).then((function(e){200==e.data.status?(t.textareaShow=!0,t.value=e.data.data):(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2}),this.textareaShow=!1}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.session_timeout,callback:function(e){t.$set(t.form,"session_timeout",e)},expression:"form.session_timeout"}})],1)])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},on:{click:function(e){return t.submit()}}},[t._v("确认")])],1),t.textareaShow?a("Input",{attrs:{type:"textarea",rows:20,placeholder:"Enter something..."},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器地址:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器账号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器密码:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("SMB目录:")])])}],!1,null,"7be1f5f2",null);e.default=o.exports},"82ec":function(t,e,a){},"86ae":function(t,e,a){},"87d4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABACAYAAABSiYopAAABy0lEQVR4Xu3cMUoDQRjF8f9n6SXEygt4AG1SeQlBs6Sw8AbuCezEXXIGOwsrtbKyEgsLQcTOO2Rkg7F1ntkwrr5tAuHN7MyPl5AEMsHnlSr2SRwBW8D64vnCjy/AA3AcLc+F10J0C0hjroBR6cV8c/+NaHktucZIFWMSTclFZN77Mlr2MrMriUUacwZMVjJ735OusRnndC/NIlekQ64JdorcXb3pjN2YcqMO6ytvLEHSWH8WC2phb8tGH5lxF1PeFhMNq1nLbv9n49toqbqhxsoDrKPlxFh5WDBjZKxcrMTEWLlYUBvLWPkCQtLN0rGEEf82GtzOf8/ylSdgrDynecpYxhIEhKibpWClg4H8SipsalVRf4LPl/WH0nwrfzcUrIxlLEVAyPo9y1iCgBB1s4wlCAhRN8tYgoAQdbOMJQgIUTfLWIKAEHWzjCUICFE3y1iCgBB1s4wlCAhRN8tYgoAQdbOMJQgIUTfLWIKAEHWzjCUICFE3y1iCgBB1s4wlCAhRN8tYgoAQdbOMJQgI0XpYh2AIO+s92p0pMaDjVXrff/aEwX00bA/p4J7svfUeDKpoaL/+YfFLj4Tqfd/ZEybeCZ4ITqPhohv3AbQYyY1eY1yKAAAAAElFTkSuQmCC"},8913:function(t,e,a){},"893a":function(t,e,a){"use strict";a("f03d")},"89d9":function(t,e,a){},"8a1a":function(t,e,a){"use strict";a.r(e);var i={name:"SysEquipmentInfo",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{form:{eqid:"",eqposition:"undefined",t1ip:"",nt1ip:"",t2ip:"",nt2ip:"",t1no:"",nt1no:"",t2no:"",nt2no:""},isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],List:[{value:"undefined",label:"未定义"},{value:"T1",label:"T1"},{value:"T2",label:"T2"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"设备信息",to:"/sys/equipmentInfo"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n           系统配置\n    ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("编号设置")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.eqid,callback:function(e){t.$set(t.form,"eqid",e)},expression:"form.eqid"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Select",{staticStyle:{width:"95px","margin-left":"15px"},model:{value:t.form.eqposition,callback:function(e){t.$set(t.form,"eqposition",e)},expression:"form.eqposition"}},t._l(t.List,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.t1ip,callback:function(e){t.$set(t.form,"t1ip",e)},expression:"form.t1ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.nt1ip,callback:function(e){t.$set(t.form,"nt1ip",e)},expression:"form.nt1ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.t2ip,callback:function(e){t.$set(t.form,"t2ip",e)},expression:"form.t2ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.nt2ip,callback:function(e){t.$set(t.form,"nt2ip",e)},expression:"form.nt2ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(6),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.t1no,callback:function(e){t.$set(t.form,"t1no",e)},expression:"form.t1no"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(7),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.nt1no,callback:function(e){t.$set(t.form,"nt1no",e)},expression:"form.nt1no"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(8),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.t2no,callback:function(e){t.$set(t.form,"t2no",e)},expression:"form.t2no"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(9),a("td",[a("Input",{staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.nt2no,callback:function(e){t.$set(t.form,"nt2no",e)},expression:"form.nt2no"}})],1)])]),a("span",{staticStyle:{"font-size":"12px"}},[t._v("注:默认NT1和T2可以连接到集控")]),a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 0 10px 10px"},attrs:{"data-toggle":"modal"}},[t._v("确认")])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备编号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备位置选择:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备T1(内端)IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备NT1(外端)IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备T2(内端)IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备NT2(外端)IP:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备T1(内端)编号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备NT1(外端)编号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备T2(内端)编号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备NT2(外端)编号:")])])}],!1,null,"1843a427",null);e.default=o.exports},"8ace":function(t,e,a){},"8b17":function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"LocalFtpAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{username:null,password:null,path:null,state:"stop"},rules:{username:[{required:!0,max:30,pattern:/^[a-zA-Z0-9_\s]*$/,message:"用户名请输入数字或英文或下划线",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],password:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:20,message:"长度不超过20",trigger:"blur"},{min:6,message:"长度请大于6",trigger:"blur"}]}}}},computed:{},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.platForm.form.path="/home/ftp/"+t.platForm.form.username,t.$https.fetchPost(t.$api.local.addFtp.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"FTP服务添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"FTP服务添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n            新增\n        ")]),a("Drawer",{attrs:{title:"本地FTP服务",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"10c9dfe2",null).exports,n={name:"LocalFtp",components:{jk_tabs:i.a,ftpAdd:r},inject:["reload"],data:function(){return{dataCount:0,currentPage:1,pageSize:10,columns1:[{title:"序号",key:"id",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"用户名",key:"username",align:"center"},{title:"FTP目录",key:"path",align:"center"},{title:"状态",slot:"state",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"FTP服务",to:"/local/ftp"},{name:"强制访问控制",to:"/local/accessControl"}],modal:{show:!1,form:{username:null,password:null,path:null,state:null},rules:{username:[{required:!0,max:30,pattern:/^[a-zA-Z0-9_\s]*$/,message:"用户名请输入数字或英文或下划线",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],password:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"请输入数字或英文或下划线的组合",trigger:"blur"},{max:20,message:"长度不超过20",trigger:"blur"},{min:6,message:"长度请大于6",trigger:"blur"}]}},data1:[],data3:[],iconName:null,api:null,stateTitle:null,stateContent:null}},mounted:function(){this.test()},methods:{changepage:function(t){},test:function(){var t=this;this.$https.fetchGet(this.$api.local.findFtpInfo.url).then((function(e){for(var a in t.data1=e.data.data,t.dataCount=e.data.data.length,t.data3=t._.cloneDeep(e.data.data),t.data3)"stop"==t.data3[a].state?(t.data3[a].state="已禁用",t.data3[a].color="red",t.data3[a].iconName="ios-pause"):(t.data3[a].state="启用中",t.data3[a].color="green",t.data3[a].iconName="ios-play")})).catch((function(t){}))},deleteFtp:function(t,e){var a=this;"start"!=this.data1[e].state?this.$Modal.confirm({title:"删除FTP服务",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.local.delFtp.url,{id:t}).then((function(t){200==t.data.status?(a.$Message.info("FTP服务删除成功"),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"FTP服务删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}}):this.$Notice.error({title:"启用中无法修改",duration:2.5})},updateState:function(t){var e=this;"stop"==this.data1[t].state?(this.stateTitle="启用服务",this.stateContent="确定要启用此服务吗?",this.modal.form.state="start",this.api=this.$api.local.startFtp.url):(this.stateTitle="禁用服务",this.stateContent="确定要禁用此服务吗?",this.modal.form.state="stop",this.api=this.$api.local.stopFtp.url),this.modal.form.username=this.data1[t].username,this.modal.form.password=this.data1[t].password,this.modal.form.path=this.data1[t].path,this.modal.form.id=this.data1[t].id,this.$Modal.confirm({title:this.stateTitle,content:"<p>"+this.stateContent+"</p>",loading:!0,onOk:function(){e.$https.fetchPost(e.api,e.modal.form).then((function(t){200==t.data.status?(e.$Notice.success({title:"服务配置成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){e.$Modal.remove(),e.reload()}),250)):(e.$Modal.remove(),e.$Notice.error({title:"服务配置失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtp:function(t){"start"!=this.data1[t].state?(this.modal.show=!0,this.modal.form.id=this.data1[t].id,this.modal.form.username=this.data1[t].username,this.modal.form.password=this.data1[t].password,this.modal.form.path=this.data1[t].path,this.modal.form.state=this.data1[t].state,"stop"==this.data1[t].state?this.modal.form.state="stop":this.modal.form.state="start"):this.$Notice.error({title:"启用中无法修改",duration:2.5})},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&(t.modal.form.path="/home/ftp/"+t.modal.form.username,t.$https.fetchPost(t.$api.local.updateFtp.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"FTP服务修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"FTP服务修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("ftpAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data3},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{icon:t.data3[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data3[s].color}},[t._v("\n                                "+t._s(i.state)+"\n                            ")])])]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtp(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtp(i.id,s)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"本地FTP服务",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.modal.form.username,callback:function(e){t.$set(t.modal.form,"username",e)},expression:"modal.form.username"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.modal.form.password,callback:function(e){t.$set(t.modal.form,"password",e)},expression:"modal.form.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"1686357b",null);e.default=l.exports},"8ba2":function(t,e,a){"use strict";a("6326")},"8d82":function(t,e,a){},"8dfd":function(t,e,a){"use strict";a.r(e);var i=(a("541c"),a("2c07")),s=Object(i.a)({name:"Data",components:{},provide:function(){return{reload:this.reload}},data:function(){return{IsRouterAlive:!0}},mounted:function(){},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n            网络配置\n        ")])])}],!1,null,"1abee2c1",null);e.default=s.exports},"8f00":function(t,e,a){"use strict";a.r(e),a("9a33");var i={name:"SysBusinessMonitoring",components:{contrastLine:a("d1c3").default},inject:["reload"],data:function(){return{switchValue:!1,columns1:[{align:"center",title:"接口",key:"name"},{align:"center",title:"物理口",key:"age"},{align:"center",title:"IP地址",key:"address"},{align:"center",title:"启用状态",key:"address"},{align:"center",title:"链路状态",key:"address"}],data1:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"}],sysCfg:{input:0,switch:!0},webSocket:null,text:{},randomMovieList:[{title:"型号",content:"ViGap安全隔离与信息单向导入系统"},{title:"版本",content:"1.0.5.1_38 (数据库) | 1.0.1.5 (文件)"},{title:"内部版本识别",content:"3天20时55分58秒"}],randomMovieList1:[{title:"运行时长：",content:"2020-10-21 10:10:29"},{title:"配置信息",content:"3天20时55分58秒"},{title:"授权信息",content:"2020-10-21 10:10:29"}],sysInfo:{mapping:{name:"系统名称",version:"版本",state:"开启状态",registerTime:"注册时间",startupTime:"启动时间"},values:{name:"伟思信安集中监控平台",version:"V3.0.4",state:"开启",registerTime:"2019-06-26 10:00",startupTime:"2019-06-26 8:00"}},dflt:{min:0,max:200,counter:!0,hideInnerShadow:!0},warnningdata:"0",Task:"0",fileCount:"0",fliedateCount:"0",dbCount:"0",dbdateCount:"0",filedateCount:"0"}},mounted:function(){this.getwarnningLogcount(),this.getdbtaskcount(),this.getextractInfocount(),this.getfileOperStatuscount(),this.connWebSocket()},methods:{getextractInfocount:function(){var t=this;this.$https.fetchPost(this.$api.sys.extractInfocount.url).then((function(e){200==e.data.status&&(t.dbCount=e.data.data.count,t.dbdateCount=e.data.data.dateCount)})).catch((function(t){}))},getwarnningLogcount:function(){var t=this;this.$https.fetchPost(this.$api.sys.warnningLogcount.url).then((function(e){200==e.data.status&&(t.warnningdata=e.data.data)})).catch((function(t){}))},getdbtaskcount:function(){var t=this;this.$https.fetchPost(this.$api.sys.dbtaskcount.url).then((function(e){200==e.data.status&&(t.Task=e.data.data.dbTask+e.data.data.fileTask)})).catch((function(t){}))},getfileOperStatuscount:function(){var t=this;this.$https.fetchPost(this.$api.sys.fileOperStatuscount.url).then((function(e){200==e.data.status&&(t.fileCount=e.data.data.count,t.filedateCount=e.data.data.dateCount)})).catch((function(t){}))},connWebSocket:function(){var t=null;if("/"==this.$https.getAxiosBaseurl())t="wss://"+window.location.host+"/websocket";else{var e=this.$https.getAxiosBaseurl(),a=e.lastIndexOf("/");t="wss://"+(e=e.substring(a+1,e.length))+"/websocket"}var i=new WebSocket(t);this.webSocket=i,i.onmessage=this.$options.methods.onmessage.bind(this),i.onopen=function(t){},i.onerror=function(t){},i.onclose=function(t){}},closeWebSocket:function(){null!=this.webSocket&&this.webSocket.close()},onmessage:function(t){var e=JSON.parse(t.data);e.mem=e.mem.substr(1),e.mem=e.mem.substr(0,e.mem.length-1),new Array,e.mem.split(","),this.text=e},send:function(){var t={instruct:this.model1,param:this.value};this.webSocket.send(JSON.stringify(t))},scrollBottom:function(){this.$nextTick((function(){}))}},beforeDestroy:function(){this.closeWebSocket()}},s=(a("762b"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("Row",{staticClass:"panel-group",attrs:{gutter:16}},[a("Col",{attrs:{span:"6"}},[a("Card",{staticClass:"card1"},[a("div",{staticStyle:{height:"150px",background:"#3c9cf2","text-align":"center",color:"white","border-radius":"3px"}},[a("div",{staticStyle:{color:"white","padding-top":"20px","font-size":"16px"}},[t._v("业务统计量")]),a("div",{staticStyle:{"font-size":"48px",color:"white! important","margin-bottom":"5px"}},[t._v(t._s(t.Task))]),a("div",{staticClass:"hoverShd",staticStyle:{height:"35px",background:"rgba(0,0,0,.4)",color:"#DDD","line-height":"35px","padding-left":"15px"}})])])],1),a("Col",{attrs:{span:"6"}},[a("Card",{staticClass:"card2"},[a("div",{staticStyle:{height:"150px",background:"#677ce7","text-align":"center",color:"white","border-radius":"3px"}},[a("div",{staticStyle:{color:"white","padding-top":"20px","font-size":"16px"}},[t._v("文件同步总量")]),a("div",{staticStyle:{"font-size":"48px",color:"white! important","margin-bottom":"5px"}},[t._v(t._s(t.fileCount))]),a("div",{staticClass:"hoverShd",staticStyle:{height:"35px",background:"rgba(0,0,0,.4)",color:"#DDD","line-height":"35px","padding-left":"15px"}},[t._v("\n          今日同步量："+t._s(t.filedateCount)+"\n          ")])])])],1),a("Col",{attrs:{span:"6"}},[a("Card",{staticClass:"card3"},[a("div",{staticStyle:{height:"150px",background:"#5dc76b","text-align":"center",color:"white","border-radius":"3px"}},[a("div",{staticStyle:{color:"white","padding-top":"20px","font-size":"16px"}},[t._v("数据库同步总量")]),a("div",{staticStyle:{"font-size":"48px",color:"white! important","margin-bottom":"5px"}},[t._v(t._s(t.dbCount))]),a("div",{staticClass:"hoverShd",staticStyle:{height:"35px",background:"rgba(0,0,0,.4)",color:"#DDD","line-height":"35px","padding-left":"15px"}},[t._v("\n          今日同步量："+t._s(t.dbdateCount)+"\n          ")])])])],1),a("Col",{attrs:{span:"6"}},[a("Card",{staticClass:"card4"},[a("div",{staticStyle:{height:"150px",background:"#f19736","text-align":"center",color:"white","border-radius":"3px"}},[a("div",{staticStyle:{color:"white","padding-top":"20px","font-size":"16px"}},[t._v("告警日志")]),a("div",{staticStyle:{"font-size":"48px",color:"white! important","margin-bottom":"5px"}},[t._v(t._s(t.warnningdata))]),a("div",{staticClass:"hoverShd",staticStyle:{height:"35px",background:"rgba(0,0,0,.4)",color:"#DDD","line-height":"35px","padding-left":"15px"}})])])],1)],1),a("div",{staticClass:"row box margin-x clear-margin padding-x",staticStyle:{width:"100%",float:"left"}},[t._m(0),a("div",{staticClass:"modal-body"},[a("contrastLine",{attrs:{text:t.text}})],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000","font-size":"14px"}},[this._v("\n        事件信息\n      ")])])}],!1,null,"18017624",null);e.default=o.exports},"91b6":function(t,e,a){"use strict";a.r(e),a("163d");var i={inject:["reload"],name:"LocalAntiAttack",components:{jk_tabs:a("25b1").a},data:function(){return{playshow:!0,play:!1,from:{tcp:!1,tcpValue:150,udp:!1,udpValue:150,icmp:!1,icmpValue:150},links:[{name:"访问控制",to:"/local/acl"},{name:"UDP协议通信",to:"/local/udp"},{name:"抗攻击",to:"/local/antiAttack"}]}},mounted:function(){this.getyesnoinfo(),this.getinfo()},methods:{submit:function(){var t=this;0>Number(this.from.tcpValue)||Number(this.from.tcpValue)>200||0>Number(this.from.udpValue)||Number(this.from.udpValue)>200||0>Number(this.from.icmpValue)||Number(this.from.icmpValue)>200?this.$Notice.error({title:"修改失败",desc:"阈值范围为0-200",duration:5}):this.$https.fetchPost(this.$api.local.addAttack.url,this.from).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",desc:"修改成功，正在刷新页面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:8})}))},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.local.findAttack.url).then((function(e){200==e.data.status&&(t.from=e.data.data)})).catch((function(e){t.$Notice.error({title:"请求数据失败",desc:e,duration:2.5})}))},getyesnoinfo:function(){var t=this;this.$https.fetchGet(this.$api.local.findDisableFilter.url).then((function(e){200==e.data.status&&("yes"==e.data.data?t.play=!0:t.play=!1)})).catch((function(e){t.$Notice.error({title:"请求数据失败",desc:e,duration:2.5})}))},add:function(){var t=this;this.playshow=!1,1==this.play?this.$https.fetchGet(this.$api.local.startDisableFilter.url,{string:"yes"}).then((function(e){200==e.data.status?(t.$Message.info("启用成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"启用失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})})):this.$https.fetchGet(this.$api.local.stopDisableFilter.url,{string:"no"}).then((function(e){200==e.data.status?(t.$Message.info("启停成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"启停失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("Checkbox",{model:{value:t.play,callback:function(e){t.play=e},expression:"play"}},[t._v("启用")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:t.playshow,expression:"playshow"}],attrs:{size:"small",type:"primary"},on:{click:t.add}},[t._v("确认")]),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("抗攻击")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Checkbox",{staticStyle:{margin:"0 15px 0 20px"},attrs:{size:"large"},model:{value:t.from.tcp,callback:function(e){t.$set(t.from,"tcp",e)},expression:"from.tcp"}},[t._v(" 阈值 : ")]),a("Input",{staticStyle:{width:"100px"},model:{value:t.from.tcpValue,callback:function(e){t.$set(t.from,"tcpValue",e)},expression:"from.tcpValue"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Checkbox",{staticStyle:{margin:"0 15px 0 20px"},attrs:{size:"large"},model:{value:t.from.udp,callback:function(e){t.$set(t.from,"udp",e)},expression:"from.udp"}},[t._v(" 阈值 : ")]),a("Input",{staticStyle:{width:"100px"},model:{value:t.from.udpValue,callback:function(e){t.$set(t.from,"udpValue",e)},expression:"from.udpValue"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Checkbox",{staticStyle:{margin:"0 15px 0 20px"},attrs:{size:"large"},model:{value:t.from.icmp,callback:function(e){t.$set(t.from,"icmp",e)},expression:"from.icmp"}},[t._v(" 阈值 : ")]),a("Input",{staticStyle:{width:"100px"},model:{value:t.from.icmpValue,callback:function(e){t.$set(t.from,"icmpValue",e)},expression:"from.icmpValue"}})],1)])])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},on:{click:t.submit}},[t._v("确认")])])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px","font-weight":"bold"}},[this._v("TCP Flood:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px","font-weight":"bold"}},[this._v("UDP Flood:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px","font-weight":"bold"}},[this._v("ICMP Flood:")])])}],!1,null,"5d8bbad7",null);e.default=o.exports},"93e4":function(t,e,a){},9419:function(t,e,a){"use strict";a.r(e);var i=(a("32a8"),a("2c07")),s=Object(i.a)({name:"Data",components:{},data:function(){return{}},mounted:function(){},methods:{}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n            用户配置\n            "),e("footer",{staticStyle:{"font-size":"12px"}},[this._v("系统控制台")])])])}],!1,null,"f5eec492",null);e.default=s.exports},9583:function(t,e,a){"use strict";a.r(e);var i={name:"SysToolPing",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{ip:"",count:"1"},numberList:["1","2","3","4","5"],links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.$util.queryDevIP4(this.form.ip)||this.$util.queryDevIP6(this.form.ip)?(this.ButtonLoading=!0,this.$https.fetchPost(this.$api.sys.ping.url,{ip:this.form.ip,count:this.form.count},{timeout:6e4}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.textareaShow=!0,t.$Notice.success({title:"ping值成功",duration:2.5}),t.value=e.data.data,setTimeout((function(){}),250)):(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2}),this.textareaShow=!1}))):this.$Notice.error({title:"检测失败",desc:"目标主机ip请输入正确的ip格式",duration:5})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Select",{staticStyle:{width:"15%","margin-left":"15px"},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}},t._l(t.numberList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},attrs:{loading:t.ButtonLoading},on:{click:function(e){return t.submit()}}},[t._v("确认")])],1),t.textareaShow?a("Input",{attrs:{type:"textarea",rows:20,placeholder:"Enter something..."},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("目标主机:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("次数:")])])}],!1,null,"5e17f276",null);e.default=o.exports},"959e":function(t,e,a){},9646:function(t,e,a){"use strict";a("2b44")},9744:function(t,e,a){"use strict";a.r(e),a("163d"),a("9a33"),a("f548");var i={name:"SysMaintain",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{weeksList:[{value:1,label:"周一"},{value:2,label:"周二"},{value:3,label:"周三"},{value:4,label:"周四"},{value:5,label:"周五"},{value:6,label:"周六"},{value:7,label:"周七"}],DBform:{DBMonthtime:"",DBHourtime:"",DBWeekstime:"",DBDaytime:"",weeksday:[],cycleVal1:"hours",DBHourspan:"",DBDayspan:"",DBWeekspan:"1",DBmonthspan:"",DBmonthday:""},Fileform:{Filemonthday:"",FileMonthtime:"",FileHourtime:"",FileWeekstime:"",FileDaytime:"",weeksday:[],cycleVal1:"hours",FileHourspan:"",FileDayspan:"",FileWeekspan:"1",Filemonthspan:""},form:{maintainModels:[{name:"FILE_SYNC",chineseName:"文件同步定时维护",action:!1,cronParams:{count:0,unit:"",appointTimes:""},cron:null},{name:"DB_SYNC",chineseName:"数据库同步定时维护",action:!1,cronParams:{count:0,unit:"",appointTimes:""},cron:null}]},DBisWhenShow:!0,DBisDayShow:!1,DBisWeeksShow:!1,DBisMonthShow:!1,FileisWhenShow:!0,FileisDayShow:!1,FileisWeeksShow:!1,FileisMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"设置维护",to:"/sys/maintain"}],DBshow:!1,Fileshow:!1}},mounted:function(){this.getinfo()},methods:{Fileshowchange:function(){this.form.maintainModels[0].action&&(this.Fileshow=!0)},DBshowchange:function(){this.form.maintainModels[1].action&&(this.DBshow=!0)},resetFile:function(){this.Fileform={Filemonthday:"",FileMonthtime:"",FileHourtime:"00:00",FileWeekstime:"",FileDaytime:"",weeksday:[],cycleVal1:"hours",FileHourspan:"1",FileDayspan:"",FileWeekspan:"",Filemonthspan:""},this.fileconfigData("hours"),this.Fileform.cycleVal1="hours"},resetDB:function(){this.DBform={DBMonthtime:"",DBHourtime:"00:00",DBWeekstime:"",DBDaytime:"",weeksday:[],cycleVal1:"hours",DBHourspan:"1",DBDayspan:"",DBWeekspan:"",DBmonthspan:"",DBmonthday:""},this.configData("hours"),this.DBform.cycleVal1="hours"},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.sys.getMaintainModel.url).then((function(e){if(200==e.data.status){if(t.form=e.data.data,"HOUR"==t.form.maintainModels[0].cronParams.unit)t.fileconfigData("hours"),t.Fileform.cycleVal1="hours",t.Fileform.FileHourspan=t.form.maintainModels[0].cronParams.count,t.Fileform.FileHourtime=t.form.maintainModels[0].cronParams.appointTime.replace("-",":");else if("DAY"==t.form.maintainModels[0].cronParams.unit)t.Fileform.cycleVal1="day",t.fileconfigData("day"),t.Fileform.FileDayspan=t.form.maintainModels[0].cronParams.count,t.form.maintainModels[0].cronParams.appointTime=t.form.maintainModels[0].cronParams.appointTime.replace("0-",""),t.Fileform.FileDaytime=t.form.maintainModels[0].cronParams.appointTime.replace("-",":"),t.Fileform.FileDaytime=t.Fileform.FileDaytime.split(":").reverse(),t.Fileform.FileDaytime=t.Fileform.FileDaytime[0]+":"+t.Fileform.FileDaytime[1];else if("WEEK"==t.form.maintainModels[0].cronParams.unit){t.Fileform.cycleVal1="weeks",t.fileconfigData("weeks"),t.Fileform.FileWeekspan=t.form.maintainModels[0].cronParams.count,t.form.maintainModels[0].cronParams.appointTime=t.form.maintainModels[0].cronParams.appointTime.replace("0-","");var a=t.form.maintainModels[0].cronParams.appointTime.substr(t.form.maintainModels[0].cronParams.appointTime.lastIndexOf("-")+1);t.Fileform.FileWeekstime=t.form.maintainModels[0].cronParams.appointTime.split("-"),t.Fileform.FileWeekstime=t.Fileform.FileWeekstime[1]+":"+t.Fileform.FileWeekstime[0],t.Fileform.weeksday=a.split(",")}else{t.Fileform.cycleVal1="month",t.fileconfigData("month"),t.Fileform.Filemonthspan=t.form.maintainModels[0].cronParams.count,t.form.maintainModels[0].cronParams.appointTime=t.form.maintainModels[0].cronParams.appointTime.replace("0-",""),t.Fileform.FileMonthtime=t.form.maintainModels[0].cronParams.appointTime.split("-"),t.Fileform.FileMonthtime=t.Fileform.FileMonthtime[1]+":"+t.Fileform.FileMonthtime[0];var i=t.form.maintainModels[0].cronParams.appointTime.substr(t.form.maintainModels[0].cronParams.appointTime.lastIndexOf("-")+1);t.Fileform.Filemonthday=i}if("HOUR"==t.form.maintainModels[1].cronParams.unit)t.DBform.cycleVal1="hours",t.DBform.DBHourspan=t.form.maintainModels[1].cronParams.count,t.DBform.DBHourtime=t.form.maintainModels[1].cronParams.appointTime.replace("-",":"),t.DBform.DBWeektime=t.DBform.DBHourtime;else if("DAY"==t.form.maintainModels[1].cronParams.unit)t.DBform.cycleVal1="day",t.configData("day"),t.DBform.DBDayspan=t.form.maintainModels[1].cronParams.count,t.form.maintainModels[1].cronParams.appointTime=t.form.maintainModels[1].cronParams.appointTime.replace("0-",""),t.DBform.DBDaytime=t.form.maintainModels[1].cronParams.appointTime.replace("-",":"),t.DBform.DBDaytime=t.DBform.DBDaytime.split(":").reverse(),t.DBform.DBDaytime=t.DBform.DBDaytime[0]+":"+t.DBform.DBDaytime[1],t.DBform.DBWeektime=t.DBform.DBDaytime;else if("WEEK"==t.form.maintainModels[1].cronParams.unit){t.DBform.cycleVal1="weeks",t.configData("weeks"),t.DBform.DBWeekspan=t.form.maintainModels[1].cronParams.count,t.form.maintainModels[1].cronParams.appointTime=t.form.maintainModels[1].cronParams.appointTime.replace("0-","");var s=t.form.maintainModels[1].cronParams.appointTime.substr(t.form.maintainModels[1].cronParams.appointTime.lastIndexOf("-")+1);t.DBform.DBWeekstime=t.form.maintainModels[1].cronParams.appointTime.split("-"),t.DBform.DBWeekstime=t.DBform.DBWeekstime[1]+":"+t.DBform.DBWeekstime[0],t.DBform.weeksday=s.split(","),t.DBform.DBWeektime=t.DBform.DBWeekstime}else{t.DBform.cycleVal1="month",t.configData("month"),t.DBform.DBmonthspan=t.form.maintainModels[1].cronParams.count,t.form.maintainModels[1].cronParams.appointTime=t.form.maintainModels[1].cronParams.appointTime.replace("0-",""),t.DBform.DBMonthtime=t.form.maintainModels[1].cronParams.appointTime.split("-"),t.DBform.DBMonthtime=t.DBform.DBMonthtime[1]+":"+t.DBform.DBMonthtime[0];var o=t.form.maintainModels[1].cronParams.appointTime.substr(t.form.maintainModels[1].cronParams.appointTime.lastIndexOf("-")+1);t.DBform.DBmonthday=o,t.DBform.DBMonthtime=t.DBform.DBMonthtime}t.form.maintainModels[1].action&&(t.DBshow=!0),t.form.maintainModels[0].action&&(t.Fileshow=!0)}else t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(t){}))},fileconfigData:function(t){"day"==t?(this.FileisDayShow=!0,this.FileisWhenShow=!1,this.FileisWeeksShow=!1,this.FileisMonthShow=!1):"hours"==t?(this.FileisDayShow=!1,this.FileisWhenShow=!0,this.FileisWeeksShow=!1,this.FileisMonthShow=!1):"weeks"==t?(this.FileisDayShow=!1,this.FileisWhenShow=!1,this.FileisWeeksShow=!0,this.FileisMonthShow=!1):"month"==t&&(this.FileisDayShow=!1,this.FileisWhenShow=!1,this.FileisWeeksShow=!1,this.FileisMonthShow=!0)},configData:function(t){"day"==t?(this.DBisDayShow=!0,this.DBisWhenShow=!1,this.DBisWeeksShow=!1,this.DBisMonthShow=!1):"hours"==t?(this.DBisDayShow=!1,this.DBisWhenShow=!0,this.DBisWeeksShow=!1,this.DBisMonthShow=!1):"weeks"==t?(this.DBisDayShow=!1,this.DBisWhenShow=!1,this.DBisWeeksShow=!0,this.DBisMonthShow=!1):"month"==t&&(this.DBisDayShow=!1,this.DBisWhenShow=!1,this.DBisWeeksShow=!1,this.DBisMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)},submitFile:function(){var t=this,e="0";if("hours"==this.Fileform.cycleVal1){var a=this.Fileform.FileHourtime;a=a.split(":"),e+="-"+Number(a[1]),this.form.maintainModels[0].cronParams.unit="HOUR",this.form.maintainModels[0].cronParams.count=this.Fileform.FileHourspan}else if("day"==this.Fileform.cycleVal1){var i=this.Fileform.FileDaytime;for(var s in i=i.split(":").reverse())e+="-"+Number(i[s]);this.form.maintainModels[0].cronParams.unit="DAY",this.form.maintainModels[0].cronParams.count=this.Fileform.FileDayspan}else if("weeks"==this.Fileform.cycleVal1){var o=this.Fileform.FileWeekstime;for(var r in o=o.split(":").reverse())e+="-"+Number(o[r]);for(var n in this.form.maintainModels[0].cronParams.unit="WEEK",this.form.maintainModels[0].cronParams.count=this.Fileform.FileWeekspan,this.Fileform.weeksday=this.Fileform.weeksday.filter((function(t){return t&&t.trim()})),this.Fileform.weeksday)e+=0==n?"-"+Number(this.Fileform.weeksday[n]):","+Number(this.Fileform.weeksday[n])}else if("month"==this.Fileform.cycleVal1){var l=this.Fileform.FileMonthtime;for(var c in l=l.split(":").reverse())e+="-"+Number(l[c]);this.form.maintainModels[0].cronParams.unit="MONTH",this.form.maintainModels[0].cronParams.count=this.Fileform.Filemonthspan,e=e+"-"+this.Fileform.Filemonthday}this.form.maintainModels[0].cronParams.appointTime=e,this.$https.fetchPost(this.$api.sys.updateMaintainModel.url,this.form.maintainModels[0]).then((function(e){200==e.data.status?(t.$Notice.success({title:"文件同步定时维护修改成功",desc:e.data.desc,duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"文件同步定时维护修改失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},submitDB:function(){var t=this,e="0";if("hours"==this.DBform.cycleVal1){var a=this.DBform.DBHourtime;a=a.split(":"),e+="-"+Number(a[1]),this.form.maintainModels[1].cronParams.unit="HOUR",this.form.maintainModels[1].cronParams.count=this.DBform.DBHourspan}else if("day"==this.DBform.cycleVal1){var i=this.DBform.DBDaytime;for(var s in i=i.split(":").reverse())e+="-"+Number(i[s]);this.form.maintainModels[1].cronParams.unit="DAY",this.form.maintainModels[1].cronParams.count=this.DBform.DBDayspan}else if("weeks"==this.DBform.cycleVal1){var o=this.DBform.DBWeekstime;for(var r in o=o.split(":").reverse())e+="-"+Number(o[r]);for(var n in this.DBform.weeksday)e+=0==n?"-"+Number(this.DBform.weeksday[n]):","+Number(this.DBform.weeksday[n]);this.form.maintainModels[1].cronParams.unit="WEEK",this.form.maintainModels[1].cronParams.count=this.DBform.DBWeekspan}else if("month"==this.DBform.cycleVal1){var l=this.DBform.DBMonthtime;for(var c in l=l.split(":").reverse())e+="-"+Number(l[c]);this.form.maintainModels[1].cronParams.unit="MONTH",this.form.maintainModels[1].cronParams.count=this.DBform.DBmonthspan,e+="-"+this.DBform.DBmonthday}this.form.maintainModels[1].cronParams.appointTime=e,this.$https.fetchPost(this.$api.sys.updateMaintainModel.url,this.form.maintainModels[1]).then((function(e){200==e.data.status?(t.$Notice.success({title:"数据库同步定时维护修改成功",desc:e.data.desc,duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"数据库同步定时维护修改失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}}},s=(a("5c01"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n           系统配置\n    ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"160px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("文件同步定时维护")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px","font-size":"12px"},on:{"on-change":t.Fileshowchange},model:{value:t.form.maintainModels[0].action,callback:function(e){t.$set(t.form.maintainModels[0],"action",e)},expression:"form.maintainModels[0].action"}})],1)]),t.Fileshow?a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Select",{staticStyle:{width:"200px","margin-left":"15px"},model:{value:t.Fileform.cycleVal1,callback:function(e){t.$set(t.Fileform,"cycleVal1",e)},expression:"Fileform.cycleVal1"}},t._l(t.cycleList1,(function(e){return a("Option",{key:e.value,attrs:{value:e.value},nativeOn:{click:function(a){return t.fileconfigData(e.value)}}},[t._v(t._s(e.label))])})),1)],1)]):t._e(),t.Fileshow?a("tr",[t._m(2),a("td",{directives:[{name:"show",rawName:"v-show",value:t.FileisWhenShow,expression:"FileisWhenShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{confirm:"",format:"HH:mm","disabled-hours":t.hours,placeholder:"Select time"},model:{value:t.Fileform.FileHourtime,callback:function(e){t.$set(t.Fileform,"FileHourtime",e)},expression:"Fileform.FileHourtime"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:t.FileisDayShow,expression:"FileisDayShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{confirm:"",format:"HH:mm",placeholder:"Select time"},model:{value:t.Fileform.FileDaytime,callback:function(e){t.$set(t.Fileform,"FileDaytime",e)},expression:"Fileform.FileDaytime"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:t.FileisWeeksShow,expression:"FileisWeeksShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px","margin-right":"15px"},attrs:{format:"HH:mm",placeholder:"Select time"},model:{value:t.Fileform.FileWeekstime,callback:function(e){t.$set(t.Fileform,"FileWeekstime",e)},expression:"Fileform.FileWeekstime"}}),a("CheckboxGroup",{staticStyle:{display:"inline-block"},model:{value:t.Fileform.weeksday,callback:function(e){t.$set(t.Fileform,"weeksday",e)},expression:"Fileform.weeksday"}},[a("Checkbox",{attrs:{label:"1"}},[t._v("周一")]),a("Checkbox",{attrs:{label:"2"}},[t._v("周二")]),a("Checkbox",{attrs:{label:"3"}},[t._v("周三")]),a("Checkbox",{attrs:{label:"4"}},[t._v("周四")]),a("Checkbox",{attrs:{label:"5"}},[t._v("周五")]),a("Checkbox",{attrs:{label:"6"}},[t._v("周六")]),a("Checkbox",{attrs:{label:"7"}},[t._v("周日")])],1)],1),a("td",{directives:[{name:"show",rawName:"v-show",value:t.FileisMonthShow,expression:"FileisMonthShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px","margin-right":"15px"},attrs:{format:"HH:mm",placeholder:"Select time"},model:{value:t.Fileform.FileMonthtime,callback:function(e){t.$set(t.Fileform,"FileMonthtime",e)},expression:"Fileform.FileMonthtime"}}),a("Tooltip",{attrs:{content:"输入范围为1-31，多个以逗号分隔，例：1,28代表每月1号和28号"}},[a("Input",{staticStyle:{width:"360px"},model:{value:t.Fileform.Filemonthday,callback:function(e){t.$set(t.Fileform,"Filemonthday",e)},expression:"Fileform.Filemonthday"}})],1)],1)]):t._e(),t.Fileshow?a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",{staticStyle:{"padding-left":"15px"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.FileisWhenShow,expression:"FileisWhenShow"}]},[a("Input",{staticStyle:{width:"50px"},model:{value:t.Fileform.FileHourspan,callback:function(e){t.$set(t.Fileform,"FileHourspan",e)},expression:"Fileform.FileHourspan"}}),t._v("\n                                       每间隔"+t._s(""==t.Fileform.FileHourspan?"（周期）":t.Fileform.FileHourspan+"个")+"小时的"+t._s(""==t.Fileform.FileHourtime?"（时/分）":t.Fileform.FileHourtime)+"的运行\n                                ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.FileisDayShow,expression:"FileisDayShow"}]},[a("Input",{staticStyle:{width:"50px"},model:{value:t.Fileform.FileDayspan,callback:function(e){t.$set(t.Fileform,"FileDayspan",e)},expression:"Fileform.FileDayspan"}}),t._v("\n                                       每间隔"+t._s(""==t.Fileform.FileDayspan?"（周期）":t.Fileform.FileDayspan+"个")+"天的"+t._s(""==t.Fileform.FileDaytime?"（时/分）":t.Fileform.FileDaytime)+"的运行\n                                ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.FileisWeeksShow,expression:"FileisWeeksShow"}]},[a("Input",{staticStyle:{width:"50px"},attrs:{disabled:""},model:{value:t.Fileform.FileWeekspan,callback:function(e){t.$set(t.Fileform,"FileWeekspan",e)},expression:"Fileform.FileWeekspan"}}),t._v("\n                                       每间隔"+t._s(""==t.Fileform.FileWeekspan?"（周期）":t.Fileform.FileWeekspan+"个")+"周的"+t._s(""==t.Fileform.FileWeekstime?"（时/分）":t.Fileform.FileWeekstime)+"的运行\n                                ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.FileisMonthShow,expression:"FileisMonthShow"}]},[a("Input",{staticStyle:{width:"50px"},model:{value:t.Fileform.Filemonthspan,callback:function(e){t.$set(t.Fileform,"Filemonthspan",e)},expression:"Fileform.Filemonthspan"}}),t._v("\n                                       每间隔"+t._s(""==t.Fileform.Filemonthspan?"（周期）":t.Fileform.Filemonthspan+"个")+"月的"+t._s(""==t.Fileform.FileMonthtime?"（时/分）":t.Fileform.FileMonthtime)+"的运行\n                                ")],1)])]):t._e(),t.Fileshow?a("tr",{staticStyle:{height:"40px"}},[a("td",{attrs:{colspan:"2"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:t.submitFile}},[t._v("提交")]),a("Button",{on:{click:t.resetFile}},[t._v("重置")])],1)])]):t._e()])])]),a("div"),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left",margin:"20px 0"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"160px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("数据库同步定时维护")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px","font-size":"12px"},on:{"on-change":t.DBshowchange},model:{value:t.form.maintainModels[1].action,callback:function(e){t.$set(t.form.maintainModels[1],"action",e)},expression:"form.maintainModels[1].action"}})],1)]),t.DBshow?a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("Select",{staticStyle:{width:"200px","margin-left":"15px"},model:{value:t.DBform.cycleVal1,callback:function(e){t.$set(t.DBform,"cycleVal1",e)},expression:"DBform.cycleVal1"}},t._l(t.cycleList1,(function(e){return a("Option",{key:e.value,attrs:{value:e.value},nativeOn:{click:function(a){return t.configData(e.value)}}},[t._v(t._s(e.label))])})),1)],1)]):t._e(),t.DBshow?a("tr",[t._m(6),a("td",{directives:[{name:"show",rawName:"v-show",value:t.DBisWhenShow,expression:"DBisWhenShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{confirm:"",format:"HH:mm","disabled-hours":t.hours,placeholder:"Select time"},model:{value:t.DBform.DBHourtime,callback:function(e){t.$set(t.DBform,"DBHourtime",e)},expression:"DBform.DBHourtime"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:t.DBisDayShow,expression:"DBisDayShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{confirm:"",format:"HH:mm",placeholder:"Select time"},model:{value:t.DBform.DBDaytime,callback:function(e){t.$set(t.DBform,"DBDaytime",e)},expression:"DBform.DBDaytime"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:t.DBisWeeksShow,expression:"DBisWeeksShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px","margin-right":"15px"},attrs:{format:"HH:mm",placeholder:"Select time"},model:{value:t.DBform.DBWeekstime,callback:function(e){t.$set(t.DBform,"DBWeekstime",e)},expression:"DBform.DBWeekstime"}}),a("CheckboxGroup",{staticStyle:{display:"inline-block"},model:{value:t.DBform.weeksday,callback:function(e){t.$set(t.DBform,"weeksday",e)},expression:"DBform.weeksday"}},[a("Checkbox",{attrs:{label:"1"}},[t._v("周一")]),a("Checkbox",{attrs:{label:"2"}},[t._v("周二")]),a("Checkbox",{attrs:{label:"3"}},[t._v("周三")]),a("Checkbox",{attrs:{label:"4"}},[t._v("周四")]),a("Checkbox",{attrs:{label:"5"}},[t._v("周五")]),a("Checkbox",{attrs:{label:"6"}},[t._v("周六")]),a("Checkbox",{attrs:{label:"7"}},[t._v("周日")])],1)],1),a("td",{directives:[{name:"show",rawName:"v-show",value:t.DBisMonthShow,expression:"DBisMonthShow"}]},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px","margin-right":"15px"},attrs:{format:"HH:mm",placeholder:"Select time"},model:{value:t.DBform.DBMonthtime,callback:function(e){t.$set(t.DBform,"DBMonthtime",e)},expression:"DBform.DBMonthtime"}}),a("Input",{staticStyle:{width:"360px"},model:{value:t.DBform.DBmonthday,callback:function(e){t.$set(t.DBform,"DBmonthday",e)},expression:"DBform.DBmonthday"}})],1)]):t._e(),t.DBshow?a("tr",{staticStyle:{height:"40px"}},[t._m(7),a("td",{staticStyle:{"padding-left":"15px"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.DBisWhenShow,expression:"DBisWhenShow"}]},[a("Input",{staticStyle:{width:"50px"},model:{value:t.DBform.DBHourspan,callback:function(e){t.$set(t.DBform,"DBHourspan",e)},expression:"DBform.DBHourspan"}}),t._v("\n                                       每间隔"+t._s(""==t.DBform.DBHourspan?"（周期）":t.DBform.DBHourspan+"个")+"小时的"+t._s(""==t.DBform.DBHourtime?"（时/分）":t.DBform.DBHourtime)+"的运行\n                                ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.DBisDayShow,expression:"DBisDayShow"}]},[a("Input",{staticStyle:{width:"50px"},model:{value:t.DBform.DBDayspan,callback:function(e){t.$set(t.DBform,"DBDayspan",e)},expression:"DBform.DBDayspan"}}),t._v("\n                                       每间隔"+t._s(""==t.DBform.DBDayspan?"（周期）":t.DBform.DBDayspan+"个")+"天的"+t._s(""==t.DBform.DBDaytime?"（时/分）":t.DBform.DBDaytime)+"的运行\n                                ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.DBisWeeksShow,expression:"DBisWeeksShow"}]},[a("Input",{staticStyle:{width:"50px"},attrs:{disabled:""},model:{value:t.DBform.DBWeekspan,callback:function(e){t.$set(t.DBform,"DBWeekspan",e)},expression:"DBform.DBWeekspan"}}),t._v("\n                                       每间隔"+t._s(""==t.DBform.DBWeekspan?"（周期）":t.DBform.DBWeekspan+"个")+"周的"+t._s(""==t.DBform.DBWeekstime?"（时/分）":t.DBform.DBWeekstime)+"的运行\n                                ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.DBisMonthShow,expression:"DBisMonthShow"}]},[a("Input",{staticStyle:{width:"50px"},model:{value:t.DBform.DBmonthspan,callback:function(e){t.$set(t.DBform,"DBmonthspan",e)},expression:"DBform.DBmonthspan"}}),t._v("\n                                       每间隔"+t._s(""==t.DBform.DBmonthspan?"（周期）":t.DBform.DBmonthspan+"个")+"月的"+t._s(""==t.DBform.DBMonthtime?"（时/分）":t.DBform.DBMonthtime)+"的运行\n                                ")],1)])]):t._e(),t.DBshow?a("tr",{staticStyle:{height:"40px"}},[a("td",{attrs:{colspan:"2"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:t.submitDB}},[t._v("提交")]),a("Button",{on:{click:t.resetDB}},[t._v("重置")])],1)])]):t._e()])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("是否启动:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("时间单位:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("时/分:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("周期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("是否启动:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("时间单位:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("时/分:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("周期:")])])}],!1,null,"23f387bf",null);e.default=o.exports},"985d":function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s=(a("cc57"),{name:"DataResourcesAdd",components:{},inject:["reload"],data:function(){return{testloading:!1,addloading:!1,checkshowbtn:!1,platForm:{show:!1,form:{sourcealias:null,dbdesc:null,in:"in",sourcetype:"数据库服务器",dbtype:"oracle",dbip:null,dbport:"1521",username:null,userpass:null,initusername:null,inituserpass:null,dbname:null,schemaname:null,logtablenameprefix:"SYNCD_",triggernameprefix:"SYNCD_TR_",useSSL:"false"},rules:{sourcealias:[{required:!0,pattern:/^[a-zA-Z0-9_\s\u4e00-\u9fa5_]*$/,message:"请输入数字或英文或中文或下划线或它们的组合",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],sourcetype:[{required:!0,message:"请选择资源类型",trigger:"blur"}],dbtype:[{required:!0,message:"请选择数据库类型",trigger:"blur"}],dbip:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}],dbport:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/,message:"请正确输入端口",trigger:"blur"}],username:[{required:!0,message:"请输入同步账号用户名",trigger:"blur"}],userpass:[{required:!0,message:"请输入账号密码",trigger:"blur"}],initusername:[{required:!0,message:"请输入业务账号用户名",trigger:"blur"}],inituserpass:[{required:!0,message:"请输入业务账号密码",trigger:"blur"}],dbname:[{required:!0,message:"请输入数据库名",trigger:"blur"}]}},transferdirectList:[{title:"1",name:"单入"},{title:"2",name:"单出"},{title:"3",name:"双向"}],baseprotocolList:[{title:"0001",name:"TCP/IP"},{title:"0002",name:"SSL"},{title:"0003",name:"IPSEC"},{title:"0004",name:"FTP"},{title:"0005",name:"H323"},{title:"0006",name:"H320"},{title:"0007",name:"SNMP"},{title:"0008",name:"UDP"},{title:"0009",name:"其他"}],flagList:[{title:"1",name:"是"},{title:"0",name:"否"}],passFileName:"",linkimageFileName:"",innerlinkList:[],resourceList:[{name:"本地FTP"},{name:"本地SMB"},{name:"本地NFS"},{name:"光碟塔"},{name:"Client"},{name:"认证同步"}],directoryList:[],levelList:[{name:"1"},{name:"2"}],codingList:[{name:"UTF-8"}],operationList:[{name:"删除"},{name:"复制"},{name:"备份"}],idplatformList:[{name:"不审计"},{name:"白名单"},{name:"黑名单"}],filterTypeList:[{name:"白名单"},{name:"黑名单"}],virusList:[{name:"删除"},{name:"隔离"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],interfaceList:[{name:"eth2"}],dbTypeList:[{name:"Oracle",val:"oracle",port:"1521"},{name:"SQLServer",val:"sqlserver",port:"1433"},{name:"MySQL",val:"mysql",port:"3306"},{name:"DB2",val:"db2",port:"50000"},{name:"SYBase",val:"sybase",port:"5000"},{name:"DM",val:"dm",port:"5236"},{name:"OSCAR",val:"oscar",port:"2003"},{name:"KingbaseES",val:"kingbasees",port:"54321"},{name:"GBASE",val:"gbase",port:"5258"}]}},computed:{},methods:{updatePort:function(t){this.platForm.form.dbport=t},getPassTime:function(t){this.platForm.form.passtime=t},getRegTime:function(t){this.platForm.form.regtime=t},handlePassfile:function(t){return this.passFileName=t.name,this.platForm.form.passFile=t,!1},handleLinkimage:function(t){return this.linkimageFileName=t.name,this.platForm.form.linkimageFile=t,!1},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.$util.queryDevIP4(t.platForm.form.dbip)?(t.addloading=!0,t.$https.fetchPost(t.$api.data.addDsn.url,t.platForm.form,{timeout:3e5}).then((function(e){200==e.data.status?(t.$Notice.success({title:"添加成功",desc:"添加成功",duration:2.5}),t.platForm.show=!1,t.reload(),t.addloading=!1):(t.addloading=!1,t.$Notice.error({title:"添加失败",desc:"错误："+e.data.desc,duration:5}))})).catch((function(e){t.addloading=!1,t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))):t.$Modal.warning({title:"warning",content:"请正确填写合法的ipv4或ipv6"}))}))},testPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.testloading=!0,t.$util.queryDevIP4(t.platForm.form.dbip)?t.$https.fetchPost(t.$api.data.testConnection.url,t.platForm.form,{timeout:3e5}).then((function(e){200==e.data.status?(t.$Notice.success({title:"测试连接成功",desc:"测试连接成功",duration:2.5}),t.checkshowbtn=!0):t.$Notice.error({title:"测试连接失败",desc:"错误："+e.data.desc,duration:5}),t.testloading=!1})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5}),t.testloading=!1})):t.$Modal.warning({title:"warning",content:"请正确填写合法的ipv4或ipv6"}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}}),o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"数据资源配置",width:"70%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"资源名称",prop:"sourcealias"}},[a("Input",{model:{value:t.platForm.form.sourcealias,callback:function(e){t.$set(t.platForm.form,"sourcealias",e)},expression:"platForm.form.sourcealias"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"资源描述",prop:"dbdesc"}},[a("Input",{model:{value:t.platForm.form.dbdesc,callback:function(e){t.$set(t.platForm.form,"dbdesc",e)},expression:"platForm.form.dbdesc"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"资源类型",prop:"sourcetype"}},[a("Select",{model:{value:t.platForm.form.sourcetype,callback:function(e){t.$set(t.platForm.form,"sourcetype",e)},expression:"platForm.form.sourcetype"}},[a("Option",{attrs:{label:"数据库服务器",value:"数据库服务器"}})],1)],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"数据库类型",prop:"dbtype"}},[a("Select",{model:{value:t.platForm.form.dbtype,callback:function(e){t.$set(t.platForm.form,"dbtype",e)},expression:"platForm.form.dbtype"}},t._l(t.dbTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.updatePort(e.port)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"IP地址",prop:"dbip"}},[a("Input",{model:{value:t.platForm.form.dbip,callback:function(e){t.$set(t.platForm.form,"dbip",e)},expression:"platForm.form.dbip"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"端口",prop:"dbport"}},[a("Input",{model:{value:t.platForm.form.dbport,callback:function(e){t.$set(t.platForm.form,"dbport",e)},expression:"platForm.form.dbport"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"同步账号用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"同步账号密码",prop:"userpass"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.userpass,callback:function(e){t.$set(t.platForm.form,"userpass",e)},expression:"platForm.form.userpass"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"业务账号用户名",prop:"initusername"}},[a("Input",{model:{value:t.platForm.form.initusername,callback:function(e){t.$set(t.platForm.form,"initusername",e)},expression:"platForm.form.initusername"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"业务账号密码",prop:"inituserpass"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.inituserpass,callback:function(e){t.$set(t.platForm.form,"inituserpass",e)},expression:"platForm.form.inituserpass"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"数据库名",prop:"dbname"}},[a("Input",{model:{value:t.platForm.form.dbname,callback:function(e){t.$set(t.platForm.form,"dbname",e)},expression:"platForm.form.dbname"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"模式名",prop:"schemaname"}},[a("Input",{model:{value:t.platForm.form.schemaname,callback:function(e){t.$set(t.platForm.form,"schemaname",e)},expression:"platForm.form.schemaname"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"临时表前缀",prop:"logtablenameprefix"}},[a("Input",{model:{value:t.platForm.form.logtablenameprefix,callback:function(e){t.$set(t.platForm.form,"logtablenameprefix",e)},expression:"platForm.form.logtablenameprefix"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"触发器前缀",prop:"triggernameprefix"}},[a("Input",{model:{value:t.platForm.form.triggernameprefix,callback:function(e){t.$set(t.platForm.form,"triggernameprefix",e)},expression:"platForm.form.triggernameprefix"}})],1)],1),a("FormItem",{staticStyle:{"margin-top":"20px"}},[a("Button",{staticStyle:{"margin-right":"8px"},attrs:{loading:t.testloading,type:"primary"},on:{click:t.testPlatForm}},[t._v("连接测试")]),t.checkshowbtn?a("Button",{attrs:{loading:t.addloading,type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]):t._e(),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"e2aa479a",null).exports,n={name:"DataResources",components:{jk_tabs:i.a,resources:r},inject:["reload"],data:function(){var t=this;return{restartloading:!1,dataCount:0,currentPage:1,pageSize:10,btnloading:!1,columns1:[{title:"序号",key:"id",align:"center",width:80,render:function(e,a){return e("span",a.index+(t.currentPage-1)*t.pageSize+1)}},{title:"资源名称",key:"sourcealias",align:"center"},{title:"资源类型",key:"sourcetype",align:"center",width:140},{title:"运行状态",key:"runstate",width:290,align:"center"},{title:"资源配置",slot:"action1",width:290,align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],data1:[],modal10:!1,data2:[],data3:[],dbTypeList:[{name:"Oracle",val:"oracle",port:"1521"},{name:"SQLServer",val:"sqlserver",port:"1433"},{name:"MySQL",val:"mysql",port:"3306"},{name:"DB2",val:"db2",port:"50000"},{name:"SYBase",val:"sybase",port:"5000"},{name:"DM",val:"dm",port:"5236"},{name:"OSCAR",val:"oscar",port:"2003"},{name:"KingbaseES",val:"kingbasees",port:"54321"},{name:"GBASE",val:"gbase",port:"5258"}],modal:{show:!1,form:{oldId:null,sourcealias:null,in:"in",sourcetype:null,dbtype:null,dbip:null,dbport:null,username:null,userpass:null,initusername:null,inituserpass:null,dbname:null,schemaname:null,logtablenameprefix:null,triggernameprefix:null,useSSL:"false",dbdesc:""},rules:{sourcealias:[{required:!0,pattern:/^[a-zA-Z0-9_\s]*$/,message:"资源名称请输入数字或英文或下划线",trigger:"blur"},{max:30,message:"长度不超过30",trigger:"blur"},{min:3,message:"长度请大于3",trigger:"blur"}],sourcetype:[{required:!0,message:"请选择资源类型",trigger:"blur"}],dbtype:[{required:!0,message:"请选择数据库类型",trigger:"blur"}],dbip:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}],dbport:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/,message:"请正确输入端口",trigger:"blur"}],username:[{required:!0,message:"请输入同步账号用户名",trigger:"blur"}],userpass:[{required:!0,message:"请输入账号密码",trigger:"blur"}],initusername:[{required:!0,message:"请输入业务账号用户名",trigger:"blur"}],inituserpass:[{required:!0,message:"请输入业务账号密码",trigger:"blur"}],dbname:[{required:!0,message:"请输入数据库名",trigger:"blur"}]}},indeterminate:!1,checkAll:!1,isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,checkAllGroup:[],links:[{name:"资源列表",to:"/data/resources"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},mounted:function(){this.getInfo()},methods:{changepage:function(t){this.currentPage=t;var e=(t-1)*this.pageSize,a=t*this.pageSize;for(var i in this.data3=this.data1.slice(e,a),this.data3)this.$set(this.data3[i],"runstate","未被占用"),this.$set(this.data3[i],"restartloading",!1);this.getState()},restartPool:function(t){var e=this,a="4003***";a+=t,this.$https.fetchPost(this.$api.data.resetConnection.url,{string:a}).then((function(t){200==t.data.status?e.$Notice.success({title:"命令发送成功",desc:t.data.desc,duration:5}):e.$Notice.error({title:"操作失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:5})}))},getState:function(){var t=this;this.$https.fetchGet(this.$api.data.syncTaskInfo.url).then((function(e){if(200==e.data.status){var a=e.data.data,i=[],s={ssyncdsn:"",taskname:"",oid:""};for(var o in a)for(var r in a[o].dbsync)(s={ssyncdsn:"",taskname:"",oid:""}).taskname=a[o].taskname,s.ssyncdsn=a[o].dbsync[r].subtask[0].ssyncdsn,s.oid=a[o].dbsync[r].maintask.oid,i.push(s);for(var n=0;n<i.length;n++)for(var l=n+1;l<i.length;l++)i[n].ssyncdsn==i[l].ssyncdsn&&i.splice(l,1);for(var c in i)for(var d in t.data1)t.data1[d].sourcealias==i[c].ssyncdsn&&t.$set(t.data1[d],"runstate","被["+i[c].taskname+"]业务下的["+i[c].oid+"]数据库同步服务占用")}else t.$Notice.error({title:"请求数据失败",desc:"错误代码："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},addPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&(t.btnloading=!0,t.$https.fetchPost(t.$api.data.updateDsn.url,t.modal.form,{timeout:3e5}).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",desc:"修改成功，正在刷新页面",duration:2.5}),setTimeout((function(){t.btnloading=!1,t.reload()}),250)):(t.$Notice.error({title:"修改失败",desc:"错误："+e.data.desc,duration:5}),t.btnloading=!1)})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5}),t.btnloading=!1})))}))},testPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&t.$https.fetchPost(t.$api.data.testConnection.url,t.modal.form,{timeout:3e5}).then((function(e){200==e.data.status?t.$Notice.success({title:"测试连接成功",desc:"测试连接成功",duration:2.5}):t.$Notice.error({title:"测试连接失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},restPlatForm:function(){this.$refs.info_form.resetFields()},updatePort:function(t){this.platForm.form.port=t},getInfo:function(){var t=this;this.$https.fetchGet(this.$api.data.findDsnInfo.url).then((function(e){200==e.data.status?(t.data1=e.data.data,t.dataCount=e.data.data.length,t.data3=t._.cloneDeep(e.data.data),t.changepage(1)):t.$Notice.error({title:"请求数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},showService:function(t){var e=this.data3[t].dbdesc;""==this.data3[t].dbdesc&&(e="无"),this.data2=[{name:"资源名称",val:this.data3[t].sourcealias},{name:"资源类型",val:this.data3[t].sourcetype},{name:"资源描述",val:e},{name:"数据库类型",val:this.data3[t].dbtype},{name:"IP地址",val:this.data3[t].dbip},{name:"端口",val:this.data3[t].dbport},{name:"同步账号用户名",val:this.data3[t].username},{name:"业务账号用户名",val:this.data3[t].initusername},{name:"数据库名",val:this.data3[t].dbname},{name:"模式名",val:this.data3[t].schemaname},{name:"临时表前缀",val:this.data3[t].logtablenameprefix},{name:"触发器前缀",val:this.data3[t].triggernameprefix}],this.modal10=!0},updateDb:function(t){this.modal.show=!0,this.modal.form.dbdesc=this.data3[t].dbdesc,this.modal.form.oldId=this.data3[t].sourcealias,this.modal.form.sourcealias=this.data3[t].sourcealias,this.modal.form.in=this.data3[t].in,this.modal.form.sourcetype=this.data3[t].sourcetype,this.modal.form.dbtype=this.data3[t].dbtype,this.modal.form.dbip=this.data3[t].dbip,this.modal.form.dbport=this.data3[t].dbport,this.modal.form.username=this.data3[t].username,this.modal.form.userpass=this.data3[t].userpass,this.modal.form.initusername=this.data3[t].initusername,this.modal.form.inituserpass=this.data3[t].inituserpass,this.modal.form.dbname=this.data3[t].dbname,this.modal.form.schemaname=this.data3[t].schemaname,this.modal.form.logtablenameprefix=this.data3[t].logtablenameprefix,this.modal.form.triggernameprefix=this.data3[t].triggernameprefix,this.modal.form.useSSL=this.data3[t].useSSL},updateD:function(t){var e=this;this.data3[t].restartloading=!0,this.modal.form.sourcealias=this.data3[t].sourcealias,this.modal.form.in=this.data3[t].in,this.modal.form.sourcetype=this.data3[t].sourcetype,this.modal.form.dbtype=this.data3[t].dbtype,this.modal.form.dbip=this.data3[t].dbip,this.modal.form.dbport=this.data3[t].dbport,this.modal.form.username=this.data3[t].username,this.modal.form.userpass=this.data3[t].userpass,this.modal.form.initusername=this.data3[t].initusername,this.modal.form.inituserpass=this.data3[t].inituserpass,this.modal.form.dbname=this.data3[t].dbname,this.modal.form.schemaname=this.data3[t].schemaname,this.modal.form.logtablenameprefix=this.data3[t].logtablenameprefix,this.modal.form.triggernameprefix=this.data3[t].triggernameprefix,this.modal.form.useSSL=this.data3[t].useSSL,this.$https.fetchPost(this.$api.data.updateDsnInfo.url,this.modal.form,{timeout:3e5}).then((function(a){200==a.data.status?(e.$Notice.success({title:"重新加载成功",desc:"重新加载成功",duration:2.5}),setTimeout((function(){e.reload()}),250)):(e.data3[t].restartloading=!1,e.$Notice.error({title:"重新加载失败",desc:"错误："+a.data.desc,duration:5}))})).catch((function(a){e.data3[t].restartloading=!1,e.$Notice.error({title:"请求失败",desc:a,duration:2.5})}))},delDb:function(t,e){var a=this;"未被占用"==this.data3[e].runstate?this.$Modal.confirm({title:"删除访问规则",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.data.delDsn.url,{id:t}).then((function(t){200==t.data.status?(a.$Message.info("数据库资源删除成功"),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"数据库资源删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}}):this.$Notice.warning({title:"操作失败",desc:"此数据库资源被占用中",duration:5})}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("resources",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data3},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateDb(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.delDb(i.sourcealias,s)}}},[t._v("删除")])]}},{key:"action1",fn:function(e){var i=e.row,s=e.index;return[t.data3[s].restartloading?t._e():a("Button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small"},on:{click:function(e){return t.updateD(s)}}},[t._v("重新加载")]),t.data3[s].restartloading?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small"}},[t._v("加载中...")]):t._e(),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small"},on:{click:function(e){return t.restartPool(i.sourcealias)}}},[t._v("重置连接池")]),a("Button",{attrs:{size:"small"},on:{click:function(e){return t.showService(s)}}},[t._v("资源属性")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"修改数据库资源",width:"1000"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"资源名称",prop:"sourcealias"}},[a("Input",{attrs:{disabled:""},model:{value:t.modal.form.sourcealias,callback:function(e){t.$set(t.modal.form,"sourcealias",e)},expression:"modal.form.sourcealias"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"资源类型",prop:"subnet"}},[a("Select",{model:{value:t.modal.form.sourcetype,callback:function(e){t.$set(t.modal.form,"sourcetype",e)},expression:"modal.form.sourcetype"}},[a("Option",{attrs:{label:"数据库服务器",value:"数据库服务器"}})],1)],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"资源描述",prop:"dbdesc"}},[a("Input",{model:{value:t.modal.form.dbdesc,callback:function(e){t.$set(t.modal.form,"dbdesc",e)},expression:"modal.form.dbdesc"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"数据库类型",prop:"vhid"}},[a("Select",{model:{value:t.modal.form.dbtype,callback:function(e){t.$set(t.modal.form,"dbtype",e)},expression:"modal.form.dbtype"}},t._l(t.dbTypeList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.updatePort(e.port)}}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"IP地址",prop:"dbip"}},[a("Input",{model:{value:t.modal.form.dbip,callback:function(e){t.$set(t.modal.form,"dbip",e)},expression:"modal.form.dbip"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"端口",prop:"dbport"}},[a("Input",{model:{value:t.modal.form.dbport,callback:function(e){t.$set(t.modal.form,"dbport",e)},expression:"modal.form.dbport"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"同步账号用户名",prop:"username"}},[a("Input",{model:{value:t.modal.form.username,callback:function(e){t.$set(t.modal.form,"username",e)},expression:"modal.form.username"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"同步账号密码",prop:"userpass"}},[a("Input",{attrs:{type:"password"},model:{value:t.modal.form.userpass,callback:function(e){t.$set(t.modal.form,"userpass",e)},expression:"modal.form.userpass"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"业务账号用户名",prop:"initusername"}},[a("Input",{model:{value:t.modal.form.initusername,callback:function(e){t.$set(t.modal.form,"initusername",e)},expression:"modal.form.initusername"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"业务账号密码",prop:"inituserpass"}},[a("Input",{attrs:{type:"password"},model:{value:t.modal.form.inituserpass,callback:function(e){t.$set(t.modal.form,"inituserpass",e)},expression:"modal.form.inituserpass"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"数据库名",prop:"dbname"}},[a("Input",{model:{value:t.modal.form.dbname,callback:function(e){t.$set(t.modal.form,"dbname",e)},expression:"modal.form.dbname"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"模式名",prop:"schemaname"}},[a("Input",{model:{value:t.modal.form.schemaname,callback:function(e){t.$set(t.modal.form,"schemaname",e)},expression:"modal.form.schemaname"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"临时表前缀",prop:"logtablenameprefix"}},[a("Input",{model:{value:t.modal.form.logtablenameprefix,callback:function(e){t.$set(t.modal.form,"logtablenameprefix",e)},expression:"modal.form.logtablenameprefix"}})],1),a("FormItem",{staticStyle:{width:"47%"},attrs:{label:"触发器前缀",prop:"triggernameprefix"}},[a("Input",{model:{value:t.modal.form.triggernameprefix,callback:function(e){t.$set(t.modal.form,"triggernameprefix",e)},expression:"modal.form.triggernameprefix"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-right":"8px"},attrs:{type:"primary"},on:{click:t.testPlatForm}},[t._v("连接测试")]),a("Button",{attrs:{type:"primary",loading:t.btnloading},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)])],1),a("Modal",{attrs:{title:"详情","class-name":"vertical-center-modal"},model:{value:t.modal10,callback:function(e){t.modal10=e},expression:"modal10"}},[a("div",{staticStyle:{height:"120px"}},t._l(t.data2,(function(e,i){return a("span",{key:i,staticStyle:{width:"49%",float:"left"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0)])],1)}),[],!1,null,"3e74796a",null);e.default=l.exports},"9aa5":function(t,e,a){},"9c20":function(t,e,a){"use strict";a("0359")},"9ce9":function(t,e,a){"use strict";a.r(e);var i={name:"SysToolArp",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{},links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.ButtonLoading=!0,this.$https.fetchPost(this.$api.sys.arp.url,{},{timeout:6e4}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.textareaShow=!0,t.value=e.data.data):(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2}),this.textareaShow=!1}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Button",{staticStyle:{"margin-left":"15px"},on:{click:t.submit}},[t._v("Arp")])],1)])])]),t.textareaShow?a("Input",{attrs:{loading:t.ButtonLoading,type:"textarea",rows:20,placeholder:"Enter something..."},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("执行命令:")])])}],!1,null,"ea7a5ebc",null);e.default=o.exports},"9fd0":function(t,e,a){"use strict";a.r(e);var i={name:"LocalSmbService",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{indeterminate:!1,checkAll:!1,isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,checkAllGroup:[],hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],List:[{value:"all",label:"所有"},{value:"user",label:"用户与登录设置"},{value:"interface",label:"接口配置"},{value:"gateway",label:"网关配置"},{value:"route",label:"静态路由"},{value:"availability",label:"高可用性"},{value:"control",label:"访问控制"},{value:"ftp",label:"FTP服务"},{value:"smb",label:"SMB服务"},{value:"nfs",label:"NFS服务"},{value:"data",label:"数据资源"},{value:"business",label:"业务与服务"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"SMB服务",to:"/local/smb"},{name:"服务设置",to:"/local/smbService"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["用户管理","登录管理","静态路由","虚拟IPS","访问控制","强制访问控制","FTP服务","SMB服务","数据资源","业务与服务"]:this.checkAllGroup=[]},checkAllGroupChange:function(t){10===t.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}})],1)]),e("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[e("div",{staticStyle:{margin:"15px 10px"}},[e("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[e("tr",{staticStyle:{height:"40px"}},[this._m(0),e("td",[e("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"240"}}),e("span",{staticStyle:{color:"red","margin-left":"5px"}},[this._v("*")])],1)])]),e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[this._v("确认")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("本地SMB服务端口:")])])}],!1,null,"75be5d4a",null);e.default=o.exports},a09c:function(t,e,a){},a2ca:function(t,e,a){"use strict";a("be4b")},a2cc:function(t,e,a){"use strict";a.r(e),a("cc57");var i={name:"TestSendParameter",components:{jk_tabs:a("25b1").a},data:function(){return{columns1:[{title:"名称",key:"name",align:"center"},{title:"内容",key:"content",align:"center"},{title:"默认内容",key:"default_content",align:"center",className:"default_content"},{title:"说明",key:"explain",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"发送参数配置",to:"/test/sendParameter"}],null:null,data1:[{name:"buffer_size",content:"",default_content:"32KB",explain:"BufferSize"},{name:"debug_level",content:"",default_content:"debug",explain:"DEBUG级别"},{name:"work_num",content:"",default_content:"2",explain:"CPU核数"},{name:"work_conn",content:"",default_content:"2",explain:"工作线程连接数"},{name:"work_cpu_start",content:"",default_content:"-1",explain:"CPU起始"},{name:"listen_addr",content:"",default_content:"127.0.0.1",explain:"发送监听IP"},{name:"listen_port",content:"",default_content:"6688",explain:"发送监听端口"},{name:"admin_addr",content:"",default_content:"127.0.0.1",explain:"管理监听IP"},{name:"admin_port",content:"",default_content:"12345",explain:"管理监听端口"},{name:"gap_conn_id",content:"",default_content:"1",explain:"网闸连接"},{name:"gap_json_file",content:"",default_content:"/opt/wsgap_frelease/task.json",explain:"网闸配置"}]}},mounted:function(){this.showIpAddr()},methods:{showIpAddr:function(){var t=this;this.$https.fetchGet(this.$api.test.fsenddInfo.url).then((function(e){for(var a in e.data.data)for(var i in t.data1)t.data1[i].name==a&&(t.data1[i].content=e.data.data[a])})).catch((function(t){}))},update:function(t){var e=this;this.$Modal.confirm({render:function(t){return t("Input",{props:{value:e.value,autofocus:!0,placeholder:"Please enter your value..."},on:{input:function(t){e.val=t}}})},onOk:function(){var a=new FormData;a.append("key",t),a.append("value",e.val),e.$https.fetchPost(e.$api.test.updateFsendd.url,a).then((function(t){200==t.data.status?(e.$Notice.success({title:"发送参数修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):e.$Notice.error({title:"发送参数修改失败",desc:"错误代码："+t.data.status,duration:2.5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})}}},s=(a("1943"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.update(i.name)}}},[t._v("修改")])]}}])})],1)])])}),[],!1,null,"a38cf4da",null);e.default=o.exports},a367:function(t,e,a){},a420:function(t,e,a){"use strict";a("5429")},a514:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s=(a("cc57"),{name:"LocalNfsAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{filter:"*",permissions:"可读可写",idplatform:null,idinnerlink:null,idbiz:null,unitname:null,systemname:null,projecttype:"00000",projectopt:"0000",leadername:null,leaderphone:null,leaderemail:null,leaderothercontact:null,passunit:null,passtime:null,passnumber:null,passFile:null,regtime:null,transferdirect:"1",baseprotocol:"0001",ifrealtime:"1",propamount:null,ifregist:"1",registunitname:null,linkimageFile:null}},transferdirectList:[{title:"1",name:"单入"},{title:"2",name:"单出"},{title:"3",name:"双向"}],baseprotocolList:[{title:"0001",name:"TCP/IP"},{title:"0002",name:"SSL"},{title:"0003",name:"IPSEC"},{title:"0004",name:"FTP"},{title:"0005",name:"H323"},{title:"0006",name:"H320"},{title:"0007",name:"SNMP"},{title:"0008",name:"UDP"},{title:"0009",name:"其他"}],flagList:[{title:"1",name:"是"},{title:"0",name:"否"}],passFileName:"",linkimageFileName:"",innerlinkList:[],resourceList:[{name:"本地FTP"},{name:"本地SMB"},{name:"本地NFS"},{name:"光碟塔"},{name:"Client"},{name:"认证同步"}],directoryList:[],levelList:[{name:"1"},{name:"2"}],codingList:[{name:"UTF-8"}],operationList:[{name:"删除"},{name:"复制"},{name:"备份"}],idplatformList:[{name:"不审计"},{name:"白名单"},{name:"黑名单"}],filterTypeList:[{name:"白名单"},{name:"黑名单"}],virusList:[{name:"删除"},{name:"隔离"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],interfaceList:[{name:"eth2"}]}},computed:{},methods:{getPassTime:function(t){this.platForm.form.passtime=t},getRegTime:function(t){this.platForm.form.regtime=t},handlePassfile:function(t){return this.passFileName=t.name,this.platForm.form.passFile=t,!1},handleLinkimage:function(t){return this.linkimageFileName=t.name,this.platForm.form.linkimageFile=t,!1},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){},restPlatForm:function(){this.$refs.plat_form.resetFields()}}}),o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"本地NFS服务",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务名",prop:"interface"}},[a("Input",{model:{value:t.platForm.form.uname,callback:function(e){t.$set(t.platForm.form,"uname",e)},expression:"platForm.form.uname"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"NFS目录",prop:"subnet"}},[a("Input",{staticStyle:{width:"90%"},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}}),a("span",{staticStyle:{color:"red","margin-left":"15px"}},[t._v('(eg:"/test")')])],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"IP过滤",prop:"vhid"}},[a("Input",{attrs:{disabled:""},model:{value:t.platForm.form.filter,callback:function(e){t.$set(t.platForm.form,"filter",e)},expression:"platForm.form.filter"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"权限",prop:"password"}},[a("Input",{attrs:{disabled:""},model:{value:t.platForm.form.permissions,callback:function(e){t.$set(t.platForm.form,"permissions",e)},expression:"platForm.form.permissions"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"068cb41f",null).exports,n={name:"LocalNfs",components:{jk_tabs:i.a,nfsAdd:r},inject:["reload"],data:function(){return{columns1:[{title:"序号",align:"center",key:"",render:function(t,e){return t("span",e.index+1)}},{title:"服务名",align:"center",key:""},{title:"NFS目录",align:"center",key:""},{title:"IP过滤",align:"center",key:""},{title:"权限",align:"center",key:""},{title:"状态",align:"center",key:""},{title:"操作",align:"center",key:""}],indeterminate:!1,checkAll:!1,isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,checkAllGroup:[],hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],List:[{value:"all",label:"所有"},{value:"user",label:"用户与登录设置"},{value:"interface",label:"接口配置"},{value:"gateway",label:"网关配置"},{value:"route",label:"静态路由"},{value:"availability",label:"高可用性"},{value:"control",label:"访问控制"},{value:"ftp",label:"FTP服务"},{value:"smb",label:"SMB服务"},{value:"nfs",label:"NFS服务"},{value:"data",label:"数据资源"},{value:"business",label:"业务与服务"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"nfs服务",to:"/local/nfs"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["用户管理","登录管理","静态路由","虚拟IPS","访问控制","强制访问控制","FTP服务","SMB服务","数据资源","业务与服务"]:this.checkAllGroup=[]},checkAllGroupChange:function(t){10===t.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},l=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}}),e("nfsAdd",{staticStyle:{float:"right"}})],1)]),e("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[e("Table",{attrs:{size:"small",border:"",columns:this.columns1,data:this.data1}})],1)])])}),[],!1,null,"57e8f075",null);e.default=l.exports},a55b:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{times:0,lock:!0,title:"",login:{name:null,passWord:null,captcha:null},rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"}],passWord:[{required:!0,message:"密码不能为空",trigger:"blur"}],captcha:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},mounted:function(){this.getCode(),this.gettitle(),this.getstatus()},methods:{locking:function(){},getstatus:function(){var t=this;this.$https.fetchGet(this.$api.user.blockeInfo.url).then((function(e){500==e.data.status?(t.lock=!1,t.times=parseInt(e.data.desc),t.timer=setInterval((function(){t.times--,0===t.times&&(clearInterval(t.timer),t.lock=!0)}),1e3)):t.lock=!0})).catch((function(t){}))},gettitle:function(){var t=this;this.$https.fetchPost(this.$api.sys.getSystemName.url).then((function(e){t.title=e.data.data})).catch((function(t){}))},getCode:function(){var t=this;this.$https.fetchGet(this.$api.user.checkCode.url).then((function(e){t.$refs.captcha.src=e.data.data})).catch((function(t){}))},submit:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.user.login.url,t.login).then((function(e){200==e.data.status?(t.$storage.setStorage("user","a"),t.$storage.setStorage("users",e.data.title),t.$storage.setStorage("username",e.data.data),"admins"==e.data.title&&t.$router.push({path:"/sys"}),"logauditor"==e.data.title&&t.$router.push({path:"/logs"}),"usermanager"==e.data.title&&t.$router.push({path:"/user"})):(t.$Notice.error({title:"登录失败",desc:e.data.desc}),t.getCode(),t.getstatus())})).catch((function(t){}))}))}}},s=(a("11c6"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("div",{staticClass:"layout1"}),a("Row",{staticClass:"layout2",attrs:{type:"flex",justify:"center"}},[a("Form",{ref:"plat_form",attrs:{model:t.login,rules:t.rules},nativeOn:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.submit(e):null}}},[a("div",{staticStyle:{"font-size":"17px","text-align":"center",padding:"15px 0 10px 0"}},[t._v("\n                    "+t._s(t.title)+"\n                ")]),a("div",{staticStyle:{width:"250px",margin:"auto"}},[a("FormItem",{staticStyle:{margin:"0 0 18px 0"},attrs:{prop:"name"}},[t.lock?a("Input",{attrs:{prefix:"md-person",placeholder:"账号"},model:{value:t.login.name,callback:function(e){t.$set(t.login,"name",e)},expression:"login.name"}}):t._e(),t.lock?t._e():a("Input",{attrs:{disabled:"",prefix:"md-person",placeholder:"账号"},model:{value:t.login.name,callback:function(e){t.$set(t.login,"name",e)},expression:"login.name"}})],1),a("FormItem",{staticStyle:{margin:"0 0 18px 0"},attrs:{prop:"passWord"}},[t.lock?a("Input",{attrs:{prefix:"md-lock",type:"password",placeholder:"密码"},model:{value:t.login.passWord,callback:function(e){t.$set(t.login,"passWord",e)},expression:"login.passWord"}}):t._e(),t.lock?t._e():a("Input",{attrs:{disabled:"",prefix:"md-lock",type:"password",placeholder:"密码"},model:{value:t.login.passWord,callback:function(e){t.$set(t.login,"passWord",e)},expression:"login.passWord"}})],1),a("FormItem",{staticStyle:{margin:"0 0 18px 0"},attrs:{prop:"captcha"}},[a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[t.lock?a("Input",{attrs:{type:"text",placeholder:"验证码"},model:{value:t.login.captcha,callback:function(e){t.$set(t.login,"captcha",e)},expression:"login.captcha"}}):t._e(),t.lock?t._e():a("Input",{attrs:{disabled:"",type:"text",placeholder:"验证码"},model:{value:t.login.captcha,callback:function(e){t.$set(t.login,"captcha",e)},expression:"login.captcha"}})],1),a("Col",{attrs:{span:"10"}},[a("img",{ref:"captcha",staticClass:"form-control",attrs:{alt:"点击刷新验证码",src:"data:image/png;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a\nHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy\nMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAjAEsDASIA\nAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA\nAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3\nODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm\np6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA\nAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx\nBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK\nU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3\nuLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1i1tb\ndrSFmgiJKKSSg54prpZh2iaFImxkMUXpnr3H50+F2SygwAB5a/OeQOO4qB53by5njxs3BXQ5BPr9\nMBv8e9bNmCQyK2DwSsUTzI2KkLGuGx6fLU3kRhCy20UinBVtg6YHUYH6Z+lebNY2X9mz3F/PKPEp\nkYhVkIlWYMPLCKvBUgrgqD14IA46jU9K1PU9P0ixupmitsb9SjiZlkmPl4MYKfKULF9wyOMY6VlT\nqOT1NZU0jejjtbl3EcCI6jlGUDP19D9Pb6VV+zwGDcVxIq52kYU4PIPv+PcfQcjcaJp3hrV9Cn8P\npsnu78QT2Imd1liIfc7KSSdgIIOMDOTWxZaXDr95fzX6o5t7p4IrbcVCKp5OVPJORz7enA0ZnP3b\nW6m5BBZNByYklGRliPzwSQakh+zO6x+VAz7sHCDpgnIx16f/AFhXNWVhbavDqmh3Y+02lu6gIxIJ\nTqqZHzDay4POccdsVga74N8N/aYtI0jTlTVLh+rTSuLeLGGkI3EcMNoyQCzDkgGpcmti6UYVFq7f\nL/gnpktlCy5jiiVx0ygwfY1hXKq85YBVBAO1BwOBWvpaww2EVnbqY4oIxHEM5IQDA5PUgYz1rJup\nC1wx3KOAMKBgcDgc1abM2ka0mRpMLBiAFQtjqeO344qhcvcJp139klVr/wCcxYIwWKnDDPHX14x1\n7VfRXk0+L+ICMbWRiNpx3HfGP/rUrwRmKWSJyXYgAkk4PAwc/lz60mrlRdjj9Nm8KT+Go5L46dJM\n0Ja5eRgLkvjLnn5ic5IIP07VYTxQ+heC9MuNZMdzeXS7YIpZlVpcn5SzHgAKVJc9M889dyfTbP7b\n9plsYBc+YH+0vApIIOFYMOR26/8A65LuxsNURV1aytLnbkRtJEsmzI5IyOAcZz7c9KzhBxd2aOSZ\nz2g3Oii+W8uvEGnX2uXZEbOs4IjySViiUnOwHjHVick5wBJd/wBmXF9fSPf3Gm38EgRz55iMwAAU\n4OcjA4x2PPqb8Hh7SbTEsej6YksUm5JBbIjRuDkYbGfTB9+o4q1qOm2t1MztaJcSIu0+Yu9l545O\neDuzj2+orR6mVRc2xl+G4LeSW+v7KExQtIscCJnG1FxvBOC2cnPGQeucmqGlR/2v4l17W3yUgmXT\nLfzWCSJsGZAQBtILkEE84B6V1ayC0kJiUm3l4U5yFYcevt/nFV4LVLKSX7JBaxiR8uBHsMjMOrDu\nTgdeeM9yTNiqXuRaLESbXdPNMLOdyqQPlIPYe/bHuOcVlTRBJCHyrYGQT7VfkVZRscCNvVMhB2GQ\nffPPbPPNUrtW+0vvZSeOS2cjHHP0xVomQJf3MMapHLtXHTaP8KX+0rtyA0uRkH7o7H6UUVdjK7uL\n/al5/wA9v/HR/hTI7ycPlXC/7qgDqPSiihocW7jlvbiEu0cmCxGeB2zSLdTEqS/IxjgdiSB9Paii\np6Fp+8C3U0eAj4G4HgD3FC3twEJ8zsRgqCMHHGPSiihCbEF5OBkOB8vTaMfl0pByPxoopSKg9T//\n2Q=="},on:{click:t.getCode}})])],1)],1),a("FormItem",[t.lock?a("Button",{staticStyle:{width:"100%","background-color":"#e86429",color:"white"},on:{click:t.submit}},[t._v("登录")]):t._e(),t.lock?t._e():a("Button",{staticStyle:{width:"100%","background-color":"#e86429",color:"white"},on:{click:t.locking}},[t._v("封禁中，请"+t._s(t.times)+"秒后重试")])],1)],1)])],1)],1)}),[],!1,null,"975bdf1e",null);e.default=o.exports},a5bc:function(t,e,a){"use strict";a.r(e),a("cc57");var i={name:"Ceshitest",components:{},data:function(){return{name:"send_task.json",indeterminate:!1,checkAll:!1,list:{},json:{msg:"demo of jsoneditor"}}},mounted:function(){this.checkUserAuthority("/usr/local/ws_release/send/send_task.json")},methods:{back:function(){this.$router.go(-1)},handleTabClick:function(t){this.name=t;var e="/usr/local/ws_release/send/"+t;this.checkUserAuthority(e)},checkUserAuthority:function(t){var e=this,i={};i.name=t,this.$https.fetchGet(this.$api.test.findFileInfo.url,i).then((function(t){var i=a("dd9d").Base64;t.data.data=i.decode(t.data.data),e.list=t.data.data})).catch((function(t){}))},onJsonChange:function(){},onJsonSave:function(){var t=this,e={name:"/usr/local/ws_release/send/"+this.name,str:a("dd9d").Base64.encode(this.list)};this.$https.fetchPost(this.$api.test.writeFileInfo.url,e).then((function(e){t.$Notice.success({title:"修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){location.reload()}),250)})).catch((function(t){}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("Tabs",{attrs:{value:"send_task.json"},on:{"on-click":t.handleTabClick}},[a("TabPane",{attrs:{label:"send_task.json",name:"send_task.json"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"wsg_dev_sendd.cnf",name:"wsg_dev_sendd.cnf"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"dmond.json",name:"dmond.json"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"dest_info.cnf",name:"dest_info.cnf"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"gap_info.json",name:"gap_info.json"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"wsg_cli_proxyd.cnf",name:"wsg_cli_proxyd.cnf"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"wsg_in_recvd.cnf",name:"wsg_in_recvd.cnf"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"wsg_fsendd.json",name:"wsg_fsendd.json"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)]),a("TabPane",{attrs:{label:"wsg_workd.cnf",name:"wsg_workd.cnf"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list,expression:"list"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",cols:"30",rows:"25"},domProps:{value:t.list},on:{input:function(e){e.target.composing||(t.list=e.target.value)}}}),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.onJsonSave}},[t._v("保存")]),a("i-button",{staticStyle:{width:"60px",padding:"10px","border-radius":"3px"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)])],1)],1)])])}),[],!1,null,"351d5e88",null);e.default=o.exports},a88f:function(t,e,a){"use strict";a("89d9")},a8de:function(t,e,a){"use strict";a("1a1f")},a9f9:function(t,e,a){"use strict";a.r(e);var i={name:"UserRole",components:{jk_tabs:a("25b1").a},data:function(){return{columns1:[{title:"组名",key:"name",align:"center"},{title:"描述",key:"descr",align:"center"},{title:"成员数量",key:"priv",align:"center"}],links:[{name:"用户",to:"/user/userConfig"},{name:"角色",to:"/user/userRole"},{name:"密码强度设置",to:"/user/userPwd"}],data1:[]}},mounted:function(){this.showProxy()},methods:{showProxy:function(){var t=this;this.$https.fetchGet(this.$api.user.showGroup.url).then((function(e){t.data1=e.data.data})).catch((function(t){}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}})],1)]),e("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[e("Table",{attrs:{border:"",size:"small",columns:this.columns1,data:this.data1}})],1)])])}),[],!1,null,"53ebbef0",null);e.default=o.exports},aa4a:function(t,e,a){},ab14:function(t,e,a){"use strict";a("a09c")},ab7a:function(t,e,a){"use strict";a.r(e),a("cc57");var i={name:"SysToolFTP",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{ip:"",port:"",name:"",password:"",time:"5"},links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.$util.queryDevIP4(this.form.ip)||this.$util.queryDevIP6(this.form.ip)?this.$util.testportnumber(this.form.port)?this.form.name?this.form.password?this.$util.queryNum(this.form.time)?(this.ButtonLoading=!0,this.$https.fetchPost(this.$api.sys.ftpTest.url,{ip:this.form.ip,port:this.form.port,name:this.form.name,password:this.form.password,time:this.form.time}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.textareaShow=!0,t.value=e.data.data):(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:5}),this.textareaShow=!1}))):this.$Notice.error({title:"检测失败",desc:"超时时间必须为数字",duration:5}):this.$Notice.error({title:"检测失败",desc:"服务器密码不能为空",duration:5}):this.$Notice.error({title:"检测失败",desc:"服务器账号不能为空",duration:5}):this.$Notice.error({title:"检测失败",desc:"服务器端口请输入正确的端口格式，应为0-65535",duration:5}):this.$Notice.error({title:"检测失败",desc:"服务器地址ip请输入正确的ip格式",duration:5})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},attrs:{loading:t.ButtonLoading},on:{click:function(e){return t.submit()}}},[t._v("确认")])],1),t.textareaShow?a("Input",{attrs:{type:"textarea",rows:20,placeholder:"Enter something..."},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器地址:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器端口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器账号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("服务器密码:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("超时时间(秒):")])])}],!1,null,"60f246d1",null);e.default=o.exports},ac1b:function(t,e,a){"use strict";a.r(e);var i={inject:["reload"],name:"Isolation",components:{jk_tabs:a("25b1").a},data:function(){return{path:"/database/virusgap/",links:[{name:"隔离区管理",to:"/virus/isolation"}],data:[],data3:[{title:"parent",loading:!1,children:[]},{title:"parent"}],data5:[{title:"parent 1",expand:!0,render:function(t,e){e.root,e.node;var a=e.data;return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("Icon",{props:{type:"ios-folder-outline"},style:{marginRight:"8px"}}),t("span",a.title)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}})])},children:[{title:"child 1-1",expand:!0,children:[{title:"leaf 1-1-1",expand:!0},{title:"leaf 1-1-2",expand:!0}]},{title:"child 1-2",expand:!0,children:[{title:"leaf 1-2-1",expand:!0},{title:"leaf 1-2-1",expand:!0}]}]}],buttonProps:{type:"default",size:"small"}}},mounted:function(){this.getfile(this.path)},methods:{clearAll:function(){var t=this;this.$Modal.confirm({title:"删除所有目录",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",onOk:function(){t.$https.fetchPost(t.$api.virus.deleteFile.url,{path:t.path}).then((function(e){200==e.data.status?(t.$Message.info("删除成功"),setTimeout((function(){t.reload(),t.$Modal.remove()}),250)):(t.$Modal.remove(),t.$Notice.error({title:"删除失败",desc:"错误："+e.data.desc,duration:5}))})).catch((function(e){t.$Modal.remove(),t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})},getfile:function(t){var e=this;this.$https.fetchPost(this.$api.virus.getFiles.url,{path:t}).then((function(t){if(200==t.data.status)for(var a in e.data=t.data.data,e.data)e.data[a].title=e.data[a].fileName,e.data[a].render=function(t,a){var i=a.root,s=a.node,o=a.data;return t("span",{style:{display:"inline-block",width:"100%"}},[o.dir?t("span",[t("Icon",{props:{type:"ios-folder-outline"},style:{marginRight:"8px"}}),t("span",[t("Poptip",{props:{trigger:"hover",placement:"right",content:"文件路径："+o.path,maxWidth:"600"}},o.fileName)])]):t("span",[t("Icon",{props:{type:"ios-paper-outline"},style:{marginRight:"8px"}}),t("span",[t("Poptip",{props:{trigger:"hover",placement:"right",content:"文件大小："+o.size+"B , 文件路径："+o.path,maxWidth:"600"}},o.fileName)])]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},e.buttonProps,{icon:"ios-remove"}),on:{click:function(){e.remove(i,s,o)}}})])])},1==e.data[a].dir&&(e.data[a].loading=!1,e.data[a].children=[]);else e.$Notice.error({title:"获取文件路径失败",desc:"错误代码："+t.data.desc,duration:2.5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))},renderContent:function(t,e){var a=this,i=e.root,s=e.node,o=e.data;return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("Icon",{props:{type:"ios-paper-outline"},style:{marginRight:"8px"}})]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{icon:"ios-remove"}),on:{click:function(){a.remove(i,s,o)}}})])])},append:function(t){var e=t.children||[];e.push({title:"appended node",expand:!0}),this.$set(t,"children",e)},remove:function(t,e,a){var i=this,s=a.path;this.$https.fetchPost(this.$api.virus.deleteFile.url,{path:s}).then((function(t){200==t.data.status?(i.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){i.reload()}),250)):i.$Notice.error({title:"删除失败",desc:"错误代码："+t.data.desc,duration:2.5})})).catch((function(t){i.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))},loadData:function(t,e){var a=this,i=t.path;this.$https.fetchPost(this.$api.virus.getFiles.url,{path:i}).then((function(t){if(200==t.data.status){var i=t.data.data;for(var s in i)i[s].title=i[s].fileName,i[s].render=function(t,e){var i=e.root,s=e.node,o=e.data;return t("span",{style:{display:"inline-block",width:"100%"}},[o.dir?t("span",[t("Icon",{props:{type:"ios-folder-outline"},style:{marginRight:"8px"}}),t("span",[t("Poptip",{props:{trigger:"hover",placement:"right",content:"文件路径："+o.path,maxWidth:"600"}},o.fileName)])]):t("span",[t("Icon",{props:{type:"ios-paper-outline"},style:{marginRight:"8px"}}),t("span",[t("Poptip",{props:{trigger:"hover",placement:"right",content:"文件大小："+o.size+"B , 文件路径："+o.path,maxWidth:"600"}},o.fileName)])]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},a.buttonProps,{icon:"ios-remove"}),on:{click:function(){a.remove(i,s,o)}}})])])},1==i[s].dir&&(i[s].loading=!1,i[s].children=[]);e(i)}else a.$Notice.error({title:"获取文件路径失败",desc:"错误代码："+t.data.desc,duration:2.5})})).catch((function(t){a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}}},s=(a("53df"),a("2c07")),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}})],1),e("Button",{staticStyle:{"margin-left":"15px",float:"right"},attrs:{type:"primary"},on:{click:this.clearAll}},[this._v("清空所有目录")])],1),e("div",{staticClass:"modal-body"},[e("Tree",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{data:this.data,"load-data":this.loadData,render:this.renderContent}})],1)])])}),[],!1,null,null,null);e.default=o.exports},adb1:function(t,e,a){"use strict";a.r(e);var i={name:"SysToolCatch",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,devList:[],protocolList:["all","ip","arp","udp","tcp"],textshow:!1,form:{dev:"",protocol:""},links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"}]}},mounted:function(){this.getUSBList()},methods:{stopService:function(){var t=this;this.form.dev?this.form.protocol?this.$https.fetchPost(this.$api.sys.stopTcpDump.url,{},{responseType:"blob"}).then((function(e){0!=e.data.size&&(t.download(e),t.textshow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:5}),this.textareaShow=!1})):this.$Notice.error({title:"检测失败",desc:"请选择协议",duration:5}):this.$Notice.error({title:"检测失败",desc:"请选择接口",duration:5})},getUSBList:function(t){var e=this;this.$https.fetchGet(this.$api.network.showIfconfig.url).then((function(t){e.devList=t.data.data})).catch((function(t){}))},submit:function(){var t=this;this.form.dev?this.form.protocol?this.$https.fetchPost(this.$api.sys.tcpdump.url,{dev:this.form.dev,protocol:this.form.protocol},{timeout:6e4}).then((function(e){200==e.data.status?t.textshow=!0:(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:5}),this.textareaShow=!1})):this.$Notice.error({title:"检测失败",desc:"请选择协议",duration:5}):this.$Notice.error({title:"检测失败",desc:"请选择接口",duration:5})},download:function(t){var e=t.headers["content-disposition"],a=t.headers["content-type"],i=new Blob([t.data],{type:a}),s=new FileReader;"download"in document.createElement("a")?(s.readAsDataURL(i),s.onload=function(t){var a=document.createElement("a");a.download=e,a.style.display="none",a.href=t.target.result,document.body.appendChild(a),a.click(),document.body.removeChild(a)}):navigator.msSaveBlob(i,e)}}},s=(a("e215"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Select",{staticStyle:{"margin-left":"15px",width:"200px"},model:{value:t.form.dev,callback:function(e){t.$set(t.form,"dev",e)},expression:"form.dev"}},t._l(t.devList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Select",{staticStyle:{"margin-left":"15px",width:"200px"},model:{value:t.form.protocol,callback:function(e){t.$set(t.form,"protocol",e)},expression:"form.protocol"}},t._l(t.protocolList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)])])]),a("div",{staticStyle:{width:"300px",margin:"10px auto"}},[a("Button",{staticStyle:{"margin-right":"15px"},on:{click:function(e){return t.submit()}}},[t._v("启动抓包")]),a("Button",{on:{click:function(e){return t.stopService()}}},[t._v("停止抓包下载数据")])],1),t.textshow?a("div",{staticStyle:{width:"400px",margin:"0 auto","margin-top":"15px"}},[a("span",{staticStyle:{color:"red","font-size":"12px","margin-top":"15px"}},[t._v("正在抓包,不手动停止抓包下载数据，5分钟后将自动停止")])]):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("接口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("协议:")])])}],!1,null,"48da220c",null);e.default=o.exports},b0ec:function(t,e,a){"use strict";a("9aa5")},b56c:function(t,e,a){},b6e8:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"TestTaskConfigAdd",components:{},data:function(){return{platForm:{show:!1,business_name:null,service_name:null,form:{task_name:null,task_id:null,dst_task_id:null,root_dir:null,sync_type:"none",wr_policy:"update",cp_root:null,recurse_disable:null,policy_id:null},recurse_disable:!0}}},computed:{},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.platForm.form.task_name=this.platForm.business_name+"_"+this.platForm.service_name,0==this.platForm.recurse_disable?this.platForm.form.recurse_disable="0":this.platForm.form.recurse_disable="1",this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.test.addTask.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"任务配置成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"任务配置失败",desc:"错误代码："+e.data.status,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"任务配置",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"业务名",prop:"subnet"}},[a("Input",{model:{value:t.platForm.business_name,callback:function(e){t.$set(t.platForm,"business_name",e)},expression:"platForm.business_name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务名",prop:"vhid"}},[a("Input",{model:{value:t.platForm.service_name,callback:function(e){t.$set(t.platForm,"service_name",e)},expression:"platForm.service_name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"任务名",prop:"password"}},[a("Input",{attrs:{disabled:""},model:{value:t.platForm.form.task_name,callback:function(e){t.$set(t.platForm.form,"task_name",e)},expression:"platForm.form.task_name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"任务ID",prop:"password"}},[a("Input",{model:{value:t.platForm.form.task_id,callback:function(e){t.$set(t.platForm.form,"task_id",e)},expression:"platForm.form.task_id"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"目标任务ID",prop:"password"}},[a("Input",{model:{value:t.platForm.form.dst_task_id,callback:function(e){t.$set(t.platForm.form,"dst_task_id",e)},expression:"platForm.form.dst_task_id"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"根目录",prop:"password"}},[a("Input",{model:{value:t.platForm.form.root_dir,callback:function(e){t.$set(t.platForm.form,"root_dir",e)},expression:"platForm.form.root_dir"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"同步后源文件处理方式",prop:"password"}},[a("Select",{model:{value:t.platForm.form.sync_type,callback:function(e){t.$set(t.platForm.form,"sync_type",e)},expression:"platForm.form.sync_type"}},[a("Option",{attrs:{value:"none"}},[t._v("不做处理")]),a("Option",{attrs:{value:"copy"}},[t._v("复制到...")]),a("Option",{attrs:{value:"delete"}},[t._v("同步后删除")])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"目标端文件冲突处理方式",prop:"password"}},[a("Select",{model:{value:t.platForm.form.wr_policy,callback:function(e){t.$set(t.platForm.form,"wr_policy",e)},expression:"platForm.form.wr_policy"}},[a("Option",{attrs:{value:"direct"}},[t._v("不做处理")]),a("Option",{attrs:{value:"update"}},[t._v("覆盖")]),a("Option",{attrs:{value:"omit"}},[t._v("忽略")]),a("Option",{attrs:{value:"rename"}},[t._v("重命名")])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"复制到...",prop:"password"}},[a("Input",{model:{value:t.platForm.form.cp_root,callback:function(e){t.$set(t.platForm.form,"cp_root",e)},expression:"platForm.form.cp_root"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"同步子目录",prop:"password"}},[a("Checkbox",{model:{value:t.platForm.recurse_disable,callback:function(e){t.$set(t.platForm,"recurse_disable",e)},expression:"platForm.recurse_disable"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"过滤策略ID",prop:"password"}},[a("Input",{model:{value:t.platForm.form.policy_id,callback:function(e){t.$set(t.platForm.form,"policy_id",e)},expression:"platForm.form.policy_id"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"2c42fd33",null).exports,n={name:"TestTaskConfig",components:{jk_tabs:i.a,taskConfig:r},data:function(){return{columns1:[{title:"任务名",key:"task_name",align:"center"},{title:"任务ID",key:"task_id",align:"center"},{title:"目标ID",key:"dst_task_id",align:"center"},{title:"根目录",key:"root_dir",align:"center"},{title:"同步后源文件处理方式",key:"sync_type",align:"center",tooltip:!0},{title:"目标端文件冲突处理方式",key:"wr_policy",align:"center",ellipsis:!0},{title:"复制到...",key:"cp_root",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"任务配置",to:"/test/taskConfig"}],modal:{show:!1,business_name:null,service_name:null,form:{id:null,task_name:null,task_id:null,dst_task_id:null,root_dir:null,sync_type:"none",wr_policy:"update",cp_root:null,recurse_disable:null,policy_id:null}},data1:[{task_name:"my_task1",task_id:"1234",dst_task_id:"4567",root_dir:"/disk/ftp/",sync_type:"deletedeletedeletedeletedeletedelete",wr_policy:"update",cp_root:"/home/tc/",recurse_disable:"1",policy_id:"-1"}]}},mounted:function(){},methods:{showProxy:function(){var t=this;this.$https.fetchGet(this.$api.test.taskInfo.url).then((function(e){t.data1=e.data.data})).catch((function(t){}))},deleteFtpProxy:function(t){var e=this;this.$Modal.confirm({title:"删除任务配置",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.test.delTask.url,{key:t}).then((function(t){200==t.data.status?location.reload():(e.$Modal.remove(),e.$Message.info("任务配置删除失败"))})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtpProxy:function(t){this.modal.show=!0,this.modal.form.id=this.data1[t].id,this.modal.form.task_name=this.data1[t].task_name,this.modal.form.task_id=this.data1[t].task_id,this.modal.form.dst_task_id=this.data1[t].dst_task_id,this.modal.form.root_dir=this.data1[t].root_dir,this.modal.form.sync_type=this.data1[t].sync_type,this.modal.form.wr_policy=this.data1[t].wr_policy,this.modal.form.cp_root=this.data1[t].cp_root,this.modal.form.policy_id=this.data1[t].policy_id,0==this.data1[t].recurse_disable?this.modal.form.recurse_disable=!1:this.modal.form.recurse_disable=!0},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;null!=this.modal.business_name&&null!=this.modal.service_name&&(this.modal.form.task_name=this.modal.business_name+"_"+this.modal.service_name),0==this.modal.form.recurse_disable?this.modal.form.recurse_disable="0":this.modal.form.recurse_disable="1",this.$refs.info_form.validate((function(e){e&&t.$https.fetchPost(t.$api.test.updateTask.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"任务配置修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"任务配置修改失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("taskConfig",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtpProxy(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtpProxy(i.id)}}},[t._v("删除")])]}}])})],1)]),a("Drawer",{attrs:{title:"FTP代理配置",width:"1000"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"业务名",prop:"subnet"}},[a("Input",{model:{value:t.modal.business_name,callback:function(e){t.$set(t.modal,"business_name",e)},expression:"modal.business_name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务名",prop:"vhid"}},[a("Input",{model:{value:t.modal.service_name,callback:function(e){t.$set(t.modal,"service_name",e)},expression:"modal.service_name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"任务名",prop:"password"}},[a("Input",{attrs:{disabled:""},model:{value:t.modal.form.task_name,callback:function(e){t.$set(t.modal.form,"task_name",e)},expression:"modal.form.task_name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"任务ID",prop:"password"}},[a("Input",{model:{value:t.modal.form.task_id,callback:function(e){t.$set(t.modal.form,"task_id",e)},expression:"modal.form.task_id"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"目标任务ID",prop:"password"}},[a("Input",{model:{value:t.modal.form.dst_task_id,callback:function(e){t.$set(t.modal.form,"dst_task_id",e)},expression:"modal.form.dst_task_id"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"根目录",prop:"password"}},[a("Input",{model:{value:t.modal.form.root_dir,callback:function(e){t.$set(t.modal.form,"root_dir",e)},expression:"modal.form.root_dir"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"同步后源文件处理方式",prop:"password"}},[a("Select",{model:{value:t.modal.form.sync_type,callback:function(e){t.$set(t.modal.form,"sync_type",e)},expression:"modal.form.sync_type"}},[a("Option",{attrs:{value:"none"}},[t._v("不做处理")]),a("Option",{attrs:{value:"copy"}},[t._v("复制到...")]),a("Option",{attrs:{value:"delete"}},[t._v("同步后删除")])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"目标端文件冲突处理方式",prop:"password"}},[a("Select",{model:{value:t.modal.form.wr_policy,callback:function(e){t.$set(t.modal.form,"wr_policy",e)},expression:"modal.form.wr_policy"}},[a("Option",{attrs:{value:"direct"}},[t._v("不做处理")]),a("Option",{attrs:{value:"update"}},[t._v("覆盖")]),a("Option",{attrs:{value:"omit"}},[t._v("忽略")]),a("Option",{attrs:{value:"rename"}},[t._v("重命名")])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"复制到...",prop:"password"}},[a("Input",{model:{value:t.modal.form.cp_root,callback:function(e){t.$set(t.modal.form,"cp_root",e)},expression:"modal.form.cp_root"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"同步子目录",prop:"password"}},[a("Checkbox",{model:{value:t.modal.form.recurse_disable,callback:function(e){t.$set(t.modal.form,"recurse_disable",e)},expression:"modal.form.recurse_disable"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"过滤策略ID",prop:"password"}},[a("Input",{model:{value:t.modal.form.policy_id,callback:function(e){t.$set(t.modal.form,"policy_id",e)},expression:"modal.form.policy_id"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"6c32ce87",null);e.default=l.exports},b727:function(t,e,a){},b736:function(t,e,a){},b7d4:function(t,e,a){},ba43:function(t,e,a){"use strict";a("b736")},bac6:function(t,e,a){"use strict";a.r(e),a("163d"),a("2b45"),a("c904"),a("c0c3"),a("9a33");var i=a("25b1"),s=(a("5e7e"),{name:"dbsync_task_edit",components:{jk_tabs:i.a},data:function(){var t=this;return{data2insert:!0,data2delete:!0,data2update:!0,data2updatebreak:!1,NewWhere:"",NewSource:"",NewFromname:"",data2where:!1,data2actionshow:!0,data2action:!0,data2whereshow:!1,sourceListtablename:"",bool6:!0,updatedatalista1:[],bool5:!0,datalist:[],data2checkboindex:"",updateItem:[],selectsourcedata:[],sourcedata:[],timespan:3,addFormBtn:!1,bool:!1,data10:[],data5:[],data6:[],data7:[],data8:[],data3:[],data4:[],sidentityarray:"",sourceName:"",sourceList:[],tablename:"",data1:[],data2:[],updatesourceList:{},modal:{show:!1},postmodal:{show:!1,form:{taskId:"",id:"",maintask:{servicename:"",oid:"",multitasktype:"one2one",taskdescribe:"",synctype:"1",runstate:"stop",plantype:"1",cronexpression:"*/3 * * * * ?",autorun:"true",enabledbpool:"true",stoptime:""},subtask:[],table:[]}},model1:"",step1name:"",step1ID:"",current:0,show0:!0,show1:!1,show2:!1,show3:!1,show4:!1,checkvalue1:!0,checkvalue2:!0,vertical:"触发器增量同步",timePlan:"时间间隔",isAuthentication:!1,otherShow:!1,islast:!0,isnext:!1,cycleVal:"day",cycleList1:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],isDayShow:!0,isWeeksShow:!1,isMonthShow:!1,columns1:[{title:"状态",type:"selection",align:"center",width:60},{title:"序号",key:"id",align:"center",width:100,render:function(e,a){return e("span",a.index+(t.currentPage-1)*t.pageSize+1)}},{title:"外端数据库表",key:"path",align:"center"},{title:"字段数",key:"length",align:"center"},{title:"主键追踪",key:"state",align:"center"},{title:"字段配置",key:"action",slot:"action",width:150,align:"center"}],columns2:[{title:"序号",align:"center",key:"id",width:80,render:function(t,e){return t("span",e.index+1)}},{title:"外端数据库表字段名",key:"scolumnnamestring",align:"center"},{title:"数据类型",key:"sdatatypestring",align:"center"},{title:"主键",width:80,key:"key",align:"center"},{title:"标识列",align:"center",key:"checkBox",width:80,render:function(e,a){return e("div",[e("Checkbox",{props:{value:a.row._checked},on:{"on-change":function(e){t.data2[a.index]._checked=e}}})])}},{title:"内端数据库表字段名",key:"tcolumnnamestring",align:"center"},{title:"同步字段顺序",slot:"action",align:"center",width:100}],columns3:[{title:"序号",key:"id",align:"center"},{title:"内端数据库表字段名",key:"path",align:"center"},{title:"数据类型",key:"state",align:"center"}],columns5:[{title:"序号",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"服务名称",align:"center",key:"servicename"},{title:"服务ID",align:"center",key:"oid"},{title:"描述",align:"center",key:"taskdescribe"},{title:"同步方式",align:"center",key:"synctype"},{title:"启用连接池",align:"center",key:"enabledbpool"},{title:"随系统自启动",align:"center",key:"autorun"},{title:"时间间隔",align:"center",key:"cronexpression"}],columns6:[{title:"序号",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"Ip地址",align:"center",key:"ip"},{title:"端口",align:"center",key:"port"},{title:"数据库",align:"center",key:"db"},{title:"数据库类型",align:"center",key:"dbtype"},{title:"同步账号用户名",align:"center",key:"username"},{title:"业务账号用户名",align:"center",key:"initusername"}],columns7:[{title:"资源名称",key:"taskId",align:"center"},{title:"Ip地址",key:"ip",align:"center"},{title:"端口",key:"port",align:"center"},{title:"数据库",key:"db",align:"center"},{title:"数据库类型",key:"dbtype",align:"center"}],columns8:[{title:"序号",key:"id",align:"center",width:100,render:function(e,a){return e("span",a.index+(t.currentPage1-1)*t.pageSize+1)}},{title:"源表",key:"stablename",align:"center"},{title:"目标表",key:"ttablename",align:"center"},{title:"方向",key:"direction",width:100,align:"center"},{title:"字段数",key:"idsdatatypestringlen",width:100,align:"center"},{title:"同步字段数",key:"idsdatatypestringlen1",width:100,align:"center"},{title:"条件表达式",key:"swhere",align:"center"},{title:"表结构",key:"identical",width:120,align:"center"}],currentPage8:1,links:[{name:"数据库同步",to:"/data/dbsync"}],dbSoucreList:[],fromNameSearch:"",editIndex:-1,ajaxHistoryData:[],ajaxHistoryData1:[],dataCount:0,dataCount1:0,pageSize:5,selected:[],historyData:[],historyData1:[],currentPage:1,currentPage1:1,bool1:!0,bool2:!0,updatebackList:{},tablescolumnnamestring:[],updateindex:0,updateindex1:0,chuan:[],copydata2:[]}},computed:{},methods:{deleteChildMission:function(){var t=this,e="1007***";e=e+this.$route.query.taskname+"|"+this.step1name+"*"+this.step1name+"_"+this.data2[0].stablename+"_"+this.NewFromname,this.$https.fetchPost(this.$api.data.delSubtasks.url,{string:e}).then((function(e){200==e.data.status?t.$Notice.success({title:"命令发送成功",desc:e.data.desc,duration:5}):t.$Notice.error({title:"操作失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},checkdata2action:function(){this.data2action?this.data2actionshow=!0:this.data2actionshow=!1},checkdata2where:function(){this.data2where?this.data2whereshow=!0:this.data2whereshow=!1},sortchange:function(t,e){this.data2[e]=t},back:function(){this.$router.push("/data/test2")},checkAuthentication:function(){this.isAuthentication=!this.isAuthentication},checkOther:function(t){this.otherShow=2==t},last:function(){this.current-=1,0==this.current?(this.islast=!0,this.show1=!1,this.show0=!0):3==this.current?(this.isnext=!1,this.show4=!1,this.show3=!0,this.updateChecked()):2==this.current?(this.data3=[],this.isnext=!1,this.show3=!1,this.show2=!0,this.updateChecked()):1==this.current&&(this.isnext=!1,this.show2=!1,this.show1=!0)},next:function(){if(this.step1name&&this.step1ID)if(this.$util.queryNum(this.step1ID))if("9999"!=this.step1ID){if(this.timespan<1||this.timespan>59)this.$Modal.warning({title:"警告",content:"时间间隔范围在1-59秒"});else if(this.postmodal.form.maintask.servicename=this.step1name,this.postmodal.form.maintask.oid=this.step1ID,this.current+=1,4==this.current&&(this.isnext=!0,this.Setdata8(),this.$set(this.data5[0],"cronexpression",this.timespan),this.show3=!1,this.show4=!0),3==this.current)if(this.$refs.selection.getSelection(),0==this.selected.length)this.selected=[],this.current-=1,this.$Modal.info({title:"提示",content:"没选择到源表添加到同步队列中"});else{this.Setdata3();var t=[];for(var e in this.selected)for(var a in this.data4)this.selected[e].path==this.data4[a].stablename&&t.push(this.data4[a]);this.data3=t,this.getSourcedata(this.tablename),this.zonglan(),this.show2=!1,this.show3=!0}else if(1==this.current)this.islast=!1,this.show1=!0,this.show0=!1;else if(2==this.current){if(this.show1=!1,this.show2=!0,this.bool){if(this.bool1)for(var i=0;i<this.sourceList.length;i++)for(var s=0;s<this.updateItem.length;s++)this.sourceList[i].tablename==this.updateItem[s]&&this.$refs.selection.toggleSelect(i);this.bool1=!1}this.updateChecked()}}else this.$Modal.warning({title:"警告",content:"服务ID不能为9999"});else this.$Modal.warning({title:"警告",content:"服务ID必须为数字"});else this.$Modal.warning({title:"警告",content:"请填写服务名称和服务ID"})},configData:function(t){"day"==t?(this.isDayShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},createData2:function(t){for(var e in this.bool6=!0,this.data2=[],this.updatebackList=t,this.modal.show=!0,this.editIndex=-1,this.sourceName=t.path,this.datalist)for(var a in this.datalist[e].tables.table)for(var i in this.datalist[e].sourcename===this.tablename&&(this.updateindex=e),this.datalist[e].tables.table[a])this.datalist[e].tables.table[a].tablename===this.sourceName&&(this.updateindex1=a);for(var s in this.data2=JSON.parse(JSON.stringify(this.datalist[this.updateindex].tables.table[this.updateindex1].columns)),this.chuan)for(var o in this.data2)t.path==this.chuan[s].tablename&&this.data2[o].ssyncdsn==this.sourceListtablename&&0!=this.chuan[s].index.length&&(this.bool6=!1);if(this.bool6)for(var r in this.data2)this.data2[r]._checked=!1,"true"==this.data2[r].key1&&(this.data2[r]._checked=!0);if(this.NewFromname=this.data2[0].ttablename,this.NewWhere=this.data2[0].swhere,1==this.data2[0].identical?(this.data2actionshow=!0,this.data2action=!0):0==this.data2[0].identical&&(this.data2actionshow=!1,this.data2action=!1),1==this.data2[0].swhereshow?(this.data2whereshow=!0,this.data2where=!0):0==this.data2[0].swhereshow&&(this.data2whereshow=!1,this.data2where=!1),"true"==this.data2[0].updatebreak?this.data2updatebreak=!0:this.data2updatebreak=!1,this.data2insert=!1,this.data2delete=!1,this.data2update=!1,""==this.data2[0].sTriggerEventType);else{var n=this.data2[0].sTriggerEventType.split("|");for(var l in n)"INSERT"==n[l]&&(this.data2insert=!0),"UPDATE"==n[l]&&(this.data2update=!0),"DELETE"==n[l]&&(this.data2delete=!0)}},checkFromName:function(){this.historyData=[];var t=this,e=[];this.data1.map((function(a){-1!=a.path.search(t.fromNameSearch.trim())&&e.push(a)})),this.historyData=e,this.ajaxHistoryData=e,this.dataCount=e.length,this.currentPage=1,this.updateChecked(),e.length<this.pageSize?this.historyData=this.ajaxHistoryData:this.historyData=this.ajaxHistoryData.slice(0,this.pageSize)},handleListApproveHistory:function(){this.ajaxHistoryData=this.data1,this.dataCount=this.data1.length,this.data1.length<this.pageSize?this.historyData=this.ajaxHistoryData:this.historyData=this.ajaxHistoryData.slice(0,this.pageSize)},handleListApproveHistory1:function(){this.ajaxHistoryData1=this.data8,this.dataCount1=this.data8.length,this.data8.length<this.pageSize?this.historyData1=this.ajaxHistoryData1:this.historyData1=this.ajaxHistoryData1.slice(0,this.pageSize)},changepage:function(t){this.currentPage=t;var e=(t-1)*this.pageSize,a=t*this.pageSize;this.historyData=this.ajaxHistoryData.slice(e,a),this.updateChecked()},changepagesize:function(t){this.currentPage=t,this.handleListApproveHistory()},changepage1:function(t){this.currentPage=t;var e=(t-1)*this.pageSize,a=t*this.pageSize;this.historyData1=this.ajaxHistoryData1.slice(e,a),this.updateChecked()},changepagesize1:function(t){this.currentPage=t,this.handleListApproveHistory1()},radiochange:function(){"触发器增量同步"==this.vertical?this.postmodal.form.maintask.synctype="1":"触发器单表同步"==this.vertical?this.postmodal.form.maintask.synctype="4":this.postmodal.form.maintask.synctype="2"},checkboxchange:function(){1==this.checkvalue1?this.postmodal.form.maintask.autorun=!0:this.postmodal.form.maintask.autorun=!1,1==this.checkvalue2?this.postmodal.form.maintask.enabledbpool=!0:this.postmodal.form.maintask.enabledbpool=!1},getDbList:function(){var t=this;this.$https.fetchGet(this.$api.getDbList.url).then((function(e){200==e.data.status?t.dbSoucreList=e.data:t.$Notice.error({title:"请求失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},getdDbinfoByName:function(t,e){if(this.selected=[],this.data3=[],this.tablename=t,this.selected=[],this.bool){var a=[];for(var i in this.updatesourceList.subtask){var s={tablename:"",sidentityarray:[],index:[],sort:"",identical:!0,swhere:"",swhereshow:!1,tsyncdsn:"",updatebreak:!1,sTriggerEventType:""};s.tsyncdsn=this.updatesourceList.subtask[i].tsyncdsn,s.tablename=this.updatesourceList.subtask[i].stablename,s.ttablename=this.updatesourceList.subtask[i].ttablename,s.index=this.updatesourceList.subtask[i].index,s.sort=this.updatesourceList.subtask[i].sort.split("|"),s.identical=this.updatesourceList.subtask[i].identical,s.swhere=this.updatesourceList.subtask[i].swhere,s.swhereshow=this.updatesourceList.subtask[i].swhereshow,s.updatebreak=this.updatesourceList.subtask[i].updatebreak,s.sTriggerEventType=this.updatesourceList.subtask[i].striggerEventType,s.sort.pop(),a.push(s)}this.chuan=a}for(var o in this.datalist)if(this.datalist[o].sourcename==this.tablename){if(this.bool)for(var r in this.datalist[o].tables.table)for(var n in this.chuan)if(this.datalist[o].tables.table[r].tablename==this.chuan[n].tablename){for(var l in this.datalist[o].tables.table[r].columns)this.datalist[o].tables.table[r].columns[l]._checked=!1,this.datalist[o].tables.table[r].columns[l].sort=this.chuan[n].sort[l],this.chuan[n].identical||(this.datalist[o].tables.table[r].columns[l].identical=this.chuan[n].identical,this.datalist[o].tables.table[r].columns[l].ttablename=this.chuan[n].ttablename,this.datalist[o].tables.table[r].columns[l].tsyncdsn=this.chuan[n].tsyncdsn),this.chuan[n].swhereshow&&""!=this.chuan[n].swhere&&(this.datalist[o].tables.table[r].columns[l].swhereshow=this.chuan[n].swhereshow,this.datalist[o].tables.table[r].columns[l].swhere=this.chuan[n].swhere),this.datalist[o].tables.table[r].columns[l].updatebreak=this.chuan[n].updatebreak,this.datalist[o].tables.table[r].columns[l].sTriggerEventType=this.chuan[n].sTriggerEventType;for(var c in this.datalist[o].tables.table[r].columns)for(var d in this.chuan[n].index)this.chuan[n].index[d]==this.datalist[o].tables.table[r].columns[c].index&&(this.datalist[o].tables.table[r].columns[c]._checked=!0)}this.sourceList=this.datalist[o]}var m=[],p={_checedked:!1,selectStuas:!1,path:"",table:"",state:"true"};if(this.bool){for(var u=0;u<this.updatesourceList.subtask.length;u++)(p={_checedked:!1,selectStuas:!1,path:"",table:"",state:"true"}).path=this.updatesourceList.subtask[u].stablename,p.table=p.path,this.selected.push(p);this.updatesourceList.subtask=[]}for(var h=0;h<this.sourceList.tables.table.length;h++)(p={_checedked:!1,selectStuas:!1,path:"",table:"",state:"false",length:""}).length=this.sourceList.tables.table[h].columns.length,p.path=this.sourceList.tables.table[h].tablename,p.table=p.path,m.push(p);this.data1=m,this.historyData=m,this.handleListApproveHistory()},selectionchange:function(){},zonglan:function(){var t;this.data5=[],this.data6=[],this.data8=[],this.postmodal.form.taskId=this.$route.query.id,this.postmodal.form.subtask=this.data3,t="触发器增量同步"==this.vertical?"触发器增量同步":"触发器单表同步"==this.vertical?"触发器单表同步":"普通全表";var e={taskId:this.postmodal.form.taskId,servicename:this.postmodal.form.maintask.servicename,oid:this.postmodal.form.maintask.oid,taskdescribe:""==this.postmodal.form.maintask.taskdescribe?"无":this.postmodal.form.maintask.taskdescribe,synctype:t,enabledbpool:this.checkvalue2?"是":"否",autorun:this.checkvalue1?"是":"否",cronexpression:this.timespan};this.data5.push(e);var a={taskId:this.postmodal.form.taskId,ip:this.selectsourcedata.dbip,port:this.selectsourcedata.dbport,db:this.tablename,dbtype:this.selectsourcedata.dbtype,initusername:this.selectsourcedata.initusername,username:this.selectsourcedata.username};this.data6.push(a)},addForm:function(){for(var t=this,e=this.data3,a=[],i=0;i<e.length;i++)a=a.concat(e[i]);this.data3=a,this.postmodal.form.taskId=this.$route.query.id;var s="*/"+this.timespan+" * * * * ?";for(var o in this.postmodal.form.maintask.cronexpression=s,this.postmodal.form.subtask=this.data3,this.postmodal.form.maintask.channel_transmission_mode="highSpeed",this.postmodal.form.subtask)if(this.postmodal.form.subtask[o].identical)this.postmodal.form.subtask[o].tcolumnnamestring=this.postmodal.form.subtask[o].oldscolumnnamestring,this.postmodal.form.subtask[o].tdatatypestring=this.postmodal.form.subtask[o].oldsdatatypestring,this.postmodal.form.subtask[o].scolumnnamestring=this.postmodal.form.subtask[o].oldscolumnnamestring,this.postmodal.form.subtask[o].sdatatypestring=this.postmodal.form.subtask[o].oldsdatatypestring;else{var r=this.postmodal.form.subtask[o].sort.split("|");r.pop();var n=this.postmodal.form.subtask[o].tcolumnnamestring.split("|"),l=this.postmodal.form.subtask[o].tdatatypestring.split("|"),c=[],d=[];for(var m in r)""!=r[m]&&(c[r[m]-1]=n[m],d[r[m]-1]=l[m]);n=c.filter((function(t){return!!t})),l=d.filter((function(t){return!!t})),this.postmodal.form.subtask[o].tcolumnnamestring=n.join("|"),this.postmodal.form.subtask[o].tdatatypestring=l.join("|"),this.postmodal.form.subtask[o].scolumnnamestring=this.postmodal.form.subtask[o].tcolumnnamestring,this.postmodal.form.subtask[o].sdatatypestring=this.postmodal.form.subtask[o].tdatatypestring}this.$https.fetchPost(this.$api.data.submitmission.url,this.postmodal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"添加成功",desc:"添加成功",duration:2.5}),t.$router.push("/data/test2")):t.$Notice.error({title:"添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},updateForm:function(){for(var t=this,e=this.data3,a=[],i=0;i<e.length;i++)a=a.concat(e[i]);this.data3=a,this.postmodal.form.taskId=this.$route.query.id,this.postmodal.form.id=this.$route.query.taskId;var s="*/"+this.timespan+" * * * * ?";for(var o in this.postmodal.form.maintask.cronexpression=s,this.postmodal.form.subtask=this.data3,this.postmodal.form.maintask.autorun=this.checkvalue1,this.postmodal.form.maintask.enabledbpool=this.checkvalue2,this.postmodal.form.maintask.channel_transmission_mode="highSpeed",this.postmodal.form.maintask.synctype=this.postmodal.form.maintask.synctype.toString(),this.postmodal.form.subtask)if(this.postmodal.form.subtask[o].identical)this.postmodal.form.subtask[o].tcolumnnamestring=this.postmodal.form.subtask[o].oldscolumnnamestring,this.postmodal.form.subtask[o].tdatatypestring=this.postmodal.form.subtask[o].oldsdatatypestring,this.postmodal.form.subtask[o].scolumnnamestring=this.postmodal.form.subtask[o].oldscolumnnamestring,this.postmodal.form.subtask[o].sdatatypestring=this.postmodal.form.subtask[o].oldsdatatypestring;else{var r=this.postmodal.form.subtask[o].sort.split("|");r.pop();var n=this.postmodal.form.subtask[o].tcolumnnamestring.split("|"),l=this.postmodal.form.subtask[o].tdatatypestring.split("|"),c=[],d=[];for(var m in r)""!=r[m]&&(c[r[m]-1]=n[m],d[r[m]-1]=l[m]);n=c.filter((function(t){return!!t})),l=d.filter((function(t){return!!t})),this.postmodal.form.subtask[o].tcolumnnamestring=n.join("|"),this.postmodal.form.subtask[o].tdatatypestring=l.join("|"),this.postmodal.form.subtask[o].scolumnnamestring=this.postmodal.form.subtask[o].tcolumnnamestring,this.postmodal.form.subtask[o].sdatatypestring=this.postmodal.form.subtask[o].tdatatypestring}this.$https.fetchPost(this.$api.data.updateDbmission.url,this.postmodal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",desc:"修改成功",duration:2.5}),t.$router.push("/data/test2")):t.$Notice.error({title:"修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},concatArr:function(t){this.data3.push(t)},getInfo:function(){var t=this;this.$https.fetchGet(this.$api.data.findDsnInfo.url).then((function(e){t.sourcedata=e.data.data}))},updateChecked:function(){for(var t=0;t<this.historyData.length;t++){this.historyData[t]._checedked=!1,this.historyData[t]._checked=!1;for(var e=0;e<this.selected.length;e++)this.selected[e].path===this.historyData[t].path&&(this.historyData[t]._checedked=!0,this.historyData[t]._checked=!0)}},handleCancel:function(t,e){this._.remove(this.selected,(function(t){return t.path===e.path}))},handleSelect:function(t,e){this.selected.push(e)},handleCancel2:function(t,e){},handleSelect2:function(t,e){},handleSelectAll:function(t){this.selected=this._.uniqBy(this.selected.concat(t),"path")},handleCancelSelectAll:function(t){this.selected=this._.differenceBy(this.selected,this.historyData,"path")},handleSelectAll1:function(t){for(var e in this.selected=[],this.data1)this.data1[e]._checked=!0,this.selected.push(this.data1[e]);this.updateChecked()},handleCancelSelectAll1:function(t){for(var e in this.selected=[],this.data1)this.data1[e]._checked=!1;this.updateChecked()},Setdata8:function(){var t=this.postmodal.form.subtask,e={};this.data8=[];for(var a=0;a<t.length;a++){e={stablename:t[a].stablename,ttablename:t[a].ttablename,direction:"单向",idsdatatypestringlen:t[a].columnslength,idsdatatypestringlen1:t[a].columnslength,swhere:""==t[a].swhere?"无":t[a].swhere,identical:t[a].identical?"一致":"不一致"};var i=t[a].sort.split("|"),s=0;for(var o in i)""==i[o]||s++;e.idsdatatypestringlen1=s,this.data8.push(e)}this.handleListApproveHistory1()},Setdata3:function(){for(var t=this.sourceList,e=[],a=[],i=0;i<t.tables.table.length;i++)for(var s in this.selected)this.sourceList.tables.table[i].tablename==this.selected[s].table&&e.push(this.sourceList.tables.table[i].columns);for(var o={},r=0;r<e.length;r++){this.bool5=!0,(o={tasktype:"single",taskcreateddirection:"N2NT",scolumnnamestring:"",sdatatypestring:"",sidentityarray:"",ttablename:"",stablename:"",ssyncdsn:"",tcolumnnamestring:"",tdatatypestring:"",tidentityarray:"",tsyncdsn:"",columnslength:"",keys:"",_checked:!1,sort:"",index:[],swhere:"",identical:!0,swhereshow:!1,oldscolumnnamestring:"",oldsdatatypestring:"",updatebreak:!1,sTriggerEventType:""}).stablename=e[r][0].stablename,o.ttablename=e[r][0].ttablename,o.ssyncdsn=e[r][0].ssyncdsn,o.tsyncdsn=e[r][0].tsyncdsn,o.sidentityarray=e[r][0].sidentityarray,o.tidentityarray=e[r][0].tidentityarray,o.updatebreak=e[r][0].updatebreak,o.sTriggerEventType=e[r][0].sTriggerEventType,o.columnslength=e[r].length,a=e[r];for(var n=0;n<e[r].length;n++)o._checked=a[n]._checked,1==o._checked&&o.index.push(a[n].index),o.oldscolumnnamestring=o.oldscolumnnamestring+"|"+a[n].oldscolumnnamestring,o.oldsdatatypestring=o.oldsdatatypestring+"|"+a[n].oldsdatatypestring,o.scolumnnamestring=o.scolumnnamestring+"|"+a[n].scolumnnamestring,o.sdatatypestring=o.sdatatypestring+"|"+a[n].sdatatypestring,o.tcolumnnamestring=o.tcolumnnamestring+"|"+a[n].tcolumnnamestring,o.tdatatypestring=o.tdatatypestring+"|"+a[n].tdatatypestring,o.sort=o.sort+"|"+a[n].sort,1==a[n]._checked&&(this.bool5&&(o.sidentityarray="",o.tidentityarray="",this.bool5=!1),o.sidentityarray=o.sidentityarray+"|"+a[n].scolumnnamestring,o.tidentityarray=o.tidentityarray+"|"+a[n].tcolumnnamestring),o.identical=e[r][n].identical,o.swhere=e[r][n].swhere,o.swhereshow=e[r][n].swhereshow;o.oldscolumnnamestring=o.oldscolumnnamestring.substr(1),o.oldsdatatypestring=o.oldsdatatypestring.substr(1),o.scolumnnamestring=o.scolumnnamestring.substr(1),o.sdatatypestring=o.sdatatypestring.substr(1),o.tcolumnnamestring=o.tcolumnnamestring.substr(1),o.tdatatypestring=o.tdatatypestring.substr(1),"|"==o.sidentityarray.charAt(0)&&(o.sidentityarray=o.sidentityarray.substr(1)),"|"==o.tidentityarray.charAt(0)&&(o.tidentityarray=o.tidentityarray.substr(1)),"|"==o.sort.charAt(0)&&(o.sort=o.sort.substr(1)),o.sort=o.sort+"|",this.data3.push(o),this.data4=this.data3}},cancel:function(){this.modal.show=!1},isRepeat:function(t){var e={};for(var a in t)if(""==t[a].sort);else{if(e[t[a].sort])return!0;e[t[a].sort]=!0}return!1},updatecolumn:function(){var t=0;for(var e in this.data2)this.data2[e]._checked&&t++;if(0!=t){var a=!0;for(var i in this.data2)this.$util.queryNum(this.data2[i].sort)||(a=""!=this.data2[i].sort1);if(a)if(this.isRepeat(this.data2))this.$Modal.warning({title:"字段修改失败",content:"同步顺序不能重复"});else{for(var s in this.data2){this.data2[s]._checked?(this.data2[s].key1=!0,this.sourceList.tables.table[this.updateindex1].columns[s]._checked=!0,this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s]._checked=!0,this.sourceList.tables.table[this.updateindex1].columns[s].key1="true",this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].key1="true",this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].sort=this.data2[s].sort):(this.data2[s].key1=!1,this.sourceList.tables.table[this.updateindex1].columns[s]._checked=!1,this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s]._checked=!1,this.sourceList.tables.table[this.updateindex1].columns[s].key1="false",this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].key1="false",this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].sort=this.data2[s].sort),this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].ttablename=this.NewFromname,this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].identical=this.data2action,this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].swhere=this.NewWhere,this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].swhereshow=this.data2where,this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].updatebreak=this.data2updatebreak;var o="";this.data2insert&&(o+="INSERT|"),this.data2update&&(o+="UPDATE|"),this.data2delete&&(o+="DELETE|"),this.datalist[this.updateindex].tables.table[this.updateindex1].columns[s].sTriggerEventType=o}this.modal.show=!1}else this.$Modal.warning({title:"字段修改失败",content:"同步顺序必须为正整数"})}else this.$Modal.warning({title:"字段修改失败",content:"标识列不能为空"})},getSourcedata:function(t){for(var e in this.sourcedata)this.sourcedata[e].sourcealias==t&&(this.selectsourcedata=[],this.selectsourcedata=this.sourcedata[e])},getTableList:function(t){var e=this;this.$https.fetchGet(this.$api.data.getTableList.url).then((function(a){if(200==a.status){for(var i in e.datalist=a.data.data,e.datalist)for(var s in e.datalist[i].tables.table)for(var o in e.datalist[i].tables.table[s].fieldinfo=e.datalist[i].tables.table[s].fieldinfo.split("*#"),e.datalist[i].tables.table[s].fieldinfo,e.$set(e.datalist[i].tables.table[s],"columns",[]),e.datalist[i].tables.table[s].fieldinfo){e.datalist[i].tables.table[s].fieldinfo[o]=e.datalist[i].tables.table[s].fieldinfo[o].split("|");var r=e.datalist[i].tables.table[s].fieldinfo[o],n={tasktype:"single",_checked:!1,taskcreateddirection:"N2NT",scolumnnamestring:r[0],sdatatypestring:r[1],key:r[5],key1:r[5],sidentityarray:"",ttablename:"",stablename:"",ssyncdsn:"",tcolumnnamestring:"",tdatatypestring:"",tidentityarray:"",tsyncdsn:"",index:0,sort:0,identical:!0,swhere:"",swhereshow:!1,oldscolumnnamestring:"",oldsdatatypestring:"",updatebreak:!1,sTriggerEventType:"INSERT|UPDATE|DELETE"};"true"==n.key&&(n.sidentityarray=r[0],n.tidentityarray=r[0]),n.tcolumnnamestring=r[0],n.tdatatypestring=n.sdatatypestring,n.oldscolumnnamestring=r[0],n.oldsdatatypestring=n.sdatatypestring,n.stablename=e.datalist[i].tables.table[s].tablename,n.ttablename=e.datalist[i].tables.table[s].tablename,n.ssyncdsn=e.datalist[i].sourcename,n.tsyncdsn=e.datalist[i].sourcename,n.index=o,n.sort=Number(o)+1,e.datalist[i].tables.table[s].columns.push(n)}e.bool&&e.getdDbinfoByName(t)}else e.$Notice.error({title:"获取失败",desc:"错误:"+a.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败,请刷新页面",desc:t,duration:2.5})}))},getdbSoucreList:function(){var t=this;this.$https.fetchGet(this.$api.data.getDbList.url).then((function(e){t.dbSoucreList=e.data.data}))}},created:function(){var t=this;if(this.handleListApproveHistory(),this.getInfo(),this.getdbSoucreList(),null==this.$route.query.taskId)this.getTableList();else{var e={id:this.$route.query.taskId,taskId:this.$route.query.id};this.bool=!0,this.$https.fetchGet(this.$api.data.getUpdateList.url,e).then((function(e){if(200==e.data.status){var a,i=e.data.data;t.updatesourceList=i,t.getTableList(t.$route.query.ssyncdsn),t.step1ID=i.maintask.oid,t.step1name=i.maintask.servicename,t.postmodal.form.id=t.$route.query.id,t.postmodal.form.maintask.taskdescribe=i.maintask.taskdescribe,t.postmodal.form.maintask.synctype=i.maintask.synctype,"1"==t.postmodal.form.maintask.synctype?t.vertical="触发器增量同步":"4"==t.postmodal.form.maintask.synctype?t.vertical="触发器单表同步":t.vertical="普通全表",t.postmodal.form.maintask.autorun=i.maintask.autorun,t.postmodal.form.maintask.enabledbpool=i.maintask.enabledbpool,t.timespan=parseInt(i.maintask.cronexpression.substr(2,2)),t.sourceListtablename=i.subtask[0].ssyncdsn,"true"==i.maintask.autorun||1==i.maintask.autorun?t.checkvalue1=!0:t.checkvalue1=!1,"true"==i.maintask.enabledbpool||1==i.maintask.enabledbpool?t.checkvalue2=!0:t.checkvalue2=!1,a=i.subtask;var s={};for(var o in a){var r=a[o];s[r.stablename]?s[r.stablename].push(r):s[r.stablename]=[r]}for(var n in t.model1=a[0].ssyncdsn,i.subtask)for(var l in t.data1)i.subtask[n].stablename===t.data1[l].path&&t.selected.push(t.data1[l])}})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}},mounted:function(){}}),o=(a("9646"),a("2c07")),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1),a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #bcbcbc",padding:"1em 1.4em"}},[a("Steps",{staticStyle:{margin:"0 0 30px 80px"},attrs:{size:"small",current:t.current}},[a("Step",{attrs:{title:"服务定义"}}),a("Step",{attrs:{title:"服务属性配置"}}),a("Step",{attrs:{title:"业务表管理"}}),a("Step",{attrs:{title:"执行计划"}}),a("Step",{attrs:{title:"总览"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show0,expression:"show0"}],staticStyle:{margin:"20px 0 0 30px"}},[t.bool?t._e():a("div",[a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("服务名称")]),a("Input",{staticStyle:{width:"200px","margin-left":"50px"},model:{value:t.step1name,callback:function(e){t.step1name=e},expression:"step1name"}}),a("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*(内外端需一致)")])],1),a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("服务ID")]),a("Input",{staticStyle:{width:"200px","margin-left":"62px"},model:{value:t.step1ID,callback:function(e){t.step1ID=e},expression:"step1ID"}}),a("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*(内外端需一致)")])],1),a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("描述")]),a("Input",{staticStyle:{width:"60%","margin-left":"75px"},model:{value:t.postmodal.form.maintask.taskdescribe,callback:function(e){t.$set(t.postmodal.form.maintask,"taskdescribe",e)},expression:"postmodal.form.maintask.taskdescribe"}})],1)]),t.bool?a("div",[a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("服务名称")]),a("Input",{staticStyle:{width:"200px","margin-left":"50px"},attrs:{disabled:""},model:{value:t.step1name,callback:function(e){t.step1name=e},expression:"step1name"}}),a("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*(内外端需一致)")])],1),a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("服务ID")]),a("Input",{staticStyle:{width:"200px","margin-left":"62px"},attrs:{disabled:""},model:{value:t.step1ID,callback:function(e){t.step1ID=e},expression:"step1ID"}}),a("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*(内外端需一致)")])],1),a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("描述")]),a("Input",{staticStyle:{width:"60%","margin-left":"75px"},model:{value:t.postmodal.form.maintask.taskdescribe,callback:function(e){t.$set(t.postmodal.form.maintask,"taskdescribe",e)},expression:"postmodal.form.maintask.taskdescribe"}})],1)]):t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show1,expression:"show1"}],staticStyle:{margin:"20px 0 0 30px"}},[a("div",{staticStyle:{height:"120px"}},[a("span",{staticStyle:{"font-size":"12px","margin-bottom":"20px"}},[t._v("同步方式")]),a("RadioGroup",{staticStyle:{"margin-left":"95px"},on:{"on-change":t.radiochange},model:{value:t.vertical,callback:function(e){t.vertical=e},expression:"vertical"}},[a("p",[a("Radio",{attrs:{label:"触发器增量同步"}})],1),a("p",{staticStyle:{"font-size":"12px"}},[t._v("备注:触发器方式是增量同步,为了达到同步效果需保证建立任务之前两边表数据已一致")]),a("p",[a("Radio",{attrs:{label:"触发器单表同步"}})],1),a("p",[a("Radio",{attrs:{label:"普通全表"}})],1)])],1),a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("启用连接池")]),a("checkbox",{staticStyle:{"margin-left":"83px"},on:{"on-change":t.checkboxchange},model:{value:t.checkvalue2,callback:function(e){t.checkvalue2=e},expression:"checkvalue2"}})],1),a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("随系统自启动")]),a("checkbox",{staticStyle:{"margin-left":"71px"},on:{"on-change":t.checkboxchange},model:{value:t.checkvalue1,callback:function(e){t.checkvalue1=e},expression:"checkvalue1"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show2,expression:"show2"}]},[a("div",{staticClass:"panel-select"},[a("span",{staticStyle:{"margin-left":"15px"}},[t._v("数据资源选择：")]),a("Select",{staticStyle:{width:"200px"},model:{value:t.model1,callback:function(e){t.model1=e},expression:"model1"}},t._l(t.dbSoucreList,(function(e,i){return a("Option",{key:i,attrs:{value:e},nativeOn:{click:function(a){return t.getdDbinfoByName(e,i)}}},[t._v(t._s(e))])})),1),a("span",{staticStyle:{"margin-left":"15px"}},[t._v("表名搜索：")]),a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"按回车搜索",search:!0,clearable:""},on:{"on-enter":t.checkFromName},model:{value:t.fromNameSearch,callback:function(e){t.fromNameSearch=e},expression:"fromNameSearch"}}),a("Button",{attrs:{type:"primary"},on:{click:t.checkFromName}},[t._v("搜索")])],1),a("Table",{ref:"selection",attrs:{size:"small","height:650px":"",border:"",columns:t.columns1,data:t.historyData},on:{"on-selection-change":function(e){return t.selectionchange()},"on-select-all-cancel":t.handleCancelSelectAll,"on-select-all":t.handleSelectAll,"on-select":t.handleSelect,"on-select-cancel":t.handleCancel},scopedSlots:t._u([{key:"state",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{margin:"auto"},attrs:{icon:t.data1[s].iconName,size:"small"},on:{click:function(e){return t.updateState(s)}}},[a("span",{style:{color:t.data1[s].color}},[t._v(t._s(i.state))])])]}},{key:"action",fn:function(e){var i=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{icon:"md-create",type:"primary",size:"small"},on:{click:function(e){return t.createData2(i)}}},[t._v("配置")])]}}])}),a("Button",{staticStyle:{"font-size":"12px",margin:"10px"},on:{click:t.handleSelectAll1}},[t._v("整个资源所有表全选")]),a("Button",{staticStyle:{"font-size":"12px",margin:"10px"},on:{click:t.handleCancelSelectAll1}},[t._v("取消全选")]),a("Page",{attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage,"on-page-size-change":t.changepagesize}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show3,expression:"show3"}],staticStyle:{margin:"20px 0 0 30px"}},[a("div",{staticStyle:{height:"120px"}},[a("span",{staticStyle:{"font-size":"12px","margin-bottom":"20px"}},[t._v("同步方式")]),a("RadioGroup",{staticStyle:{"margin-left":"95px"},model:{value:t.timePlan,callback:function(e){t.timePlan=e},expression:"timePlan"}},[a("div",{staticStyle:{height:"30px"}},[a("span",{on:{click:function(e){return t.checkOther(1)}}},[a("Radio",{attrs:{label:"时间间隔"}}),a("InputNumber",{staticStyle:{"margin-left":"15px"},attrs:{maxlength:"2",max:59,min:1},model:{value:t.timespan,callback:function(e){t.timespan=e},expression:"timespan"}})],1)])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.otherShow,expression:"otherShow"}],staticStyle:{border:"1px solid #666",height:"180px",width:"60%",position:"relative",margin:"20px 0 0 130px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"150px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("特殊执行周期设定")]),a("div",{staticStyle:{margin:"20px 0 0 50px"}},[a("div",{staticStyle:{height:"40px"}},[a("span",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("定时类型")]),a("Select",{staticStyle:{width:"80px","margin-left":"15px"},model:{value:t.cycleVal,callback:function(e){t.cycleVal=e},expression:"cycleVal"}},t._l(t.cycleList1,(function(e){return a("Option",{key:e.value,attrs:{value:e.value},nativeOn:{click:function(a){return t.configData(e.value)}}},[t._v(t._s(e.label))])})),1)],1)]),a("div",{staticStyle:{border:"1px solid #666",height:"60px",width:"80%",position:"relative",margin:"20px 0 0 40px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"30px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("天")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isDayShow,expression:"isDayShow"}],staticStyle:{"margin-top":"15px"}},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{placeholder:"Select time"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isWeeksShow,expression:"isWeeksShow"}],staticStyle:{"margin-top":"15px"}},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px","margin-right":"15px"},attrs:{placeholder:"Select time"}}),a("checkbox",[t._v("周一")]),a("Checkbox",[t._v("周二")]),a("Checkbox",[t._v("周三")]),a("Checkbox",[t._v("周四")]),a("Checkbox",[t._v("周五")]),a("Checkbox",[t._v("周六")]),a("Checkbox",[t._v("周日")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isMonthShow,expression:"isMonthShow"}],staticStyle:{"margin-top":"15px"}},[a("TimePicker",{staticStyle:{width:"200px","margin-left":"15px","margin-right":"15px"},attrs:{placeholder:"Select time"}}),a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"输入范围为1-31"}})],1)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show4,expression:"show4"}],staticStyle:{margin:"20px 0 0 30px"}},[a("Row",[a("Col",[a("div",{staticClass:"show5title"},[t._v("1.基本配置")]),a("Table",{attrs:{columns:t.columns5,border:"",data:t.data5}})],1)],1),a("Row",{attrs:{gutter:36}},[a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"show5title"},[t._v("2.源端数据库资源配置")]),a("Table",{attrs:{columns:t.columns6,border:"",data:t.data6}})],1)],1),a("Row",[a("Col",[a("div",{staticClass:"show5title"},[t._v("3.基本配置")]),a("Table",{attrs:{columns:t.columns8,border:"",data:t.historyData1}}),a("Page",{staticStyle:{"margin-top":"5px"},attrs:{current:t.currentPage1,total:t.dataCount1,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage1=e},"on-change":t.changepage1,"on-page-size-change":t.changepagesize1}})],1)],1),this.bool?a("div",[a("Button",{staticClass:"addfrombtn",staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(e){return t.updateForm()}}},[t._v("修改同步任务")])],1):a("div",[a("Button",{staticClass:"addfrombtn",staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(e){return t.addForm()}}},[t._v("提交同步任务")])],1)],1),a("Button",{staticStyle:{margin:"30px 10px 0 0"},attrs:{disabled:t.islast,type:"primary"},on:{click:t.last}},[t._v("上一步")]),a("Button",{staticStyle:{"margin-top":"30px"},attrs:{disabled:t.isnext,type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)])]),a("Modal",{attrs:{title:"字段配置",scrollable:!0,transfer:!0,width:"75%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Row",{attrs:{gutter:25}},[a("div",{staticClass:"max-height"},[a("div",{staticStyle:{margin:"0 10px 10px 10px"}},[t.bool?a("Button",{staticStyle:{float:"right","margin-bottom":"10px"},on:{click:t.deleteChildMission}},[t._v("删除子任务")]):t._e(),a("span",[a("Checkbox",{on:{"on-change":function(e){return t.checkdata2action()}},model:{value:t.data2action,callback:function(e){t.data2action=e},expression:"data2action"}},[t._v("表结构一致")])],1),t._e(),t.data2actionshow?t._e():a("span",{staticStyle:{margin:"0 15px"}},[t._v("内端表名: "),a("Input",{staticStyle:{width:"25%"},model:{value:t.NewFromname,callback:function(e){t.NewFromname=e},expression:"NewFromname"}})],1),a("span",{staticStyle:{"margin-left":"25px"}},[a("Checkbox",{on:{"on-change":function(e){return t.checkdata2where()}},model:{value:t.data2where,callback:function(e){t.data2where=e},expression:"data2where"}},[t._v("按条件更新")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.data2whereshow,expression:"data2whereshow"}],staticStyle:{"margin-left":"15px"}},[t._v("条件表达式: "),a("Input",{staticStyle:{width:"15%"},model:{value:t.NewWhere,callback:function(e){t.NewWhere=e},expression:"NewWhere"}})],1)],1),"普通全表"!=this.vertical?a("div",{staticStyle:{margin:"0 10px"}},[a("Checkbox",{staticStyle:{margin:"right:15px"},model:{value:t.data2updatebreak,callback:function(e){t.data2updatebreak=e},expression:"data2updatebreak"}},[t._v("分解update")]),t._v("\n                            \n                    "),a("span",{staticStyle:{"font-weight":"bold","margin-right":"10px"}},[t._v("源端监控类型")]),a("Checkbox",{model:{value:t.data2insert,callback:function(e){t.data2insert=e},expression:"data2insert"}},[t._v("插入")]),a("Checkbox",{model:{value:t.data2delete,callback:function(e){t.data2delete=e},expression:"data2delete"}},[t._v("删除")]),a("Checkbox",{model:{value:t.data2update,callback:function(e){t.data2update=e},expression:"data2update"}},[t._v("更新")])],1):t._e(),a("Table",{ref:"selection1",staticStyle:{width:"100%",top:"0px","overflow-y":"auto"},attrs:{scrollable:!0,fullscreen:!0,size:"small",border:"",columns:t.columns2,data:t.data2},on:{"on-select":t.handleSelect2,"on-select-cancel":t.handleCancel2},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[t.data2action?t._e():a("Input",{staticStyle:{width:"85%",margin:"0 auto"},attrs:{"on-change":t.sortchange(i,s)},model:{value:i.sort,callback:function(e){t.$set(i,"sort",e)},expression:"row.sort"}}),t.data2action?a("div",{staticStyle:{width:"85%",margin:"0 auto"},attrs:{value:i.sort}}):t._e()]}}])})],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(e){return t.cancel()}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.updatecolumn()}}},[t._v("确定")])],1)],1)],1)}),[],!1,null,"becb9e94",null);e.default=r.exports},baca:function(t,e,a){"use strict";a.r(e),a("9a33");var i=a("25b1"),s={inject:["reload"],name:"VirtualAdd",props:{IPlistdata:Array},components:{},data:function(){return{IpGroup:[{subnet:24}],platForm:{show:!1,form:{advert:1,id:"",priority:50,subVirtualIps:[{interfaces:"",interfaceses:"",machineIp:""}],virtualIps:[],vrid:"",vridPassword:""},rules:{ipaddress:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}],vrid:[{required:!0,message:"不能为空",trigger:"blur"}],vridPassword:[{required:!0,message:"不能为空",trigger:"blur"}]}},oneToTen:[1,2,3,4,5,6,7,8,9],testList:[],testList1:[]}},computed:{},methods:{showAddDrawer:function(){if(this.platForm.show=!0,this.IPlistdata.length>=2)for(var t=1;t<this.IPlistdata.length;t++)this.platForm.form.subVirtualIps.push({interfaces:"",interfaceses:"",machineIp:""});for(var e in this.IPlistdata)this.platForm.form.subVirtualIps[e].machineIp=this.IPlistdata[e]},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e){var a=[];for(var i in t.IpGroup){if(!t.$util.queryDevIP4(t.IpGroup[i].ipaddress)&&!t.$util.queryDevIP6(t.IpGroup[i].ipaddress))return void t.$Notice.error({title:"新增失败",desc:"虚拟IP组请填写正确的ipv4或ipv6",duration:5});a.push(t.IpGroup[i].ipaddress+"/"+t.IpGroup[i].subnet)}t.platForm.form.virtualIps=a;for(var s=JSON.parse(JSON.stringify(t.platForm.form)),o=1;o<s.subVirtualIps.length;o++)if(-1==s.subVirtualIps[o].interfaceses.indexOf(","))s.subVirtualIps[o].interfaceses=[s.subVirtualIps[o].interfaceses];else if(s.subVirtualIps[o].interfaceses=s.subVirtualIps[o].interfaceses.split(","),"string"==typeof s.subVirtualIps[o].interfaceses){var r=s.subVirtualIps[o].interfaceses;s.subVirtualIps[o].interfaceses=[],s.subVirtualIps[o].interfaceses.push(r)}t.$https.fetchPost(t.$api.avail.addVirtualIp.url,s).then((function(e){200==e.data.status?(t.$Notice.success({title:"添加成功",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}))},restPlatForm:function(){this.$refs.plat_form.resetFields(),this.IpGroup=[{}],this.platForm.form.interfaceses=[]},getUSBList:function(){var t=this;this.$https.fetchGet(this.$api.network.showEth.url,{name:"common"}).then((function(e){200==e.data.status?(t.testList=e.data.data,t.testList1=e.data.data):t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},copy:function(t){},addvarIP:function(){this.IpGroup.push({subnet:24})},delvarIP:function(t){this.IpGroup.length<=1||this.IpGroup.splice(t,1)}},mounted:function(){this.getUSBList()}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"新增虚拟IP组",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"虚拟IP地址组",prop:"virtualIps"}},[t._l(t.IpGroup,(function(e,i){return a("div",{key:i},[a("Input",{staticStyle:{width:"31%"},model:{value:t.IpGroup[i].ipaddress,callback:function(e){t.$set(t.IpGroup[i],"ipaddress",e)},expression:"IpGroup[i].ipaddress"}}),t._v("  /  \n                    "),a("Select",{staticStyle:{width:"20%"},model:{value:t.IpGroup[i].subnet,callback:function(e){t.$set(t.IpGroup[i],"subnet",e)},expression:"IpGroup[i].subnet"}},t._l(32,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),a("i-button",{staticStyle:{margin:"0 10px"},attrs:{size:"small"},on:{click:function(e){return t.delvarIP(i)}}},[t._v("删除")])],1)})),a("i-button",{attrs:{size:"small",icon:"md-add"},on:{click:t.addvarIP}},[t._v("添加")])],2),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"VHID组ID",prop:"vrid"}},[a("Input",{model:{value:t.platForm.form.vrid,callback:function(e){t.$set(t.platForm.form,"vrid",e)},expression:"platForm.form.vrid"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"VHID组密码",prop:"vridPassword"}},[a("Input",{model:{value:t.platForm.form.vridPassword,callback:function(e){t.$set(t.platForm.form,"vridPassword",e)},expression:"platForm.form.vridPassword"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"心跳间隔(秒)",prop:"advert"}},[a("Select",{staticStyle:{width:"100%"},model:{value:t.platForm.form.advert,callback:function(e){t.$set(t.platForm.form,"advert",e)},expression:"platForm.form.advert"}},t._l(t.oneToTen,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._l(t.IPlistdata,(function(e,i){return a("div",{key:i},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:e,prop:"interfaces"}},[a("div",[a("span",{staticStyle:{width:"5%","font-weight":"bold",color:"#515a6e","margin-right":"33px"}},[t._v(t._s(0==i?"主机":"备机")+"网口")]),0==i?a("Select",{staticStyle:{width:"86%"},model:{value:t.platForm.form.subVirtualIps[i].interfaces,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaces",e)},expression:"platForm.form.subVirtualIps[index].interfaces"}},t._l(t.testList,(function(e){return a("Option",{key:e,attrs:{value:e},nativeOn:{click:function(a){return t.copy(e)}}},[t._v(t._s(e))])})),1):t._e(),0!=i?a("Input",{staticStyle:{width:"86%"},model:{value:t.platForm.form.subVirtualIps[i].interfaces,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaces",e)},expression:"platForm.form.subVirtualIps[index].interfaces"}}):t._e()],1),a("div",[a("span",{staticStyle:{width:"5%","font-weight":"bold",color:"#515a6e","margin-right":"10px"}},[t._v(t._s(0==i?"主机":"备机")+"关联网口")]),0==i?a("Select",{staticStyle:{width:"86%"},attrs:{multiple:""},model:{value:t.platForm.form.subVirtualIps[i].interfaceses,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaceses",e)},expression:"platForm.form.subVirtualIps[index].interfaceses"}},t._l(t.testList1,(function(e){return a("Option",{key:e,attrs:{value:e},nativeOn:{click:function(a){return t.copy(e)}}},[t._v(t._s(e))])})),1):t._e(),0!=i?a("Input",{staticStyle:{width:"86%"},model:{value:t.platForm.form.subVirtualIps[i].interfaceses,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaceses",e)},expression:"platForm.form.subVirtualIps[index].interfaceses"}}):t._e(),0!=i?a("span",{staticStyle:{color:"red","font-size":"12px"}},[t._v("注:多个关联网口用逗号隔开")]):t._e()],1)])],1)})),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],2)],1)],1)}),[],!1,null,"db3dd490",null).exports,n={inject:["reload"],name:"Virtual",components:{jk_tabs:i.a,virtualAdd:r},data:function(){var t=this;return{oneToTen:[1,2,3,4,5,6,7,8,9],host:!1,data1:[],data3:[],columns1:[{title:"序号",key:"id",align:"center",width:65,render:function(t,e){return t("span",e.index+1)}},{title:"虚拟IP列表",align:"center",key:"virtualIps",width:150,render:function(e,a){return e("div",{attrs:{class:"subCol"}},[e("ul",t.data1[a.index].virtualIps.map((function(t){return e("li",{},t)})))])}},{title:"网口",align:"center",slot:"interfaces"},{title:"关联网口",align:"center",slot:"interfaceses"},{title:"虚拟IP组ID",align:"center",key:"vrid",width:100},{title:"虚拟IP组密码",align:"center",key:"vridPassword",width:100},{title:"心跳间隔(秒)",align:"center",key:"advert",width:100},{title:"操作",slot:"action",align:"center",key:"",width:130}],links:[{name:"虚拟IP",to:"/availability/virtual"}],IpGroup:[{}],platForm:{show:!1,form:{advert:1,id:"",priority:50,subVirtualIps:[{interfaces:"",interfaceses:[],machineIp:""}],virtualIps:[],vrid:"",vridPassword:""},rules:{ipaddress:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}],vridPassword:[{required:!0,message:"不能为空",trigger:"blur"}]}},testList:[],testList1:[],dataCount:0,currentPage:1,pageSize:5,IPlist:[]}},mounted:function(){this.getviplist(),this.getUSBList(),this.isHost()},methods:{getAllMachineIp:function(){var t=this;this.$https.fetchGet(this.$api.avail.getAllMachineIp.url).then((function(e){200==e.data.status?t.IPlist=e.data.data:t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},isHost:function(){var t=this;this.$https.fetchGet(this.$api.avail.isHost.url).then((function(e){200==e.data.status?(t.host=e.data.data,t.host&&t.getAllMachineIp()):t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},changepage:function(t){this.currentPage=t;var e=(t-1)*this.pageSize,a=t*this.pageSize;this.data3=this.data1.slice(e,a)},getviplist:function(){var t=this;this.$https.fetchGet(this.$api.avail.getVirtualIps.url).then((function(e){if(200==e.data.status){for(var a in t.data1=e.data.data,t.data1)for(var i=1;i<t.data1[a].subVirtualIps.length;i++)t.data1[a].subVirtualIps[i].interfaceses.join(",");t.dataCount=t.data1.length,t.data3=Object.assign(t.data1,t.data3)}else t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},getUSBList:function(){var t=this;this.$https.fetchGet(this.$api.network.showEth.url,{name:"common"}).then((function(e){200==e.data.status?(t.testList=e.data.data,t.testList1=e.data.data):t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},copy:function(t){for(var e in this.platForm.form.interfaceses)if(this.platForm.form.interfaceses[e]==t)return;this.platForm.form.interfaceses.push(t)},addvarIP:function(){this.IpGroup.push({subnet:24,ipaddress:""})},delvarIP:function(t){this.IpGroup.length<=1||this.IpGroup.splice(t,1)},updateVIP:function(t){this.platForm.show=!0,this.platForm.form=this.data1[t];var e=[],a=[];for(var i in this.platForm.form.virtualIps){e=this.platForm.form.virtualIps[i].split("/");var s={ipaddress:"",subnet:""};s.ipaddress=e[0],s.subnet=parseInt(e[1]),a.push(s)}this.IpGroup=a},restPlatForm:function(){this.$refs.plat_form.resetFields(),this.IpGroup=[{}],this.platForm.form.interfaceses=[]},editPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e){var a=[];for(var i in t.IpGroup){if(!t.$util.queryDevIP4(t.IpGroup[i].ipaddress)&&!t.$util.queryDevIP6(t.IpGroup[i].ipaddress))return void t.$Notice.error({title:"新增失败",desc:"虚拟IP组请填写正确的ipv4或ipv6",duration:5});a.push(t.IpGroup[i].ipaddress+"/"+t.IpGroup[i].subnet)}t.platForm.form.virtualIps=a;for(var s=JSON.parse(JSON.stringify(t.platForm.form)),o=1;o<s.subVirtualIps.length;o++)if(Array.isArray(s.subVirtualIps[o].interfaceses));else if(-1==s.subVirtualIps[o].interfaceses.indexOf(","))s.subVirtualIps[o].interfaceses=[s.subVirtualIps[o].interfaceses];else if(s.subVirtualIps[o].interfaceses=s.subVirtualIps[o].interfaceses.split(","),"string"==typeof s.subVirtualIps[o].interfaceses){var r=s.subVirtualIps[o].interfaceses;s.subVirtualIps[o].interfaceses=[],s.subVirtualIps[o].interfaceses.push(r)}t.$https.fetchPost(t.$api.avail.editVirtualIps.url,s).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"获取数据失败",desc:"错误代码："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}))},deleteVIP:function(t,e){var a=this,i={id:t};this.$Modal.confirm({title:"删除虚拟ip组",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchPost(a.$api.avail.delVirtualIp.url,i).then((function(t){200==t.data.status?(a.$Notice.success({title:"删除成功",duration:2.5}),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})}}},l=(a("cf1e"),Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("virtualAdd",{staticStyle:{float:"right"},attrs:{IPlistdata:t.IPlist}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data3},scopedSlots:t._u([{key:"interfaces",fn:function(e){var i=e.row;return e.index,[a("div",{staticClass:"subCol"},t._l(i.subVirtualIps,(function(e,i){return a("ul",[a("li",[t._v(t._s(e.machineIp)+" : "+t._s(e.interfaces)+t._s(0==i?"(主机)":""))])])})),0)]}},{key:"interfaceses",fn:function(e){var i=e.row;return e.index,[a("div",{staticClass:"subCol"},t._l(i.subVirtualIps,(function(e,i){return a("ul",[a("li",[t._v(t._s(e.machineIp)+" : "+t._s(e.interfaceses)+t._s(0==i?"(主机)":""))])])})),0)]}},{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateVIP(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteVIP(i.id,s)}}},[t._v("删除")])]}}])}),a("Page",{staticStyle:{"margin-top":"10px"},attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)]),a("Drawer",{attrs:{title:"修改虚拟IP",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"虚拟IP地址组",prop:"virtualIps"}},[t._l(t.IpGroup,(function(e,i){return a("div",{key:i},[a("Input",{staticStyle:{width:"31%"},model:{value:t.IpGroup[i].ipaddress,callback:function(e){t.$set(t.IpGroup[i],"ipaddress",e)},expression:"IpGroup[i].ipaddress"}}),t._v("  /  \n                    "),a("Select",{staticStyle:{width:"20%"},model:{value:t.IpGroup[i].subnet,callback:function(e){t.$set(t.IpGroup[i],"subnet",e)},expression:"IpGroup[i].subnet"}},t._l(32,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),a("i-button",{staticStyle:{margin:"0 10px"},attrs:{size:"small"},on:{click:function(e){return t.delvarIP(i)}}},[t._v("删除")])],1)})),a("i-button",{attrs:{size:"small",icon:"md-add"},on:{click:t.addvarIP}},[t._v("添加")])],2),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"VHID组ID",prop:"vrid"}},[a("Input",{model:{value:t.platForm.form.vrid,callback:function(e){t.$set(t.platForm.form,"vrid",e)},expression:"platForm.form.vrid"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"VHID组密码",prop:"vridPassword"}},[a("Input",{model:{value:t.platForm.form.vridPassword,callback:function(e){t.$set(t.platForm.form,"vridPassword",e)},expression:"platForm.form.vridPassword"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"心跳间隔(秒)",prop:"advert"}},[a("Select",{staticStyle:{width:"100%"},model:{value:t.platForm.form.advert,callback:function(e){t.$set(t.platForm.form,"advert",e)},expression:"platForm.form.advert"}},t._l(t.oneToTen,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._l(t.platForm.form.subVirtualIps,(function(e,i){return a("div",{key:i},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:e.machineIp,prop:"interfaces"}},[a("div",[a("span",{staticStyle:{width:"5%","font-weight":"bold",color:"#515a6e","margin-right":"33px"}},[t._v(t._s(0==i?"主机":"备机")+"网口")]),0==i?a("Select",{staticStyle:{width:"86%"},model:{value:t.platForm.form.subVirtualIps[i].interfaces,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaces",e)},expression:"platForm.form.subVirtualIps[index].interfaces"}},t._l(t.testList,(function(e){return a("Option",{key:e,attrs:{value:e},nativeOn:{click:function(a){return t.copy(e)}}},[t._v(t._s(e))])})),1):t._e(),0!=i?a("Input",{staticStyle:{width:"86%"},model:{value:t.platForm.form.subVirtualIps[i].interfaces,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaces",e)},expression:"platForm.form.subVirtualIps[index].interfaces"}}):t._e()],1),a("div",[a("span",{staticStyle:{width:"5%","font-weight":"bold",color:"#515a6e","margin-right":"10px"}},[t._v(t._s(0==i?"主机":"备机")+"关联网口")]),0==i?a("Select",{staticStyle:{width:"86%"},attrs:{multiple:""},model:{value:t.platForm.form.subVirtualIps[i].interfaceses,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaceses",e)},expression:"platForm.form.subVirtualIps[index].interfaceses"}},t._l(t.testList1,(function(e){return a("Option",{key:e,attrs:{value:e},nativeOn:{click:function(a){return t.copy(e)}}},[t._v(t._s(e))])})),1):t._e(),0!=i?a("Input",{staticStyle:{width:"86%"},model:{value:t.platForm.form.subVirtualIps[i].interfaceses,callback:function(e){t.$set(t.platForm.form.subVirtualIps[i],"interfaceses",e)},expression:"platForm.form.subVirtualIps[index].interfaceses"}}):t._e(),0!=i?a("span",{staticStyle:{color:"red","font-size":"12px"}},[t._v("注:多个关联网口用逗号隔开")]):t._e()],1)])],1)})),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.editPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],2)],1)],1)}),[],!1,null,null,null));e.default=l.exports},bdc2:function(t,e,a){},bdd1:function(t,e,a){"use strict";a("163d"),a("f548");var i={inject:["reload"],components:{},data:function(){var t=this;return{detailSpanShow:!1,platForm:{show:!1,form:{filter:!1,channel_transmission_mode:"",tools:"5",runstate:"stop",out_task_id:"",servicename:"",type:"localftp",username:"",password:"",ipaddress:"",remoteport:"",path:"",level:"1",iocharset:"UTF-8",operation:"del",time_interval:3,taskId:"",workGroup:"",smbVersion:"v2.0",sftpKey:"v2.0",syntime:"",keyword_type:"blacklist",filter_picture_keyword:"",idbiz1:!1,idbiz2:!1,idbiz3:!1,idbiz4:!1,idbiz5:!1,idbiz6:!1,settimesyn:!1,filter_min_size:"",filter_max_size:"",filter_min_size_unit:"1",filter_max_size_unit:"1",suffix_type:"blacklist",filter_keyword:"",copy_move:"0",filter_after_opt_path:"/home/invalid",filter_filename:"",filename_type:"blacklist",filter_suffix:"",virus_opt:"",filter_feature:"",feature_type:"blacklist",filter_after_opt:"0",file_root:"/",is_psvn:"0",data_timeout:1,connection_timeout:30,filter_size:"",filter_size_type:"blacklist",is_put_in_storage:"1",ftp_sync_mode:"",imgsync_enable:"no",direction:"nt2t"},rules:{out_task_id:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,message:"只能填写为数字",trigger:"blur",pattern:/^[0-9]*$/}],servicename:[{required:!0,message:"不能为空",trigger:"blur"}],username:[{validator:function(e,a,i){1==t.ftpType&&""==a?i(new Error("不能为空")):i()}}],password:[{validator:function(e,a,i){1==t.ftpType&&""==a?i(new Error("不能为空")):i()}}],ipaddress:[{validator:function(e,a,i){1==t.ftpType?""==a?i(new Error("不能为空")):t.$util.queryDevIP4(a)||t.$util.queryDevIP6(a)?i():i(new Error("ip地址格式不正确")):i()}}],remoteport:[{validator:function(e,a,i){1==t.ftpType?""==a?i(new Error("不能为空")):t.$util.testportnumber(a)?i():i(new Error("端口格式不正确")):i()}}],file_root:[{validator:function(e,a,i){1==t.ftpType&&""==a?i(new Error("不能为空")):i()}}],tools:[{validator:function(e,a,i){1==t.ftpType?""==a?(t.detailSpanShow=!0,i(new Error("不能为空"))):a<=0?(t.detailSpanShow=!0,i(new Error("线程数不能小于1"))):a>=100?(t.detailSpanShow=!0,i(new Error("线程数不能大于100"))):t.$util.queryNum(a)?(t.detailSpanShow=!1,i()):(t.detailSpanShow=!0,i(new Error("请填写数字"))):i()}}],data_timeout:[{validator:function(e,a,i){1==t.ftpType?""==a?(t.detailSpanShow=!0,i(new Error("不能为空"))):a<=0?(t.detailSpanShow=!0,i(new Error("不能小于1"))):a>=100?(t.detailSpanShow=!0,i(new Error("不能大于600"))):t.$util.queryNum(a)?(t.detailSpanShow=!1,i()):(t.detailSpanShow=!0,i(new Error("请填写数字"))):i()}}],connection_timeout:[{validator:function(e,a,i){1==t.ftpType?""==a?(t.detailSpanShow=!0,i(new Error("不能为空"))):a<=0?(t.detailSpanShow=!0,i(new Error("不能小于1"))):a>=100?(t.detailSpanShow=!0,i(new Error("不能大于600"))):t.$util.queryNum(a)?(t.detailSpanShow=!1,i()):(t.detailSpanShow=!0,i(new Error("请填写数字"))):i()}}]}},channeltransmissionList:[{name:"高速模式",val:"highSpeed"}],resourceList:[{name:"本地FTP",val:"localftp"},{name:"本地SMB",val:"localsmb"},{name:"本地SFTP",val:"localsftp"},{name:"远程FTP",val:"ftp"},{name:"远程SFTP",val:"sftp"}],directoryList:[],copyList:[{name:"否",val:"1"},{name:"是",val:"0"}],psvnList:[{name:"主动模式",val:"1"},{name:"被动模式",val:"0"}],is_put_in_storageList:[{name:"否",val:"1"},{name:"是",val:"0"}],levelList:[{name:"1",val:"1"},{name:"2",val:"2"}],codingList:[{name:"UTF-8",val:"UTF-8"},{name:"CP936",val:"CP936"}],smbVersionList:[{name:"v1.0",val:"v1.0"},{name:"v2.0",val:"v2.0"},{name:"v3.0",val:"v3.0"}],operationList:[{name:"剪切",val:"del"},{name:"复制",val:"copy"}],featureList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],suffixfilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],flienamefilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],sizefilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],idplatformList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],filterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],virusList:[{name:"删除",val:"remove"},{name:"隔离",val:"move"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],filter_after_optList:[{name:"保留",val:"0"},{name:"删除",val:"1"},{name:"转移",val:"2"}],filter_after_optKeeptList:[{name:"不复制",val:"0"},{name:"复制",val:"1"}],dataTypeList:[{name:"B",val:"1"},{name:"KB",val:"1000"},{name:"MB",val:"1000000"},{name:"GB",val:"1000000000"}],dataTypeList1:[{name:"B",val:"1"},{name:"KB",val:"1000"},{name:"MB",val:"1000000"},{name:"GB",val:"1000000000"}],minutes:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],data_timeoutList:[1,2,3,4,5],connection_timeoutList:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],smbType:!1,sftpType:!1,ftpType:!1,localftpType:!0,gaoSettings:!0,sizeFilter:!1,nameFilter:!1,contentFilter:!1,suffixFilter:!1,virusFilter:!1,client:!1,settimesynFilter:!1,picNameFilter:!1,file_feature_filter:!1,showcopy_move:!0,showfilter_after_opt_path:!1,ftpdType:!1,channel_transmission_show:!1}},computed:{},mounted:function(){},methods:{channeltransmission_move:function(t){"common"==t?this.channel_transmission_show=!0:"highSpeed"==t&&(this.channel_transmission_show=!1)},test:function(){var t=this;this.$https.fetchGet(this.$api.local.findFtpInfo.url).then((function(e){for(var a in e.data.data)t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},showSyncTaskInfo:function(){var t=this;this.$https.fetchGet(this.$api.data.syncTaskInfo.url).then((function(e){t.data1=e.data.data;var a=t.$storage.getStorage("businessIndex"),i=t.$storage.getStorage("FileIndex").replace('"',"").replace('"',"");t.platForm.form.id=t.data1[a].filesync[i].id,t.platForm.form=t.data1[a].filesync[i],t.platForm.form.data_timeout=Number(t.platForm.form.data_timeout),t.platForm.form.connection_timeout=Number(t.platForm.form.connection_timeout),t.platForm.form.data_timeout>999&&(t.platForm.form.data_timeout/=1e3,t.platForm.form.connection_timeout/=1e3),""!=t.platForm.form.filter_filename&&(t.platForm.form.idbiz3=!t.platForm.form.idbiz3),""!=t.platForm.form.filter_keyword&&(t.platForm.form.idbiz1=!t.platForm.form.idbiz1),""==t.platForm.form.filter_min_size&&""==t.platForm.form.filter_max_size||(t.platForm.form.idbiz2=!t.platForm.form.idbiz2),""!=t.platForm.form.filter_feature&&(t.platForm.form.file_feature_filter=!t.platForm.form.file_feature_filter),""!=t.platForm.form.filter_suffix&&(t.platForm.form.idbiz5=!t.platForm.form.idbiz5),""!=t.platForm.form.virus_opt&&(t.platForm.form.idbiz6=!t.platForm.form.idbiz6),t.platForm.form.time_interval=Number(t.platForm.form.time_interval),t.showCopy_move(String(t.data1[a].filesync[i].filter_after_opt),"1"),t.platForm.form.copy_move=t.data1[a].filesync[i].copy_move,t.platForm.form.taskId=t.data1[a].id,"run"!=t.platForm.form.runstate?(t.platForm.show=!0,t.checkType(t.data1[a].filesync[i].type)):t.$Notice.error({title:"启用中无法修改",duration:2.5})})).catch((function(t){}))},showAddDrawer:function(){this.test(),this.showSyncTaskInfo()},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e){var a=_.cloneDeep(t.platForm.form);a.data_timeout*=1e3,a.connection_timeout*=1e3,t.$https.fetchPost(t.$api.data.updateFileTask.url,a).then((function(e){200==e.data.status?(t.$Notice.success({title:"文件同步修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),t.reload()}),250)):t.$Notice.error({title:"文件同步修改失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}))},checkType:function(t){"ftp"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.ftpdType=!0,this.platForm.form.ftp_sync_mode="3"):"localftp"==t?(this.directoryList=[],this.findFtp(),this.ftpType=!1,this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"localsmb"==t?(this.directoryList=[],this.ftpType=!1,this.findSam(),this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"localnfs"==t?(this.ftpType=!1,this.directoryList=[],this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"localsftp"==t?(this.ftpType=!1,this.directoryList=[],this.findSftp(),this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"client"==t?(this.client=!0,this.localftpType=!1):"nfs"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.platForm.form.ftp_sync_mode="3",this.smbType=!1):"smb"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.platForm.form.ftp_sync_mode="3",this.smbType=!0):"sftp"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.platForm.form.ftp_sync_mode="3",this.sftpType=!0):(this.ftpType=!1,this.localftpType=!0)},showCopy_move:function(t,e){"0"==t?(this.showcopy_move=!0,this.showfilter_after_opt_path=!1,e||(this.platForm.form.filter_after_opt_path="/home/invalid")):"2"==t?(this.showcopy_move=!1,this.showfilter_after_opt_path=!0,e||(this.platForm.form.filter_after_opt_path="/home/invalid")):"1"==t&&(this.showcopy_move=!1,this.showfilter_after_opt_path=!1,e||(this.platForm.form.filter_after_opt_path="/home/invalid"))},handleLinkimage:function(){},findFtp:function(){var t=this;this.$https.fetchGet(this.$api.local.findFtpInfo.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},findSam:function(){var t=this;this.$https.fetchGet(this.$api.local.samInfo.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},findSftp:function(){var t=this;this.$https.fetchGet(this.$api.local.findSftp.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},restPlatForm:function(){this.$refs.plat_form.resetFields(),1==this.suffixFilter&&this.checkSuffixFilter(),1==this.sizeFilter&&this.checkSizeFilter(),1==this.settimesynFilter&&this.checkSettimesynFilter(),1==this.nameFilter&&this.checkNameFilter(),1==this.contentFilter&&this.checkContentFilter(),1==this.picNameFilter&&this.checkPicNameFilter(),1==this.virusFilter&&this.checkVirusFilter(),1==this.file_feature_filter&&this.checkfile_feature_filter()},checkupdateType:function(t){this.restPlatForm(),this.sftpType=!1,this.smbType=!1,this.ftpdType=!1,this.platForm.form.username="",this.platForm.form.password="",this.platForm.form.ipaddress="",this.platForm.form.remoteport="",this.platForm.form.sftpKey="v2.0",this.platForm.form.path="",this.platForm.form.workGroup="",this.platForm.form.file_root="/","ftp"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.ftpdType=!0,this.platForm.form.ftp_sync_mode="3"):"localftp"==t?(this.directoryList=[],this.findFtp(),this.ftpType=!1,this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"localsmb"==t?(this.directoryList=[],this.ftpType=!1,this.findSam(),this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"localnfs"==t?(this.ftpType=!1,this.directoryList=[],this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"localsftp"==t?(this.findSftp(),this.ftpType=!1,this.directoryList=[],this.localftpType=!0,this.platForm.form.ftp_sync_mode="1"):"client"==t?(this.client=!0,this.localftpType=!1):"nfs"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.smbType=!1,this.platForm.form.ftp_sync_mode="3"):"smb"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.smbType=!0,this.platForm.form.ftp_sync_mode="3"):"sftp"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.sftpType=!0,this.platForm.form.ftp_sync_mode="3"):(this.ftpType=!1,this.localftpType=!0)},filter_state:function(){this.sizeFilter=!1,this.nameFilter=!1,this.contentFilter=!1,this.suffixFilter=!1,this.picNameFilter=!1,this.virusFilter=!1,this.file_feature_filter=!1,this.settimesynFilter=!1},checkGaoSettings:function(){this.gaoSettings=!this.gaoSettings},checkSizeFilter:function(){this.platForm.form.filter_size="blacklist",this.platForm.form.filter_min_size="",this.platForm.form.filter_max_size="",this.platForm.form.filter_max_size_unit="1",this.platForm.form.filter_min_size_unit="1",0!=this.platForm.form.idbiz2?(this.sizeFilter=!this.sizeFilter,1==this.sizeFilter&&(this.filter_state(),this.sizeFilter=!this.sizeFilter)):this.filter_state()},checkSettimesynFilter:function(){this.platForm.form.syntime="",0!=this.platForm.form.settimesyn?(this.settimesynFilter=!this.settimesynFilter,1==this.settimesynFilter&&(this.filter_state(),this.settimesynFilter=!this.settimesynFilter)):this.filter_state()},checkNameFilter:function(){this.platForm.form.filename_type="blacklist",this.platForm.form.filter_filename="",0!=this.platForm.form.idbiz3?(this.nameFilter=!this.nameFilter,1==this.nameFilter&&(this.filter_state(),this.nameFilter=!this.nameFilter)):this.filter_state()},checkContentFilter:function(){this.platForm.form.keyword_type="blacklist",this.platForm.form.filter_keyword="",0!=this.platForm.form.idbiz4?(this.contentFilter=!this.contentFilter,1==this.contentFilter&&(this.filter_state(),this.contentFilter=!this.contentFilter)):this.filter_state()},checkSuffixFilter:function(){this.platForm.form.suffix_type="blacklist",this.platForm.form.filter_suffix="",0!=this.platForm.form.idbiz5?(this.suffixFilter=!this.suffixFilter,1==this.suffixFilter&&(this.filter_state(),this.suffixFilter=!this.suffixFilter)):this.filter_state()},checkPicNameFilter:function(){this.picNameFilter=!this.picNameFilter,this.platForm.form.filter_picture_keyword="",this.platForm.form.filter_keyword="",0!=this.platForm.form.idbiz1?1==this.picNameFilter&&(this.filter_state(),this.picNameFilter=!this.picNameFilter):this.filter_state()},checkVirusFilter:function(){this.platForm.form.virus_opt="",0!=this.platForm.form.idbiz6?(this.virusFilter=!this.virusFilter,1==this.virusFilter&&(this.filter_state(),this.virusFilter=!this.virusFilter)):this.filter_state()},checkfile_feature_filter:function(){this.platForm.form.feature_type="blacklist",this.platForm.form.filter_feature="",0!=this.platForm.form.file_feature_filter?(this.file_feature_filter=!this.file_feature_filter,1==this.file_feature_filter&&(this.filter_state(),this.file_feature_filter=!this.file_feature_filter)):this.filter_state()},editVirusFilter:function(){this.filter_state(),this.virusFilter=!0},editPicNameFilter:function(){this.filter_state(),this.picNameFilter=!0},editSizeFilter:function(){this.filter_state(),this.sizeFilter=!0},editNameFilter:function(){this.filter_state(),this.nameFilter=!0},editContentFilter:function(){this.filter_state(),this.contentFilter=!0},editSuffixFilter:function(){this.filter_state(),this.suffixFilter=!0},editSettimesynFilter:function(){this.filter_state(),this.settimesynFilter=!0},editfile_feature_filter:function(){this.filter_state(),this.file_feature_filter=!0},filter_change:function(){this.platForm.form.filter=!this.platForm.form.filter}}},s=(a("1ffa"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"80px",height:"30px"},on:{click:t.showAddDrawer}},[t._v("修改文件同步")]),a("modal",{attrs:{title:"文件同步服务编辑",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":138}},[a("Tabs",{staticStyle:{"min-height":"400px"},attrs:{value:"name1"}},[a("TabPane",{attrs:{label:"基础配置",name:"name1"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap","margin-right":"50px"}},[a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"外端服务id",prop:"out_task_id"}},[a("Tooltip",{attrs:{"max-width":"320",placement:"top",content:"服务id内外端需一致"}},[a("Input",{staticStyle:{width:"320px"},attrs:{disabled:""},model:{value:t.platForm.form.out_task_id,callback:function(e){t.$set(t.platForm.form,"out_task_id",e)},expression:"platForm.form.out_task_id"}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"服务名称",prop:"servicename"}},[a("Input",{attrs:{disabled:""},model:{value:t.platForm.form.servicename,callback:function(e){t.$set(t.platForm.form,"servicename",e)},expression:"platForm.form.servicename"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"资源类型",prop:"type1"}},[a("Select",{attrs:{disabled:""},model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.resourceList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkupdateType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"IP地址",prop:"ipaddress"}},[a("Input",{model:{value:t.platForm.form.ipaddress,callback:function(e){t.$set(t.platForm.form,"ipaddress",e)},expression:"platForm.form.ipaddress"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"端口",prop:"remoteport"}},[a("Input",{model:{value:t.platForm.form.remoteport,callback:function(e){t.$set(t.platForm.form,"remoteport",e)},expression:"platForm.form.remoteport"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"用户名",prop:"username"}},[a("Input",{model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"根目录",prop:"file_root"}},[a("Input",{model:{value:t.platForm.form.file_root,callback:function(e){t.$set(t.platForm.form,"file_root",e)},expression:"platForm.form.file_root"}})],1):t._e(),t.localftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"目录",prop:"path"}},[a("Select",{model:{value:t.platForm.form.path,callback:function(e){t.$set(t.platForm.form,"path",e)},expression:"platForm.form.path"}},t._l(t.directoryList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),t.smbType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"协议版本",prop:"smbVersion"}},[a("Select",{model:{value:t.platForm.form.smbVersion,callback:function(e){t.$set(t.platForm.form,"smbVersion",e)},expression:"platForm.form.smbVersion"}},t._l(t.smbVersionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.smbType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"所属的域",prop:"workGroup"}},[a("Input",{model:{value:t.platForm.form.workGroup,callback:function(e){t.$set(t.platForm.form,"workGroup",e)},expression:"platForm.form.workGroup"}})],1):t._e(),t.sftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"密匙",prop:"sftpKey"}},[a("Select",{model:{value:t.platForm.form.sftpKey,callback:function(e){t.$set(t.platForm.form,"sftpKey",e)},expression:"platForm.form.sftpKey"}},t._l(t.smbVersionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e()],1),a("FormItem",{staticStyle:{"margin-top":"5px"}},[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),t.detailSpanShow?a("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v("详细配置中有参数不合法")]):t._e()],1)],1),a("TabPane",{attrs:{label:"详细配置",name:"name2"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"通道传输模式",prop:"channel_transmission_mode"}},[a("Select",{model:{value:t.platForm.form.channel_transmission_mode,callback:function(e){t.$set(t.platForm.form,"channel_transmission_mode",e)},expression:"platForm.form.channel_transmission_mode"}},t._l(t.channeltransmissionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.channeltransmission_move(e.val)}}},[t._v(t._s(e.name))])})),1)],1),t.ftpdType?a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"设置传输超时时间(秒)",prop:"data_timeout"}},[a("Input",{model:{value:t.platForm.form.data_timeout,callback:function(e){t.$set(t.platForm.form,"data_timeout",e)},expression:"platForm.form.data_timeout"}})],1):t._e(),t.ftpdType?a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"连接超时时间(秒)",prop:"connection_timeout"}},[a("Input",{model:{value:t.platForm.form.connection_timeout,callback:function(e){t.$set(t.platForm.form,"connection_timeout",e)},expression:"platForm.form.connection_timeout"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"间隔(秒)",placeholder:"以秒为单位",prop:"time_interval"}},[a("Select",{model:{value:t.platForm.form.time_interval,callback:function(e){t.$set(t.platForm.form,"time_interval",e)},expression:"platForm.form.time_interval"}},t._l(t.minutes,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"线程数",prop:"tools"}},[a("Input",{model:{value:t.platForm.form.tools,callback:function(e){t.$set(t.platForm.form,"tools",e)},expression:"platForm.form.tools"}})],1):t._e(),!t.ftpType&&t.channel_transmission_show?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"等级",prop:"level"}},[a("Select",{model:{value:t.platForm.form.level,callback:function(e){t.$set(t.platForm.form,"level",e)},expression:"platForm.form.level"}},t._l(t.levelList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"异常日志是否入库",prop:"is_put_in_storage"}},[a("Select",{model:{value:t.platForm.form.is_put_in_storage,callback:function(e){t.$set(t.platForm.form,"is_put_in_storage",e)},expression:"platForm.form.is_put_in_storage"}},t._l(t.is_put_in_storageList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"编码",prop:"iocharset"}},[a("Select",{model:{value:t.platForm.form.iocharset,callback:function(e){t.$set(t.platForm.form,"iocharset",e)},expression:"platForm.form.iocharset"}},t._l(t.codingList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.ftpdType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"传输模式",prop:"is_psvn"}},[a("Select",{model:{value:t.platForm.form.is_psvn,callback:function(e){t.$set(t.platForm.form,"is_psvn",e)},expression:"platForm.form.is_psvn"}},t._l(t.psvnList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件同步后的操作",prop:"operation"}},[a("Select",{model:{value:t.platForm.form.operation,callback:function(e){t.$set(t.platForm.form,"operation",e)},expression:"platForm.form.operation"}},t._l(t.operationList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),t.channel_transmission_show?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"目录同步",prop:"idplatform"}},[a("Select",{model:{value:t.platForm.form.gg,callback:function(e){t.$set(t.platForm.form,"gg",e)},expression:"platForm.form.gg"}},t._l(t.aaList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.channel_transmission_show?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"限速",prop:"idbiz"}},[a("Input",{model:{value:t.platForm.form.uu,callback:function(e){t.$set(t.platForm.form,"uu",e)},expression:"platForm.form.uu"}})],1):t._e()],1)]),t.ftpType?a("TabPane",{attrs:{label:"文件过滤",name:"name3"}},[t.ftpType?t._e():a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件过滤",prop:"filter"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{onchange:t.filter_change},model:{value:t.platForm.form.filter,callback:function(e){t.$set(t.platForm.form,"filter",e)},expression:"platForm.form.filter"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1),t.platForm.form.filter||t.ftpType?a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{"text-align":"left","margin-bottom":"15px",width:"33%"},attrs:{label:"开启病毒扫描",prop:"idbiz6"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkVirusFilter},model:{value:t.platForm.form.idbiz6,callback:function(e){t.$set(t.platForm.form,"idbiz6",e)},expression:"platForm.form.idbiz6"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz6?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editVirusFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"关键字过滤",prop:"idbiz1"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkPicNameFilter},model:{value:t.platForm.form.idbiz1,callback:function(e){t.$set(t.platForm.form,"idbiz1",e)},expression:"platForm.form.idbiz1"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz1?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editPicNameFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件大小过滤",prop:"idbiz2"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSizeFilter},model:{value:t.platForm.form.idbiz2,callback:function(e){t.$set(t.platForm.form,"idbiz2",e)},expression:"platForm.form.idbiz2"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz2?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSizeFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件名过滤",prop:"idbiz3"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkNameFilter},model:{value:t.platForm.form.idbiz3,callback:function(e){t.$set(t.platForm.form,"idbiz3",e)},expression:"platForm.form.idbiz3"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz3?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editNameFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件名后缀过滤",prop:"idbiz5"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSuffixFilter},model:{value:t.platForm.form.idbiz5,callback:function(e){t.$set(t.platForm.form,"idbiz5",e)},expression:"platForm.form.idbiz5"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz5?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSuffixFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"32%"},attrs:{label:"敏感文件操作",prop:"filter_after_opt"}},[a("Select",{staticStyle:{width:"135px"},model:{value:t.platForm.form.filter_after_opt,callback:function(e){t.$set(t.platForm.form,"filter_after_opt",e)},expression:"platForm.form.filter_after_opt"}},t._l(t.filter_after_optList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.showCopy_move(e.val)}}},[t._v(t._s(e.name))])})),1),a("Poptip",{attrs:{trigger:"hover",content:"敏感文件就是关键字过滤、文件大小过滤等出来的不符合规定的文件"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"3px",color:"#fa914e","font-size":"24px"}})])],1),t.showcopy_move?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"30%"},attrs:{label:"敏感文件复制到平台",prop:"copy_move"}},[a("Select",{model:{value:t.platForm.form.copy_move,callback:function(e){t.$set(t.platForm.form,"copy_move",e)},expression:"platForm.form.copy_move "}},t._l(t.filter_after_optKeeptList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.showfilter_after_opt_path?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"30%"},attrs:{label:"敏感文件转移路径",prop:"filter_after_opt_path"}},[a("Input",{attrs:{disabled:""},model:{value:t.platForm.form.filter_after_opt_path,callback:function(e){t.$set(t.platForm.form,"filter_after_opt_path",e)},expression:"platForm.form.filter_after_opt_path"}})],1):t._e(),t.virusFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("病毒扫描")]):t._e(),t.virusFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"病毒文件处理",prop:"virus_opt"}},[a("Select",{model:{value:t.platForm.form.virus_opt,callback:function(e){t.$set(t.platForm.form,"virus_opt",e)},expression:"platForm.form.virus_opt"}},t._l(t.virusList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1),t.virusFilter?a("span",{staticStyle:{color:"red","font-size":"11px"}},[t._v("注：病毒库管理中杀毒引擎为启用状态时，此功能才生效")]):t._e()],1):t._e(),t.picNameFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("关键字过滤")]):t._e(),t.picNameFilter?a("FormItem",{staticClass:"contentFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"过滤的关键字",prop:"filter_keyword"}},[a("Input",{staticStyle:{width:"280px"},model:{value:t.platForm.form.filter_keyword,callback:function(e){t.$set(t.platForm.form,"filter_keyword",e)},expression:"platForm.form.filter_keyword "}}),a("Poptip",{attrs:{trigger:"hover",content:"匹配文件中的内容进行过滤操作，\n                            支持的文件有：txt、pdf、xls、xlsx、doc、docx、ppt、pptx、wps、dps、et、xml，多个以/#/分隔"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"1px",color:"#fa914e","font-size":"24px"}})])],1):t._e(),t.picNameFilter?a("FormItem",{staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"过滤类型",prop:"keyword_type"}},[a("Select",{model:{value:t.platForm.form.keyword_type,callback:function(e){t.$set(t.platForm.form,"keyword_type",e)},expression:"platForm.form.keyword_type"}},t._l(t.filterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.picNameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"图片关键字过滤",prop:"filter_picture_keyword"}},[a("Input",{staticStyle:{width:"280px"},model:{value:t.platForm.form.filter_picture_keyword,callback:function(e){t.$set(t.platForm.form,"filter_picture_keyword",e)},expression:"platForm.form.filter_picture_keyword "}}),a("Poptip",{attrs:{trigger:"hover",content:"匹配图像中的内容里面的文字，多个以/#/分隔"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"1px",color:"#fa914e","font-size":"24px"}})])],1):t._e(),t.sizeFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件大小过滤")]):t._e(),t.sizeFilter?a("FormItem",{staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"最小",prop:"filter_min"}},[a("Poptip",{attrs:{trigger:"hover",content:"大于此值可同步"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.filter_min_size,callback:function(e){t.$set(t.platForm.form,"filter_min_size",e)},expression:"platForm.form.filter_min_size"}})],1),a("Select",{staticStyle:{width:"26%"},model:{value:t.platForm.form.filter_min_size_unit,callback:function(e){t.$set(t.platForm.form,"filter_min_size_unit",e)},expression:"platForm.form.filter_min_size_unit"}},t._l(t.dataTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.sizeFilter?a("FormItem",{staticClass:"sizeFilter_style",staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"最大",prop:"filter_max"}},[a("Poptip",{attrs:{trigger:"hover",content:"小于此值可同步"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.filter_max_size,callback:function(e){t.$set(t.platForm.form,"filter_max_size",e)},expression:"platForm.form.filter_max_size"}})],1),a("Select",{staticStyle:{width:"26%"},model:{value:t.platForm.form.filter_max_size_unit,callback:function(e){t.$set(t.platForm.form,"filter_max_size_unit",e)},expression:"platForm.form.filter_max_size_unit"}},t._l(t.dataTypeList1,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.nameFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件名过滤")]):t._e(),t.nameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件名过滤类型",prop:"filename_type"}},[a("Select",{model:{value:t.platForm.form.filename_type,callback:function(e){t.$set(t.platForm.form,"filename_type",e)},expression:"platForm.form.filename_type"}},t._l(t.flienamefilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.nameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件名",prop:"filter_filename"}},[a("Poptip",{attrs:{trigger:"hover",content:"多个以小写|分割"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.platForm.form.filter_filename,callback:function(e){t.$set(t.platForm.form,"filter_filename",e)},expression:"platForm.form.filter_filename"}})],1)],1):t._e(),t.suffixFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件名后缀过滤")]):t._e(),t.suffixFilter?a("FormItem",{staticClass:"suffixFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"后缀过滤类型",prop:"suffix_type"}},[a("Select",{model:{value:t.platForm.form.suffix_type,callback:function(e){t.$set(t.platForm.form,"suffix_type",e)},expression:"platForm.form.suffix_type"}},t._l(t.suffixfilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.suffixFilter?a("FormItem",{staticClass:"suffixFilter_style",staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件名后缀",prop:"filter_suffix "}},[a("Poptip",{attrs:{trigger:"hover",content:"例如*.txt 多个请以空格分开"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.platForm.form.filter_suffix,callback:function(e){t.$set(t.platForm.form,"filter_suffix",e)},expression:"platForm.form.filter_suffix"}})],1)],1):t._e(),t.settimesynFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("同步时间")]):t._e(),t.settimesynFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"同步时间段",prop:"syntime"}},[a("TimePicker",{staticStyle:{width:"168px"},attrs:{confirm:"",transfer:"true",value:t.platForm.form.syntime,format:"hh’mm’ss",type:"timerange",placement:"bottom-end",placeholder:"Select time"}})],1):t._e(),t.file_feature_filter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件特征过滤")]):t._e(),t.file_feature_filter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"60%"},attrs:{label:"文件特征",prop:"filter_feature"}},[a("Input",{staticStyle:{"margin-bottom":"15px",width:"49%"},model:{value:t.platForm.form.filter_feature,callback:function(e){t.$set(t.platForm.form,"filter_feature",e)},expression:"platForm.form.filter_feature"}})],1):t._e(),t.file_feature_filter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件特征类型",prop:"feature_type"}},[a("Select",{staticStyle:{"margin-bottom":"15px",width:"49%"},model:{value:t.platForm.form.feature_type,callback:function(e){t.$set(t.platForm.form,"feature_type",e)},expression:"platForm.form.feature_type"}},t._l(t.featureList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1),a("Upload",{attrs:{action:"","before-upload":t.handleLinkimage}},[a("i-button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("添加文件")])],1)],1):t._e()],1):t._e()],1):t._e()],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)}),[],!1,null,"16b3797d",null);e.a=o.exports},be4b:function(t,e,a){},be85:function(t,e,a){},bfa3:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s=(a("cc57"),{name:"LocalTcpAdd",components:{},data:function(){return{platForm:{show:!1,form:{filter:"*",permissions:"可读可写",idplatform:null,idinnerlink:null,idbiz:null,unitname:null,systemname:null,projecttype:"00000",projectopt:"0000",leadername:null,leaderphone:null,leaderemail:null,leaderothercontact:null,passunit:null,passtime:null,passnumber:null,passFile:null,regtime:null,transferdirect:"1",baseprotocol:"0001",ifrealtime:"1",propamount:null,ifregist:"1",registunitname:null,linkimageFile:null}},transferdirectList:[{title:"1",name:"单入"},{title:"2",name:"单出"},{title:"3",name:"双向"}],baseprotocolList:[{title:"0001",name:"TCP/IP"},{title:"0002",name:"SSL"},{title:"0003",name:"IPSEC"},{title:"0004",name:"FTP"},{title:"0005",name:"H323"},{title:"0006",name:"H320"},{title:"0007",name:"SNMP"},{title:"0008",name:"UDP"},{title:"0009",name:"其他"}],flagList:[{title:"1",name:"是"},{title:"0",name:"否"}],passFileName:"",linkimageFileName:"",innerlinkList:[],resourceList:[{name:"本地FTP"},{name:"本地SMB"},{name:"本地NFS"},{name:"光碟塔"},{name:"Client"},{name:"认证同步"}],directoryList:[],levelList:[{name:"1"},{name:"2"}],codingList:[{name:"UTF-8"}],operationList:[{name:"删除"},{name:"复制"},{name:"备份"}],idplatformList:[{name:"不审计"},{name:"白名单"},{name:"黑名单"}],filterTypeList:[{name:"白名单"},{name:"黑名单"}],virusList:[{name:"删除"},{name:"隔离"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],interfaceList:[{name:"eth2"}]}},computed:{},methods:{getPassTime:function(t){this.platForm.form.passtime=t},getRegTime:function(t){this.platForm.form.regtime=t},handlePassfile:function(t){return this.passFileName=t.name,this.platForm.form.passFile=t,!1},handleLinkimage:function(t){return this.linkimageFileName=t.name,this.platForm.form.linkimageFile=t,!1},showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){},restPlatForm:function(){this.$refs.plat_form.resetFields()}}}),o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"TCP协议通信",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"禁用",prop:"subnet"}},[a("Checkbox",[t._v("禁用此规则")])],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"入口IP",prop:"vhid"}},[a("Select",{model:{value:t.platForm.form.interface,callback:function(e){t.$set(t.platForm.form,"interface",e)},expression:"platForm.form.interface"}},[a("Option",{attrs:{label:"TCP",value:"tcp"}}),a("Option",{attrs:{label:"UDP",value:"udp"}}),a("Option",{attrs:{label:"ICMP",value:"icmp"}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"入口端口",prop:"password"}},[a("Input")],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"出口IP",prop:"password"}},[a("Select",{model:{value:t.platForm.form.interface,callback:function(e){t.$set(t.platForm.form,"interface",e)},expression:"platForm.form.interface"}},[a("Option",{attrs:{label:"TCP",value:"tcp"}}),a("Option",{attrs:{label:"UDP",value:"udp"}}),a("Option",{attrs:{label:"ICMP",value:"icmp"}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"目的IP",prop:"password"}},[a("Input")],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"目的端口",prop:"password"}},[a("Input")],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"714745ac",null).exports,n={name:"LocalTcp",components:{jk_tabs:i.a,tcpAdd:r},data:function(){return{columns1:[{title:"序号",key:""},{title:"协议",key:""},{title:"入口IP",key:""},{title:"入口端口",key:""},{title:"出口IP",key:""},{title:"目的IP",key:""},{title:"目的端口",key:""},{title:"启用",key:""},{title:"操作",key:""}],indeterminate:!1,checkAll:!1,isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,checkAllGroup:[],hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],List:[{value:"all",label:"所有"},{value:"user",label:"用户与登录设置"},{value:"interface",label:"接口配置"},{value:"gateway",label:"网关配置"},{value:"route",label:"静态路由"},{value:"availability",label:"高可用性"},{value:"control",label:"访问控制"},{value:"ftp",label:"FTP服务"},{value:"smb",label:"SMB服务"},{value:"nfs",label:"NFS服务"},{value:"data",label:"数据资源"},{value:"business",label:"业务与服务"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"访问控制",to:"/local/acl"},{name:"UDP协议通信",to:"/local/udp"},{name:"TCP协议通信",to:"/local/tcp"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["用户管理","登录管理","静态路由","虚拟IPS","访问控制","强制访问控制","FTP服务","SMB服务","数据资源","业务与服务"]:this.checkAllGroup=[]},checkAllGroupChange:function(t){10===t.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)}}},l=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:this.links}}),e("tcpAdd",{staticStyle:{float:"right"}})],1)]),e("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[e("Checkbox",[this._v("启用")]),e("Button",{attrs:{size:"small",type:"primary"},on:{click:this.addPlatForm}},[this._v("确认")]),e("Table",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",border:"",columns:this.columns1,data:this.data1}})],1)])])}),[],!1,null,"8db67664",null);e.default=l.exports},bfd4:function(t,e,a){"use strict";a.r(e),a("cc57"),a("9e76");var i={name:"SysLicense",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{content:[{name:"单位名称:",title:"companyName",val:""},{name:"联系电话:",title:"iphone",val:""},{name:"单位座机:",title:"special",val:""},{name:"单位地址:",title:"site",val:""},{name:"邮件地址:",title:"email",val:""},{name:"购买日期:",title:"data",val:""},{name:"单位联系人:",title:"linkman",val:""},{name:"所在部门:",title:"branch",val:""},{name:"供应商:",title:"provider",val:""}],licenseInfo:{code:"",dev:"",type:"",data:"",expireDate:""},url:"",file:null,loading:!1,links:[{name:"授权验证",to:"/sys/license"}]}},mounted:function(){this.showData()},methods:{showData:function(){var t=this;this.$https.fetchGet(this.$api.sys.licenseInfo.url).then((function(e){for(var a in t.content)for(var i in e.data.data)t.content[a].title==i&&(t.content[a].val=e.data.data[i])})).catch((function(t){})),this.$https.fetchGet(this.$api.sys.licenseIn.url).then((function(e){t.licenseInfo=e.data.data,t.licenseInfo})).catch((function(t){}))},handleUpload:function(t){var e=t.name.match(/.dat$/);return null!=e&&""!=e?this.file=t:(this.$Notice.error({title:"上传失败",desc:"文件格式不正确",duration:5}),this.file=null),!1},upload:function(){var t=this;if(null==this.file)this.$Notice.error({title:"未选择文件",desc:"请重新选择文件",duration:5});else{var e=new FormData;e.append("file",this.file),this.$Modal.confirm({title:"提示",content:"<div>确定要上传license文件吗</div>",onOk:function(){t.loading=!0,t.$https.fetchPost(t.$api.sys.licensefile.url,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"上传license文件成功",desc:"正在刷新界面",duration:3}),t.reload(),t.$Modal.remove()):(t.$Modal.remove(),t.$Notice.error({title:"上传license文件失败",desc:e.data.desc,duration:5})),t.loading=!1})).catch((function(e){t.$Modal.remove(),t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n        系统配置\n    ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"600px"}},[a("div",{staticStyle:{float:"left",width:"100%"}},[a("div",{staticStyle:{border:"1px solid #666",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("注册信息")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},t._l(t.content,(function(e,i){return a("tr",{key:i,staticStyle:{height:"35px"}},[a("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[a("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[t._v(t._s(e.name))])]),a("td",[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v(t._s(e.val))])])])})),0)])]),a("div",{staticStyle:{border:"1px solid #666",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("授权验证")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"150px"}},[t._m(0),a("td",[a("div",{staticStyle:{margin:"7px 0"}},[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("授权天数:"),a("span",{staticStyle:{"margin-left":"56px"}},[t._v(t._s(t.licenseInfo.data))])])]),a("div",{staticStyle:{border:"1px solid #ababaa"}}),a("div",{staticStyle:{margin:"7px 0"}},[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("设备识别号:"),a("span",{staticStyle:{"margin-left":"45px"}},[t._v(t._s(t.licenseInfo.dev)+"  ")])])]),a("div",{staticStyle:{border:"1px solid #ababaa"}}),a("div",{staticStyle:{margin:"7px 0"}},[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("授权类型:"),a("span",{staticStyle:{"margin-left":"57px",color:"red"}},[t._v(t._s(t.licenseInfo.type))])])]),"正式"!=t.licenseInfo.type?a("div",{staticStyle:{border:"1px solid #ababaa"}}):t._e(),"正式"!=t.licenseInfo.type?a("div",{staticStyle:{margin:"7px 0"}},[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v("已使用时间:"),a("span",{staticStyle:{"margin-left":"45px",color:"red"}},[t._v(t._s(t.licenseInfo.time))])])]):t._e()])]),a("tr",{staticStyle:{height:"35px"}},[t._m(1),a("td",[a("Upload",{staticStyle:{float:"left",margin:"15px 0 0 15px"},attrs:{"before-upload":t.handleUpload,action:t.url}},[a("Button",{staticStyle:{float:"left"},attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击选择文件")]),null!==t.file?a("div",{staticStyle:{float:"left",margin:"6px 0 0 20px"}},[t._v("Upload file: "+t._s(t.file.name))]):t._e()],1)],1)])])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},attrs:{type:"primary",loading:t.loading},on:{click:t.upload}},[t._v("上传")])],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("授权信息:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("授权文件:")])])}],!1,null,"11df36d4",null);e.default=o.exports},c014:function(t,e,a){},c046:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFqElEQVR4Xu2bf4gUZRjHP++s6e7sKfVHSHWBvzNKglSiIpEyQwiDKC3SdtbUSsmyyIh+GRgFZRRK6qXu7JmV3R/9oKDI8KCw8kdFFBXYoZUlldV57uwFd/PELLfn3t7O7NzOtT9wXth/5n2eZ57v933e53nmnVnFaT7UaY6fkIDhiICMwVoFTwyHLb82BJ6Mm6z1K+8mNywREBIQRkC4BcIcECbBRq0ClsGeoKUEGNf3GwZTvk0cBpxfoKEsAwlkobGV20MCwggIt0CYA8Ik2NiJPJD3YRUIy2BYBoenFQ60EWupPCwnQrUEEPTeIQFBGWx0/TACGn0Fg/qvnCPtoEbqUV/j1DOOjfsLoEZqhP4F3gP2i6JTEzptoVM0eiI2zbbifKBZg2aB63wuSv23wgpeBT6MZtil2sj6ASYGUQsMTTFfhHkeOvVLgFK02DYt8TQH/YB2k+m+g0m2zTKENSVk6o8ABTts4cWgwIvBWgmuFFijFPML5uqMAMWDeornvFa8y2B2hMEn2X5flmYNlghs67tH/RAgwg3xNO+UC/egBDj2LYObgTeA+iBACYtiaXaWA+/MDwcBBSSsqIcy+JJusjIPvjvBxGiaH93IyCRYrhRbiudF2BpPs8xNz1l13aStcN65VmsCduomi/JOyT2MynaxV8HX0QgPqG38Vehwd4K5onhEYFYJoEdEsS6eYuugBGjwEPCM2Fwab+XLwvlaEvBrbCQzVAu/5R2ykryN9GfpzzXFumiKd60kCxEeBi4pt00E/lbCU3qa9SeXMjbSw7MCix09Bd/2wpwmk2N5OzUjoDhrWwYvAPcWA1TQITChHPAS871ApMT1Nt1kQa0JGLD63UlWObW/ApCVqmzQTVbloqIWZ4LFq59NskWE5ZWiqUCvvVexYHSKP2pDgGJ6PMUXhY5nEqxUio0VgBmqyirdZEPttoBwQE8zs5TXBQ3KUEH5lV+tm7lc0z+qHgEiPBZPs87N46zBJoG7vBApxUkRPgA6FIwGJgpcW0bnm1iKaYOSbA1ywOW6yWduzloJfkbR7AFmb2wkNxWWT0fWz7eKsQwjVBtOdahdBNhwTmEdLnTmxO1MGaHxgwf4Tt3kTLd5ty6xX97mCr2VT2tJQLduEnNd/SSrEZ73IGBAAiuZR7wj6D7dHFhuq5oDFHwfM7nQlQAj94TmPKmVHFqEydFtHPLa65aHDUXugevRmHnq46qqEgDs000uywPIGiy2FRdowiSBq4BzPRMZjC90vmQEGLwC3OZmR0GXKPYom32i0VFtAv7RTc7KO2cZuZ58rBfowjkbkk0mZpkIcHLIFD82BU5UmwBivYxVO/jdcdAyWA/c78dZR8Z5mImZXOyxhW4BXvNrT+D9qhPQA7PGmHzsOJkxmKlgn1+H++QqLoPF9xF4vOoEiLA0nu4/k3OiYMjfKDmNkC3sUuSaofOUYm6Z4++SHNvCnKoToIRNsTQrCvLAd8BUBd1Cf4M0e4hR4Ue83RESuEjB2cCx4xkmVJ0AYEAz43RwAm81mXyVR5FJ8LJSLPWDyo+MEnZHjzBPtdPjyGcNxinF9dEUG2tBABGNG0dt580y2dz5iDt4JAh/9ghTx7RyvNT9akIAsEs3cTK257AMfnH2eDk5r3lNY2J0Ox2ufUElSSiIQ/26Ns16K0c9oyDJrUju3WClo//kx5WASi1XQ88ycjW9bKS4+iIc0tNM9vK1br8Q6UpydUT4KCjRItwZT9PScBFgGewGrinh+GHdZLyTyXtg3BlwdNRofsp25XqLUs8AB3WTGQ1FQCbBdE1jeamDUoG74yabiwFlljBD2ewvvq6ErbbNlvgODpSsAkFD7P/UH0SEcCimmKZMukvd1zJ4HVjYN7eTXjbrO/ikIXNAodN5Ipw/ScVSPO0G6GSCuZpihW2zsak1t4XKjv8ARP08GZkQNakAAAAASUVORK5CYII="},c17c:function(t,e,a){"use strict";a.r(e);var i={name:"SysToolTraceroute",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{ip:"",count:"1"},numberList:["1","2","3","4","5"],links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.$util.queryDevIP4(this.form.ip)||this.$util.queryDevIP6(this.form.ip)?(this.ButtonLoading=!0,this.$https.fetchPost(this.$api.sys.Traceroute.url,{ip:this.form.ip,count:this.form.count},{timeout:6e4}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.textareaShow=!0,t.$Notice.success({title:"ping值成功",duration:2.5}),t.value=e.data.data,setTimeout((function(){}),250)):(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2}),this.textareaShow=!1}))):this.$Notice.error({title:"检测失败",desc:"目标主机ip请输入正确的ip格式",duration:5})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Select",{staticStyle:{width:"15%","margin-left":"15px"},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}},t._l(t.numberList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},attrs:{loading:t.ButtonLoading},on:{click:function(e){return t.submit()}}},[t._v("确认")])],1),t.textareaShow?a("Input",{attrs:{type:"textarea",rows:20,placeholder:"Enter something..."},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("目标主机:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("最大跳数:")])])}],!1,null,"5d4b6db9",null);e.default=o.exports},c196:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"NetworkChannelAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{ipaddr:"",macaddr:"",port:"",id:""},rules:{macaddr:[{required:!0,message:"不能为空",trigger:"blur"}],ipaddr:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}]}}}},computed:{},mounted:function(){},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.network.addChannel.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"业务添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"业务添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增单向通道\n    ")]),a("Drawer",{attrs:{title:"新增单向通道",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"内端IP地址",prop:"ipaddr"}},[a("Input",{model:{value:t.platForm.form.ipaddr,callback:function(e){t.$set(t.platForm.form,"ipaddr",e)},expression:"platForm.form.ipaddr"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"内端MAC地址",prop:"macaddr"}},[a("Input",{model:{value:t.platForm.form.macaddr,callback:function(e){t.$set(t.platForm.form,"macaddr",e)},expression:"platForm.form.macaddr"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"2fc9ab39",null).exports,n={components:{jk_tabs:i.a,channel_add:r},inject:["reload"],data:function(){return{ButtonLoading1:!1,ButtonLoading:!1,show1:!0,testtext:!1,data1:[],data2:[],modal:{show:!1,form:{ipaddr:"",macaddr:"",port:"",id:""},rules:{macaddr:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^[A-F0-9]{2}([-:]?[A-F0-9]{2})([-:.]?[A-F0-9]{2})([-:]?[A-F0-9]{2})([-:.]?[A-F0-9]{2})([-:]?[A-F0-9]{2})$/,message:"请正确输入mac地址",trigger:"blur"}],ipaddr:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}]}},columns1:[{title:"序号",align:"center",size:"12",width:65,render:function(t,e){return t("span",e.index+1)}},{title:"网络接口",key:"real_interface",align:"center"},{title:"IP地址",key:"ipaddr",align:"center"},{title:"子网掩码",key:"subent",align:"center"}],columns2:[{title:"序号",align:"center",size:"12",render:function(t,e){return t("span",e.index+1)}},{title:"内端IP地址",key:"ipaddr",align:"center"},{title:"内端MAC地址",key:"macaddr",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"设置单向通道",to:"/network/channel"}]}},computed:{},methods:{restmodal:function(){this.$refs.plat_form.resetFields()},updateChannel:function(){var t=this;this.$https.fetchPost(this.$api.network.updateChannel.url,this.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"数据修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"数据修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},updateInterface:function(t,e){this.modal.show=!0,this.$set(this.modal.form,"id",this.data2[t].id),this.$set(this.modal.form,"ipaddr",this.data2[t].ipaddr),this.$set(this.modal.form,"port",this.data2[t].port),this.$set(this.modal.form,"macaddr",this.data2[t].macaddr)},deleteInterface:function(t,e){var a=this,i={id:this.data2[t].id};this.$Modal.confirm({title:"删除通道",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.network.delChannel.url,i).then((function(t){200==t.data.status?(a.$Notice.success({title:"删除成功",duration:2.5}),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},test:function(){var t=this;this.ButtonLoading1=!0,this.$https.fetchPost(this.$api.network.testChannel.url).then((function(e){200==e.data.status?(t.ButtonLoading1=!1,t.$Notice.success({title:"命令发送成功",duration:2.5})):(t.ButtonLoading1=!1,t.$Notice.error({title:"命令发送失败",desc:"错误："+e.data.desc,duration:5}))})).catch((function(e){t.ButtonLoading1=!1,t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},restart:function(){var t=this;this.ButtonLoading=!0,this.$https.fetchPost(this.$api.data.loadChannel.url,{},{timeout:6e4}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.$Notice.success({title:"重启成功",desc:e.data.desc,duration:2.5})):(t.ButtonLoading=!1,t.$Notice.error({title:"重启失败",desc:"错误:"+e.data.desc,duration:5}))})).catch((function(e){t.ButtonLoading=!1,t.$Notice.error({title:"重启失败",desc:e,duration:5})}))},getoutChannel:function(){var t=this;this.$https.fetchGet(this.$api.network.showCommon.url).then((function(e){200==e.data.status?t.data1=e.data.data:t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},getinnerChannel:function(){var t=this;this.$https.fetchGet(this.$api.network.showinnerCommon.url).then((function(e){200==e.data.status?(t.data2=e.data.data,0==t.data2.length?t.show1=!0:t.show1=!1):t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}},mounted:function(){this.getoutChannel(),this.getinnerChannel()}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("channel_add",{directives:[{name:"show",rawName:"v-show",value:t.show1,expression:"show1"}],staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("span",{staticStyle:{"font-weight":"500","font-size":"12px"}},[t._v("外端通道接口列表")]),a("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",border:"",columns:t.columns1,data:t.data1}}),a("span",{staticStyle:{"font-weight":"500","font-size":"12px"}},[t._v("内端通道接口设置")]),a("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",border:"",columns:t.columns2,data:t.data2},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateInterface(s,i)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteInterface(s,i)}}},[t._v("删除")])]}}])}),a("div",[a("div",{staticStyle:{"font-weight":"500","font-size":"12px"}},[t._v("重启通道")]),a("Button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary",loading:t.ButtonLoading},on:{click:function(e){return t.restart()}}},[t._v("点击重启")])],1),a("div",[a("div",{staticStyle:{"font-weight":"500","font-size":"12px"}},[t._v("通道状态测试")]),a("Button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary"},on:{click:function(e){return t.test()}}},[t._v("开始测试")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.testtext,expression:"testtext"}],staticStyle:{color:"red","font-size":"bold"},attrs:{loading:t.ButtonLoading1}},[t._v("命令发送成功")])],1)],1)]),a("Drawer",{attrs:{title:"修改单向通道",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"内端IP地址",prop:"ipaddr"}},[a("Input",{model:{value:t.modal.form.ipaddr,callback:function(e){t.$set(t.modal.form,"ipaddr",e)},expression:"modal.form.ipaddr"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"内端MAC地址",prop:"macaddr"}},[a("Input",{model:{value:t.modal.form.macaddr,callback:function(e){t.$set(t.modal.form,"macaddr",e)},expression:"modal.form.macaddr"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.updateChannel}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restmodal}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"1286932f",null);e.default=l.exports},c35f:function(t,e,a){"use strict";a("e633")},c40c:function(t,e,a){},c446:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAMHklEQVR4nO1aSYwcVxn+3qulu2df7PF4ywYZO3EWJUEkRCwSinLhQnKIWITEBQmFMwJEJJBQuCGCxDmIoBwQEssBCaQIEMhROGTxjB17SEKCnZB40j1rTXu6q97/c6jtf6+qxsaOD4T5ZXdXvfX/vn95yzSwJ3uyJ3uyJ3uyJ3vyfypqt8of/urkVzvt1iNa6wklWiooZP8s4eyDwWAGOCtIjOlG/Z0fff+Ln37hA9b/mqWRgB/88m+fn52e/I1Wu3JkSQoYSCmwy5PE7Kysrt395Fc++4+rU/X6iG6q6LRbn7lS8IzS2izBc0mK73vt0U774WtR9nqI31Thaf2xy3Vm+8MGLttlLPied/dVaXkdpdYDvvvMn44Evv9AU6fC4oXVRfwL8MxcgGcAQRB84Ylf/Pn4B6f+tUvFx7/37F8WpifHf95uhRUChLEB19VluzIZiMSYPiSJiQzRSwDo8mqJcdgeOzcCM1tJt3xma25jTHe7f+nJp7728CuNBHzjp78d+eiNR5ZbYXCkTq3aJCctLl7yZ5cASaJcNSyQ4qXSxp2zbr6cHDERA4jjePXC2+/e/My3HtssCJi86yFsLD6H7zz9hxmt9SdH2+HvrAEzN84ZZaaSYeYsFHIrlGWcxYNrJeTfNQrW0JurWXyzLFGyDnab2jpgZzB8ZLTT+euPv/651cm7HoJ64md/bB+/+fCzI+3wUU9rKAXk2V9lg8ix3D2AEiuFaihvEhEphdWt/JFV5LYnQVzF3a3ymjJmEDOIGIYY/Z3Br5ffvPBl/yNH5x+fHOs8Wqcwy++mgK9Yy14d3P2AC7h+aC7aSkLccercvkjKNTkDrACl4HmMsZHOozcfPfS4H/jenVdirctJLeg6164AK9/sHFCN+ybQlRxSkz8sb8q8y9P6Th/AzlWDvkxSlMrYCl0BaCch1lnZJqIc1co1zhhyHmLe8ZVCdMWAS72vCHSda6+truHVs+ecKGIYIjz44CeglN7VtV3QlTYCdKGH8J7SSwBmRL5Saut6g5axb4jgBYHEDgCgeFisFk2gG5fWOk+oyyeOhzGw5SeJ6TeDvvoktrGxiTAM0Gp3HMUkIcKCDui8zfb2NobDISanpupBV0FVQkYSJ+vjxPT92JioEbRrZVHgup4kaG19DUtLZ6C1wj333IN2p1N0IKGw6+bEDEAVZEVRhMXFRTAzTpw4gfGJyYZ4dsuaPUeGyjAxkU4MReVGR2wpiw7OBoczEE45ZXXdXg+LS2cQttrwgxAvvvgStqPtdA2uHacEX6zVDGxubuLUqVMIwhbCVgunT5/BxuYmiNJ6YgZTubbn4xf1Vhnsdtl7YkykiajfBJq4dMccNMEFXQJbeX8Fp8+8ilarhTyagzDESy+/jCiKsnZyLs6zMcCAoVTJjY11LC4uIQhbYADECkGrhdNLp7G1tWWDEqRZoBkwNaDlf2O47zNUlIOWrl2XxMo6N/sCKysXsbz8GlqdthXDgEIQtvDyK6cwPTWF1bU1tNptOw8woD2Nkyefx/TMNNbX1xG22uA8HLK2QRji9OklnLjjTnRGRrP5d3N3JzdUVgGOfDIUEVG6j90F9OV2YuNjoxgdG0WcmGobAEHYQtTvI2y1C4tbpEKj1RnBdn8HQZgTJLZCWZdOZwRKeA07ujaBLkkq+xmiyO8Phn3DDG0pLRpb77Yysl3QHsHtx4/hzNllDJPEIau0kkyyrheIt0KRoi2AwPdwbGEByg9BZJ8bLNCVJCktn4c1Y2cY9/WlwTDKE4ebjIo4pzLOZSyV5Wn86aCF2247hsD3s7Z20kvjuXA/O7nCnpc5vTDIdfB9HwsLC2AvtOM50900JkSu5Abi9EA0GMaR7u+kBNig5XtOjvteVYKYobwQtx0/hsAPCiu45DIztNaYHB/D+NhoGn3Cq9wEG/o+jt26ANaBnchqATKMTIhCN5kQDREGwzjydwbDviGC0sp2Ocd13QTj5gvLHb0AYRhiZxgXfXLxfQ833XAUk9PTMJTOoxVjtdfFW+ffAZGp5J8gDEHatzZRudfY4eicBK2EaOtKqQf0/Z1hEhkiaNK1HWXcwBkIAC6cP18b091eD34YWuP4nofjx46BvQCXhsYicWRiGgu3dnD23LIIi1S6vR68IACzqug3f/hIsVK4RnJ1zWMfABJDiOMkUgDw9HOL263QH7Et25xR88GUAp4/+Tx837csBgDa88qyrOKmG49ifHKmUK568mOsrlzEO+++Z/VjMExibK8EkMQx7v34/TDGPkNIb2giJk7i/pNf+tSoDwCGqE/EIxWQtUqWbZRSUFpDe36hmN1XEMqE8clpmMKN6y0zMT2D82+/k50KC0tAaQ2VE59VKG2yuKZqGDYZLpvbGO4D2d8FEmMiw/6+aow74J1Q0KpMbu7EwoAAGKEfIDHZtVZN3sjnVMoHGCBnbpcwAEX2Tz2gOpYEX3pUWkpEUUEAEUeGyHL/3VyoIEep1AL5ZZ0LPicEwDCOYUhYykpYYh+ggDiOs5hvBg8GmAiU/ZeGqcthtm7pJqgkgLlPmXJlQ9elq4mQlAIxgZhKpVwCM6UHgwEu9fsIWu1SIUFm/ry1sQ7OiAVca9qA0vWcYLiqe0mGQ2CJpwwBZi72ApdjUiqklb2ZcRWU1vJ8H/9665+45dbjldwiPeLtC+ehlE5JdazuJsF0s0UgU85Xl19QMV7q9QUBcZJEvufZmVJ2zMvYnsgAuO++e6Hyu/isnQKwuLSEODEy7BBFfbz1xus4ctMtNrFIw+jN15YRJwmU9ixlfd/DidtvL3NN9kHM2EnE3ymEDhVDOKQn2T1ImgQT6ptA5IA8PkXHJs9IqJ4orTWIE4t95XlY39jA2isvYmZ2P0bHxkFMiDY30et14fk+tNIgIsvy7fYItnbiBveuj3Gb4KoXGGOcVcBKgtUTVJ1LyQllrnhj+Rx2hkNorS0LAMiWM41er4uL772b3tP7PvwgTD2hEj6MbrcLYoX984er89WAk/2tsBGkWCFARH0y1AjYcv3KhGJwZrx+7iyGSQKttZ1ThHYMQCkNP2zlMK3jrUTAALQfott9H0liMHfoaG1ukkS75YLLggxispOgEW7XdLysABaTEhFeXz6LxBgorcXeQOKpKXMtXgGRFniej7XVHgylJMj+rvVzD66SInAxRA4wtGWyI1tTrDeFRl7ffe/fiI2BUsoiqeRcKmgrLK3OVn35lnqCj/W1NYyOjqM9PmGPL/u68S/Iyp/JmK2CgGEc91utoARruVRzvEsS9h84CGZCd3XdUjqfd9/MFObm5rCysoL3e2sSdjHeofkDmJiawsrFi+itrltt8ofDhw5hZHwy21RxZZ5aLxM4cklkEowTE9k5wAHvgK3EHgMJGcweOAhDhN7ahqXQvpkZzOyfx6WE4AXtIjykUiZJ0B6bxKWYMb3vAMCM7uqaBeTQgTm0x6cRJ4kAs7u7wyor9Tb2MmgiQ2W3ur+zucBtstKHAQH75g6CiLG6tgEGY//sLKb3zWEQJ3nyycZ3LJVvahgYEjA5ewDEQLe3CgA4OH8ArfFpxMaU4FxXr1jdiX1R6ZwFqJ/vp92dlAW4hiDXMwYEzM7NwxAh8H1MzO7HIDFFG8pd17GKvL0BgAEZTMzMAQCCIEA4NlleuAp0bqy79W6dwFSGADWtAgKg62YoyHJCg4GBYczuPwgCMIzlLXF2TygvNAtPoPQen8vSYUIYnZrNdm5UieO6FcYltk5SA4h9wDCOI2MI+YG7zr0rce+2cQgx5cWws/5yeXiSYxDS052zfBKJuW2c7ov7uBsD9lZ4MIzTe0Gl7IOK+LASTO3OyyVK9BPtWu02bjh6pDIuZeDTM5AFT+otgO7i35fFz0iSpAyBYRxHlBMggNaDtS2UDyh1sciy3hlQHji7LivrMu+gKqi6eL9WyQgQHjAYbibGwNP2xWjVyk7cNZBjfdV6VAmMXbDSo2T5ByjEhDiO14HyR13tx779k7+PjI7eoZTWlC9TXJ71JeDKz15EnXgFJHCrQ30ya+jxX4r81Vr+0zYFQKV/fyCmS9vRq79/6pv3A+grpD+XnQHwAID5a5j5f0lWALwAoJvTFQJoY5dfj3/IhAAMcQ0/ENuTPdmTPdmTD4P8B4AVN3ogd2GmAAAAAElFTkSuQmCC"},c4e0:function(t,e,a){"use strict";a.r(e);var i=(a("03cc"),a("2c07")),s=Object(i.a)({name:"Sys",components:{},provide:function(){return{reload:this.reload}},data:function(){return{IsRouterAlive:!0}},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[],!1,null,"46471048",null);e.default=s.exports},c55b:function(t,e,a){},c742:function(t,e,a){"use strict";a.r(e),a("9e76"),a("cc57"),a("f548");var i={name:"SysUpdate",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{modal1:!1,loadingStatus:null,loadingStatus1:null,file:null,file1:null,firmwaretime:"",coretime:"",coreMD5:"",coreVersion:"",firmwaremd5:"",firmwareversion:"",indeterminate:!1,checkAll:!1,checkAllGroup:[],bagdata:"",uploadurl:"",uploadurl1:"",isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,links:[{name:"系统升级",to:"/sys/update"}],percent:0,progressshow:!1,percent1:0,progressshow1:!1}},mounted:function(){this.getUpgradePackMessageinfo(),this.uploadurl=this.$api.user.softwareUpload.url},methods:{reboot:function(){var t=this;setTimeout((function(){t.$https.fetchGet(t.$api.sys.reboot.url).then((function(t){})),t.$router.replace("/login")}),500)},handleSuccess:function(t,e,a){return!1},handleUpload:function(t){var e=t.name;this.file=t,t.size>=1073741824&&this.handleMaxSize(t);var a=e.match(/^upgrade.rootfs-t/);return a=null!=a&&""!=a,!1},handleUpload1:function(t){var e=t.name;this.file1=t,t.size>=524288e3&&this.handleMaxSize(t);var a=e.match(/^upgrade.vmlinuz-bzImage/);return a=null!=a&&""!=a,!1},firmwareupload:function(t){var e=this;this.progressshow=!0;var a=new FormData;a.append("file",t);var i={headers:{"Content-Type":"multipart/form-data"},timeout:18e4,onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.percent=a}};this.$https.fetchPost(this.$api.user.softwareUpload.url,a,i).then((function(t){200==t.data.status?e.modal1=!0:e.$Notice.error({title:"文件上传失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5}),setTimeout((function(){e.progressshow1=!1}),3e3)}))},coreupload:function(t){var e=this;this.progressshow1=!0;var a=new FormData;a.append("file",t);var i={headers:{"Content-Type":"multipart/form-data"},timeout:18e4,onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.percent1=a}};this.$https.fetchPost(this.$api.user.coreUpload.url,a,i).then((function(t){200==t.data.status?e.modal1=!0:e.$Notice.error({title:"文件上传失败",desc:"错误："+t.data.desc,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5}),setTimeout((function(){e.progressshow1=!1}),3e3)}))},handleMaxSize:function(t){return this.$Notice.error({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 500M。"}),this.file=null,this.file1=null,!1},handleFormatError:function(){return this.$Notice.error({title:"文件格式不正确",desc:"请上传系统升级包",duration:5}),this.file=null,this.file1=null,!1},getUpgradePackMessageinfo:function(){var t=this;this.$https.fetchGet(this.$api.user.getUpgradePackMessage.url).then((function(e){200==e.data.status?(t.bagdata=e.data.data,t.coretime=t.bagdata.coreBuildTime,t.firmwareversion=t.bagdata.softwareVersion,t.firmwaremd5=t.bagdata.softwareMD5,t.coreMD5=t.bagdata.coreMD5,t.firmwaretime=t.bagdata.softwareBuildTime,t.coreVersion=t.bagdata.coreVersion):t.$Notice.error({title:"获取更新包资源失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}}},s=(a("ab14"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n           系统配置\n    ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("固件升级")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("div",{staticStyle:{"margin-left":"15px"},attrs:{value:t.firmwaretime}},[t._v(t._s(t.firmwaretime))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("div",{staticStyle:{"margin-left":"15px"},attrs:{value:t.firmwaremd5}},[t._v(t._s(t.firmwaremd5))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("div",[a("Upload",{staticStyle:{margin:"7px 0 0 15px",width:"200px",height:"40px"},attrs:{multiple:"",type:"drag","before-upload":t.handleUpload,action:t.uploadurl,format:["gz"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-success":t.handleSuccess}},[a("Button",{staticStyle:{width:"100%",height:"100%"},attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击或拖曳选择文件")])],1),null!==t.file?a("div",{staticStyle:{"margin-left":"15px","margin-top":"10px"}},[t._v("您上传的升级包是: "+t._s(t.file.name)+"\n                                        "),a("Button",{staticStyle:{background:"#e86429",color:"white","font-size":"12px"},attrs:{loading:t.loadingStatus},on:{click:function(e){return t.firmwareupload(t.file)}}},[t._v(t._s(t.loadingStatus?"Uploading":"点击上传"))])],1):t._e(),t.progressshow?a("Progress",{staticStyle:{"margin-left":"15px"},attrs:{percent:t.percent,"stroke-width":5}}):t._e()],1)])])])])]),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px","margin-bottom":"15px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("内核升级")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("div",{staticStyle:{"margin-left":"15px"},attrs:{value:t.coretime}},[t._v(t._s(t.coretime))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("div",{staticStyle:{"margin-left":"15px"},attrs:{value:t.coreMD5}},[t._v(t._s(t.coreMD5))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("div",[a("Upload",{staticStyle:{margin:"7px 0 0 15px",width:"200px",height:"40px"},attrs:{multiple:"",type:"drag","before-upload":t.handleUpload1,action:t.uploadurl1,format:["gz"],"max-size":512e3,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-success":t.handleSuccess}},[a("Button",{staticStyle:{width:"100%",height:"100%"},attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击或拖曳选择文件")])],1),null!==t.file1?a("div",{staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t._v("您上传的升级包是: "+t._s(t.file1.name)+"\n                                        "),a("Button",{staticStyle:{background:"#e86429",color:"white","font-size":"12px"},attrs:{loading:t.loadingStatus1},on:{click:function(e){return t.coreupload(t.file1)}}},[t._v(t._s(t.loadingStatus1?"Uploading":"点击上传"))])],1):t._e(),t.progressshow1?a("Progress",{staticStyle:{"margin-left":"15px"},attrs:{percent:t.percent1,"stroke-width":5}}):t._e()],1)])])])])]),a("div",[a("Modal",{attrs:{title:"操作成功"},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("div",{staticStyle:{width:"100%",margin:"0 auto","font-size":"14px"}},[t._v("\n                    升级功能必须重启系统后设备才会完成升级\n                ")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.modal1=!1}}},[t._v("稍后重启")]),a("Button",{attrs:{type:"primary"},on:{click:t.reboot}},[t._v("立即重启")])],1)])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("升级包日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("MD5值:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("固件升级包:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("升级包日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("MD5值:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("内核升级包:")])])}],!1,null,"c9dcbd84",null);e.default=o.exports},c81f:function(t,e,a){"use strict";a.r(e);var i={name:"DataBusinessRegister",components:{jk_tabs:a("25b1").a},data:function(){return{links:[{name:"业务注册",to:"/data/businessRegister"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]},render:function(t,e){return t(BusinessAdd)}}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row box margin-x clear-margin padding-x"},[e("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[e("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[e("jk_tabs",{staticStyle:{float:"left"},attrs:{links:this.links}}),this._m(0)],1)]),this._m(1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("form",{staticClass:"form-inline pull-right",staticStyle:{float:"right"}},[e("div",{staticClass:"btn btn-sm btn-custom add_fontclient",attrs:{"data-toggle":"modal"}},[this._v("添加内网客户端")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{width:"100%",height:"100%",float:"left"}},[a("table",{staticStyle:{width:"100%",height:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("外端服务id:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("服务名称:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("资源类型:")])]),a("td",[a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}},[a("option",[t._v("本地FTP")]),a("option",[t._v("本地SMB")]),a("option",[t._v("本地NFS")]),a("option",[t._v("光盘塔")]),a("option",[t._v("Client")]),a("option",[t._v("认证同步")])])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("目录:")])]),a("td",[a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"}},[a("option")])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("等级:")])]),a("td",[a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"}},[a("option",[t._v("1")]),a("option",[t._v("2")])])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("编码:")])]),a("td",[a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"}},[a("option",[t._v("UTF-8")])])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("显示高级设置:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"checkbox"}})])])]),a("table",{staticStyle:{width:"100%",height:"100%","margin-top":"20px"},attrs:{border:"1"}},[a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("文件同步后所采取的操作:")])]),a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}},[a("option",[t._v("删除")]),a("option",[t._v("复制")])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("后缀名过滤:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("文件特征:")])]),a("td",[a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}},[a("option",[t._v("不审计")]),a("option",[t._v("白名单")]),a("option",[t._v("黑名单")])])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("启用监控目录清理:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"checkbox"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("关键字过滤:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("过滤最小字节数:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("过滤最大字节数:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("开启病毒扫描:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"checkbox"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("病毒文件处理方式:")])]),a("td",[a("select",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}},[a("option",[t._v("删除")]),a("option",[t._v("隔离")])])])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("限速:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"text"}})])]),a("tr",{staticStyle:{width:"100%"}},[a("td",{staticStyle:{width:"25%",height:"28px","border-right":"1px solid gray","background-color":"#eee"}},[a("span",{staticStyle:{float:"right",margin:"5px 10px"}},[t._v("定时同步:")])]),a("td",[a("input",{staticStyle:{width:"40%",height:"28px",margin:"2px 10px"},attrs:{type:"checkbox"}})])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"}},[t._v("确认")])])])])}],!1,null,"1645f24b",null);e.default=o.exports},c85f:function(t,e,a){"use strict";a.r(e);var i={name:"LogSys",components:{jk_tabs:a("25b1").a},data:function(){return{columns:[{title:"序号",key:"id",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"时间",align:"center",key:""},{title:"信息",align:"center",key:""}],indeterminate:!1,checkAll:!1,checkAllGroup:[],loading:!1,data:[],total:0,page:1,size:10,isWhenShow:!0,isDayShow:!1,isWeeksShow:!1,isMonthShow:!1,hours:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],day:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],cycleList:[{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal:"day",cycleList1:[{value:"hours",label:"时"},{value:"day",label:"天"},{value:"weeks",label:"周"},{value:"month",label:"月"}],cycleVal1:"hours",cycleList2:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],cycleVal2:1,cycleList3:[{value:"minutes",label:"分钟"},{value:"hours",label:"小时"},{value:"day",label:"天"}],cycleVal3:"minutes",links:[{name:"系统日志",to:"/logs/logSys"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]}}},methods:{configData:function(t){"day"==t?(this.isDayShow=!0,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!1):"hours"==t?(this.isDayShow=!1,this.isWhenShow=!0,this.isWeeksShow=!1,this.isMonthShow=!1):"weeks"==t?(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!0,this.isMonthShow=!1):"month"==t&&(this.isDayShow=!1,this.isWhenShow=!1,this.isWeeksShow=!1,this.isMonthShow=!0)},overTime:function(t){"minutes"==t?this.cycleList2=this.minutes:"hours"==t?this.cycleList2=this.hours:"day"==t&&(this.cycleList2=this.day)},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["客户端防病毒引擎","客户端应用进程保护","客户端注册表保护"]:this.checkAllGroup=[]},checkAllGroupChange:function(t){3===t.length?(this.indeterminate=!1,this.checkAll=!0):t.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},s=(a("e728"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{width:"250px",float:"left","font-size":"12px"}},[t._v("\n                            信息：\n                            "),a("Input",{staticStyle:{width:"auto"},attrs:{placeholder:""}})],1),a("div",[a("span",{staticStyle:{"font-size":"12px"}},[t._v("时间范围：")]),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"选择日期"}}),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning"}},[t._v("查询")])],1)])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page)+"页")]),a("Page",{staticStyle:{float:"right"},attrs:{current:t.page,total:t.total,"page-size":t.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"c398a3ac",null);e.default=o.exports},c928:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACtklEQVR4Xu2aO2tWQRCGnxSCF4jRziaYFAqKksZLE0FSpLLQX6Cm8xqTRn+BNt41XRJ/gRZWFiJo46WRiIIWMaSx0yh4gRTKyH64HPXsrLvHb8OZheHsYXdnZ94ze3l3Tw8tTz0t9x8DwCIgPwIbgAFPBl2+D1jryTqXFwu+AJ/dU/IiS8BbYN49JS/yIafJOYbAFmA3sA8YAcThJpMAch94CDwF3qR09q8AiJNHgIPA9hQDMrR9CdwBZl20RKmMBWDIOX4Y6I3qqfnKn4BbDojn2u5iABgHLmsVd7neGeCKxgYtADeBYxqFBdWZAo6H7NEAcBY4H1JUaPk54EKdbRoA5oAdhToYMusFsDMVgO+hXgovr/3ImggwAAr/wiHzLAJS54DHwJ4QzIWWPwH2pgJwErhWqIMhs04B11MBkPayqzod6q2w8quA7F5rk2YV6CiQXdWNkMJCyk8AsnsNphgARFmryZCPZocOHwK2BWFutsIr4HaTdHgVsFzjgwAw7El/s/6yCDzyRAD4WwrZrjoUlZ3gJDANfFQ4V8KR2HpgDLgI9T5q5oDOVvg9cAmYAd4pgOhGlU3AUWAC2OgMyL4TlMPKB07uAgvd8NTrczNwANjvRA5f/ZQdgKq/zwAB4h7wWjlMUjCT8N4KjDrHd6Us9TFDQGu0DA8Bwhc5yv4KfHNPyXdE9K6pyGr3LvOJOOuLhHlMSo4A4wLGBYwL/BxyxgWMC/yae40LeOuQcYHKomxcIGaXkrmucQHAuMD/JkPVKDYukHlcp6izewG7F0g5LKi0NS5gXMC4wB8HlHEB4wIpK3XetsYFjAv8HlHJx+Kxf4kZF8g7rJO0GRcwLmBcoB4BzeWor8H+EXJotOpeIDQNl8wFQrar/hEKKimQC6htjp0D1IpXSkUDYKV8qabsbH0E/AA7YxVQA6/r9QAAAABJRU5ErkJggg=="},cb75:function(t,e,a){"use strict";a.r(e);var i={inject:["reload"],name:"LogSettings",components:{jk_tabs:a("25b1").a},data:function(){return{SnmpauthPrivShow:!1,SnmpauthNoPrivShow:!1,SnmpsnmpV3Show:!1,needSyncTables:[],needSyncTablesList:[],passshow:!1,addTitle:!1,disabled_val:!0,start_snmp:!1,start_log:!0,remote_server:[],action:!1,dataFormatTypeList:[{name:"默认类型",value:0},{name:"json类型",value:1},{name:"xml类型",value:2}],encryptTypeList:[{name:"不加密",value:0},{name:"base64加密",value:1},{name:"aes加密",value:2}],links:[{name:"日志常规设置",to:"/logs/logSetting"},{name:"Syslog服务",to:"/logs/logSyslog"},{name:"SNMP Traps服务",to:"/logs/logSnmpTraps"}],SNMPform:{bl:!1,port:null,dev:null,community:null,snmpV3:!1,username:null,level:null,protocol:null,password:null,encrypt:null,encryptString:null},form:{encryptType:0,aesPassword:"",dataFormatType:0,intervalTime:"",needSyncTables:[{action:0,tableName:"",tableChineseName:"",selectType:0,tag:"",tagValue:""}],machines:[{ip:"",port:"",desc:""}]}}},mounted:function(){this.getSNMPinfo()},methods:{getSNMPinfo:function(){var t=this;this.$https.fetchGet(this.$api.log.findSnmpServe.url).then((function(e){if(200==e.data.status){if(t.SNMPform=e.data.data,null==t.SNMPform)return;t.SNMPform.bl?t.disabled_val=!1:t.disabled_val=!0,t.SNMPform.snmpV3?t.SnmpsnmpV3Show=!0:t.SnmpsnmpV3Show=!1,"authNoPriv"==t.SNMPform.level?(t.SnmpauthPrivShow=!0,t.SnmpauthNoPrivShow=!1):"authPriv"==t.SNMPform.level?(t.SnmpauthPrivShow=!0,t.SnmpauthNoPrivShow=!0):(t.SnmpauthPrivShow=!1,t.SnmpauthNoPrivShow=!1)}else t.$Notice.error({title:"获取snmp配置数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},sumbit:function(){var t=this;this.$util.testportnumber(String(this.SNMPform.port))?this.SNMPform.dev?this.SNMPform.community?this.$https.fetchPost(this.$api.log.addSnmpServe.url,this.SNMPform).then((function(e){200==e.data.status?(t.$Notice.success({title:"snmp配置修改成功",desc:e.data.desc,duration:2.5}),setTimeout((function(){t.getSNMPinfo()}),250)):t.$Notice.error({title:"snmp配置修改失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})):this.$Notice.error({title:"修改失败",desc:"共同体不能为空",duration:5}):this.$Notice.error({title:"修改失败",desc:"设备位置不能为空",duration:5}):this.$Notice.error({title:"修改失败",desc:"端口请输入正确的端口格式",duration:5})},passchange:function(t){this.passshow=2==t},getsysloginfo:function(){var t=this;this.$https.fetchGet(this.$api.log.getSysLog.url).then((function(e){if(200==e.data.status){var a=e.data.data;for(var i in t.form=a,1==a.action?t.action=!1:t.action=!0,2==a.encryptType&&(t.passshow=!0),a.needSyncTables)t.needSyncTablesList.push(a.needSyncTables[i])}else t.$Notice.error({title:"获取数据失败",desc:e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},checkaction:function(){var t=this;this.action?this.$https.fetchGet(this.$api.log.action.url).then((function(e){200==e.data.status?(setTimeout((function(){t.getSNMPinfo()}),250),t.$Notice.success({title:"日志记录启动成功",desc:"正在刷新页面",duration:2.5})):(t.action=!1,t.$Notice.error({title:"日志记录启动失败",desc:e.data.desc,duration:5}))})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5}),t.action=!1})):this.$https.fetchGet(this.$api.log.stop.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"日志记录关闭成功",desc:"正在刷新页面",duration:2.5}),setTimeout((function(){t.getSNMPinfo()}),250)):(t.action=!0,t.$Notice.error({title:"日志记录关闭失败",desc:e.data.desc,duration:5}))})).catch((function(e){t.action=!0,t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))},checkSnmpStatus:function(t){this.disabled_val=1==t},checkSnmpsnmpV3:function(t){this.SnmpsnmpV3Show=1!=t},checkSnmplevel:function(t){"authNoPriv"==t?(this.SnmpauthPrivShow=!0,this.SnmpauthNoPrivShow=!1):"authPriv"==t?(this.SnmpauthPrivShow=!0,this.SnmpauthNoPrivShow=!0):(this.SnmpauthPrivShow=!1,this.SnmpauthNoPrivShow=!1)},add_remote_server:function(){this.addTitle=!0,this.remote_server.push({port:514,ip:"",desc:""})},del_remote_server:function(t){this.remote_server.splice(t,1),0==this.remote_server.length&&(this.addTitle=!1)}}},s=(a("a2ca"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},nativeOn:{click:function(e){return t.checkSnmpStatus(t.SNMPform.bl)}},model:{value:t.SNMPform.bl,callback:function(e){t.$set(t.SNMPform,"bl",e)},expression:"SNMPform.bl"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.SNMPform.port,callback:function(e){t.$set(t.SNMPform,"port",e)},expression:"SNMPform.port"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.SNMPform.dev,callback:function(e){t.$set(t.SNMPform,"dev",e)},expression:"SNMPform.dev"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.SNMPform.community,callback:function(e){t.$set(t.SNMPform,"community",e)},expression:"SNMPform.community"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},attrs:{disabled:t.disabled_val},nativeOn:{click:function(e){return t.checkSnmpsnmpV3(t.SNMPform.snmpV3)}},model:{value:t.SNMPform.snmpV3,callback:function(e){t.$set(t.SNMPform,"snmpV3",e)},expression:"SNMPform.snmpV3"}})],1)]),t.SnmpsnmpV3Show?a("tr",{staticStyle:{height:"40px"}},[t._m(5),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.SNMPform.username,callback:function(e){t.$set(t.SNMPform,"username",e)},expression:"SNMPform.username"}})],1)]):t._e(),t.SnmpsnmpV3Show?a("tr",{staticStyle:{height:"40px"}},[t._m(6),a("td",[a("Select",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},on:{"on-change":function(e){return t.checkSnmplevel(t.SNMPform.level)}},model:{value:t.SNMPform.level,callback:function(e){t.$set(t.SNMPform,"level",e)},expression:"SNMPform.level"}},[a("Option",{attrs:{value:"authPriv"}},[t._v("authPriv")]),a("Option",{attrs:{value:"authNoPriv"}},[t._v("authNoPriv")]),a("Option",{attrs:{value:"noAuthNoPriv"}},[t._v("noAuthNoPriv")])],1)],1)]):t._e(),t.SnmpsnmpV3Show&&t.SnmpauthPrivShow?a("tr",{staticStyle:{height:"40px"}},[t._m(7),a("td",[a("Select",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.SNMPform.protocol,callback:function(e){t.$set(t.SNMPform,"protocol",e)},expression:"SNMPform.protocol"}},[a("Option",{attrs:{value:"MD5"}},[t._v("MD5")]),a("Option",{attrs:{value:"SHA"}},[t._v("SHA")])],1)],1)]):t._e(),t.SnmpsnmpV3Show&&t.SnmpauthPrivShow?a("tr",{staticStyle:{height:"40px"}},[t._m(8),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{type:"password",disabled:t.disabled_val},model:{value:t.SNMPform.password,callback:function(e){t.$set(t.SNMPform,"password",e)},expression:"SNMPform.password"}})],1)]):t._e(),t.SnmpsnmpV3Show&&t.SnmpauthNoPrivShow?a("tr",{staticStyle:{height:"40px"}},[t._m(9),a("td",[a("Select",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{disabled:t.disabled_val},model:{value:t.SNMPform.encrypt,callback:function(e){t.$set(t.SNMPform,"encrypt",e)},expression:"SNMPform.encrypt"}},[a("Option",{attrs:{value:"DES"}},[t._v("DES")]),a("Option",{attrs:{value:"AES"}},[t._v("AES")])],1)],1)]):t._e(),t.SnmpsnmpV3Show&&t.SnmpauthNoPrivShow?a("tr",{staticStyle:{height:"40px"}},[t._m(10),a("td",[a("Input",{staticStyle:{width:"150px","margin-left":"15px"},attrs:{type:"password",disabled:t.disabled_val},model:{value:t.SNMPform.encryptString,callback:function(e){t.$set(t.SNMPform,"encryptString",e)},expression:"SNMPform.encryptString"}})],1)]):t._e()])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},attrs:{"data-toggle":"modal"},on:{click:t.sumbit}},[t._v("确认")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("启动SNMP服务器:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("监听端口:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("设备位置:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("共同体:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("SNMPv3:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("用户名:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("安全级别:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("验证协议:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("验证字符串:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("加密协议:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("加密字符串:")])])}],!1,null,"46d832de",null);e.default=o.exports},cd13:function(t,e,a){"use strict";a.r(e),a("cc57");var i=a("25b1"),s={name:"UserConfigAdd",components:{},data:function(){return{platForm:{show:!1,form:{status:!1,name:null,password:null,groupid:"NUM1",confirm:null},rules:{confirm:{required:!0,message:"不能为空",trigger:"blur"},name:{required:!0,message:"不能为空",trigger:"blur"}}},msgText:"",pwd:""}},computed:{},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&(t.pwd?t.pwd==t.platForm.form.confirm?(t.platForm.form.password=t.pwd,t.$https.fetchPost(t.$api.user.addUser.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"用户信息添加成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){location.reload()}),250)):t.$Notice.error({title:"用户信息失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))):t.$Notice.error({title:"新增失败",desc:"两次密码不一致",duration:2.5}):t.$Notice.error({title:"新增失败",desc:"密码不能为空",duration:2.5}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()},checkStrong:function(t){var e=0;if(t.length<1)return e;switch(/\d/.test(t)&&e++,/[a-z]/.test(t)&&e++,/[A-Z]/.test(t)&&e++,/\W/.test(t)&&e++,e){case 1:return 1;case 2:return 2;case 3:case 4:return t.length<4?3:4}return e}},watch:{pwd:function(t,e){this.msgText=this.checkStrong(t),this.msgText>1||1==this.msgText?document.getElementById("one").style.background="red":document.getElementById("one").style.background="#eee",this.msgText>2||2==this.msgText?document.getElementById("two").style.background="orange":document.getElementById("two").style.background="#eee",4==this.msgText?document.getElementById("three").style.background="#00D1B2":document.getElementById("three").style.background="#eee"}}},o=(a("ba43"),a("2c07")),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n            新增\n        ")]),a("Drawer",{attrs:{title:"新增用户配置",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"17px"},attrs:{label:"启用",prop:"subnet"}},[a("Checkbox",{model:{value:t.platForm.form.status,callback:function(e){t.$set(t.platForm.form,"status",e)},expression:"platForm.form.status"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"17px"},attrs:{label:"用户名",prop:"name"}},[a("Input",{model:{value:t.platForm.form.name,callback:function(e){t.$set(t.platForm.form,"name",e)},expression:"platForm.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"17px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),a("div",{staticClass:"input_span"},[a("span",{staticStyle:{margin:"auto"},attrs:{id:"one"}}),a("span",{attrs:{id:"two"}}),a("span",{attrs:{id:"three"}})])],1),a("FormItem",{staticStyle:{"margin-bottom":"17px"},attrs:{label:"确认密码",prop:"confirm"}},[a("Input",{attrs:{type:"password"},model:{value:t.platForm.form.confirm,callback:function(e){t.$set(t.platForm.form,"confirm",e)},expression:"platForm.form.confirm"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"17px"},attrs:{label:"角色",prop:"groupid"}},[a("Select",{model:{value:t.platForm.form.groupid,callback:function(e){t.$set(t.platForm.form,"groupid",e)},expression:"platForm.form.groupid"}},[a("Option",{attrs:{label:"系统管理员",value:"NUM1"}}),a("Option",{attrs:{label:"用户管理员",value:"NUM2"}}),a("Option",{attrs:{label:"日志审计员",value:"NUM3"}})],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"8e245a5c",null).exports,n={name:"UserConfig",components:{jk_tabs:i.a,userAdd:r},data:function(){return{disable:!0,columns1:[{title:"序号",align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"用户名",key:"name",align:"center"},{title:"状态",key:"status",align:"center"},{title:"角色",key:"groupid",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"用户",to:"/user/userConfig"},{name:"角色",to:"/user/userRole"},{name:"密码强度设置",to:"/user/userPwd"}],modal:{show:!1,form:{id:null,status:null,name:null,password:null,groupid:null}},data1:[]}},mounted:function(){this.showProxy()},methods:{showProxy:function(){var t=this;this.$https.fetchGet(this.$api.user.showUser.url).then((function(e){for(var a in t.data1=e.data.data,t.data1)"false"==t.data1[a].status?t.data1[a].status="已禁用":t.data1[a].status="启用中","NUM1"==t.data1[a].groupid?t.data1[a].groupid="系统管理员":"NUM2"==t.data1[a].groupid?t.data1[a].groupid="用户管理员":"NUM3"==t.data1[a].groupid&&(t.data1[a].groupid="日志管理员")})).catch((function(t){}))},deleteFtpProxy:function(t){var e=this;this.$Modal.confirm({title:"删除用户信息",content:"<p>当前操作将会删除用户信息，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.user.delUser.url,{id:t}).then((function(t){200==t.data.status?location.reload():(e.$Modal.remove(),e.$Notice.error({title:"用户信息删除失败",desc:"错误代码："+t.data.desc,duration:5}))})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtpProxy:function(t){this.modal.show=!0,this.modal.form.id=this.data1[t].id,this.modal.form.status=this.data1[t].status,this.modal.form.name=this.data1[t].name,"admin"==this.data1[t].name||"adminuser"==this.data1[t].name||"adminlog"==this.data1[t].name?this.disable=!1:this.disable=!0,"已禁用"==this.data1[t].status?this.modal.form.status=!1:this.modal.form.status=!0,"系统管理员"==this.data1[t].groupid?this.modal.form.groupid="NUM1":"用户管理员"==this.data1[t].groupid?this.modal.form.groupid="NUM2":this.modal.form.groupid="NUM3"},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&("NUM2"!=t.modal.form.groupid||0!=t.modal.form.status?t.$https.fetchPost(t.$api.user.updateUser.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"用户信息修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"用户信息修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})})):t.$Notice.error({title:"用户信息修改失败",desc:"用户管理者无法禁用",duration:2.5}))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("userAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{border:"",size:"small",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtpProxy(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtpProxy(i.id)}}},[t._v("删除")])]}}])})],1)]),a("Drawer",{attrs:{title:"用户配置",width:"50%"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"启用",prop:"subnet"}},[a("Checkbox",{model:{value:t.modal.form.status,callback:function(e){t.$set(t.modal.form,"status",e)},expression:"modal.form.status"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"用户名",prop:"vhid"}},[t.disable?a("Input",{model:{value:t.modal.form.name,callback:function(e){t.$set(t.modal.form,"name",e)},expression:"modal.form.name"}}):t._e(),t.disable?t._e():a("Input",{attrs:{disabled:""},model:{value:t.modal.form.name,callback:function(e){t.$set(t.modal.form,"name",e)},expression:"modal.form.name"}}),a("span",{staticStyle:{color:"red"}},[t._v("*密码不修改请留空")])],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.modal.form.password,callback:function(e){t.$set(t.modal.form,"password",e)},expression:"modal.form.password"}}),a("div",{staticClass:"input_span"},[a("span",{staticStyle:{margin:"auto"},attrs:{id:"one"}}),a("span",{attrs:{id:"two"}}),a("span",{attrs:{id:"three"}})])],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"角色",prop:"password"}},[t.disable?a("Select",{model:{value:t.modal.form.groupid,callback:function(e){t.$set(t.modal.form,"groupid",e)},expression:"modal.form.groupid"}},[a("Option",{attrs:{label:"系统管理员",value:"NUM1"}}),a("Option",{attrs:{label:"用户管理员",value:"NUM2"}}),a("Option",{attrs:{label:"日志审计员",value:"NUM3"}})],1):t._e(),t.disable?t._e():a("Select",{attrs:{disabled:""},model:{value:t.modal.form.groupid,callback:function(e){t.$set(t.modal.form,"groupid",e)},expression:"modal.form.groupid"}},[a("Option",{attrs:{label:"系统管理员",value:"NUM1"}}),a("Option",{attrs:{label:"用户管理员",value:"NUM2"}}),a("Option",{attrs:{label:"日志审计员",value:"NUM3"}})],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"15fe7a06",null);e.default=l.exports},cf1e:function(t,e,a){"use strict";a("b7d4")},cfcb:function(t,e,a){"use strict";a.r(e),a("9e76"),a("cc57");var i={name:"EngineInfo",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{switchloading:!1,single:!1,links:[{name:"杀毒引擎信息",to:"/virus/engineInfo"}],data1:[],virusDataVersion:"",date:"",progressshow:!1,percent:0,file:null,uploadurl:"",loadingStatus:!1}},mounted:function(){this.getinfo()},methods:{virusupload:function(t){var e=this;this.progressshow=!0;var a=new FormData;a.append("file",t);var i={headers:{"Content-Type":"multipart/form-data"},timeout:18e4,onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.percent=a}};this.$https.fetchPost(this.$api.virus.upgradeVirusData.url,a,i).then((function(t){200==t.data.status?(e.$Notice.success({title:"病毒库升级成功",desc:"",duration:2.5}),setTimeout((function(){e.reload()}),250)):e.$Notice.error({title:"病毒库升级失败",desc:"错误："+t.data.status,duration:5})})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5}),setTimeout((function(){e.progressshow1=!1}),3e3)}))},handleMaxSize:function(t){return this.$Notice.error({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 500M。"}),this.file=null,this.file1=null,!1},handleFormatError:function(){return this.$Notice.error({title:"文件格式不正确",desc:"请上传病毒库升级包",duration:2.5}),this.file=null,this.file1=null,!1},handleSuccess:function(t,e,a){return!1},handleUpload:function(t){var e=t.name;return this.file=t,t.size>=1073741824&&this.handleMaxSize(t),e.match(/.cvd$/)||e.match(/.cld$/)||this.handleFormatError(t),!1},statuschange:function(){var t=this;this.switchloading=!0,this.single?this.$https.fetchGet(this.$api.virus.startVirusCheck.url).then((function(e){200==e.data.status?(t.$Message.info("开启病毒库引擎成功"),setTimeout((function(){t.reload()}),250)):(t.$Notice.error({title:"关闭病毒库引擎失败",desc:e.data.desc,duration:2.5}),t.single=!1,t.switchloading=!1)})).catch((function(t){this.single=!1,this.switchloading=!1,this.$Notice.error({title:"关闭病毒库引擎失败",desc:resp.data.desc,duration:2.5})})):this.$https.fetchGet(this.$api.virus.stopVirusCheck.url).then((function(e){200==e.data.status?(t.$Message.info("关闭病毒库引擎成功"),setTimeout((function(){t.reload()}),250)):(t.$Notice.error({title:"关闭病毒库引擎失败",desc:e.data.desc,duration:2.5}),t.single=!0,t.switchloading=!1)})).catch((function(t){this.single=!0,this.switchloading=!1,this.$Notice.error({title:"关闭病毒库引擎失败",desc:resp.data.desc,duration:2.5})}))},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.virus.getVirusDataMessage.url).then((function(e){var a=e.data.data;t.virusDataVersion=a.virusDataVersion,t.date=a.updateTime,0==a.action&&(t.single=!0)})).catch((function(t){}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.date))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.virusDataVersion))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("div",[a("Upload",{staticStyle:{margin:"7px 0 0 15px",width:"200px",height:"40px"},attrs:{multiple:"",type:"drag","before-upload":t.handleUpload,action:t.uploadurl,format:["gz"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-success":t.handleSuccess}},[a("Button",{staticStyle:{width:"100%",height:"100%"},attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击或拖曳选择文件")])],1),null!==t.file?a("div",{staticStyle:{"margin-left":"15px","margin-top":"10px"}},[t._v("您上传的升级包是: "+t._s(t.file.name)+"\n                                            "),a("Button",{staticStyle:{background:"#e86429",color:"white","font-size":"12px"},attrs:{loading:t.loadingStatus},on:{click:function(e){return t.virusupload(t.file)}}},[t._v(t._s(t.loadingStatus?"Uploading":"点击上传"))])],1):t._e(),t.progressshow?a("Progress",{staticStyle:{"margin-left":"15px"},attrs:{percent:t.percent,"stroke-width":5}}):t._e()],1)])]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("i-switch",{staticStyle:{"margin-left":"12px"},attrs:{loading:t.switchloading,size:"large"},on:{"on-change":t.statuschange},model:{value:t.single,callback:function(e){t.single=e},expression:"single"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("span",{staticStyle:{"margin-left":"12px",color:"red","font-size":"12px"}},[t._v("注意:启停时请先检查文件同步业务中是否有启用病毒扫描功能，以免产生同步过程中病毒查杀功能失效")])],1)])]),a("div")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("病毒库日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("病毒库版本:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("升级病毒库:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("启动杀毒引擎:")])])}],!1,null,"e6787d32",null);e.default=o.exports},d072:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"NetworkIpOrMacAdd",components:{},inject:["reload"],data:function(){return{platForm:{show:!1,form:{ipaddr:"",mac:"",desc:""},rules:{mac:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,message:"请正确输入mac地址",trigger:"blur",pattern:/^[A-F0-9]{2}([-:]?[A-F0-9]{2})([-:.]?[A-F0-9]{2})([-:]?[A-F0-9]{2})([-:.]?[A-F0-9]{2})([-:]?[A-F0-9]{2})$/}],ipaddr:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}]}}}},computed:{},mounted:function(){},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.network.addIpMac.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"ip/mac添加成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"ip/mac添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"新建IP/MAC绑定",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("div",{staticStyle:{"margin-left":"80px",color:"red"}},[t._v("注意，如果您填写的IP地址与MAC地址不是您现在使用电脑相匹配的地址，修改成功后系统会退回登陆界面")]),a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":120}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"IP地址",prop:"ipaddr"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.ipaddr,callback:function(e){t.$set(t.platForm.form,"ipaddr",e)},expression:"platForm.form.ipaddr"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"MAC地址",prop:"mac"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.mac,callback:function(e){t.$set(t.platForm.form,"mac",e)},expression:"platForm.form.mac"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"描述",prop:"desc"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.desc,callback:function(e){t.$set(t.platForm.form,"desc",e)},expression:"platForm.form.desc"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"10fb3076",null).exports,n={name:"NetworkIpOrMac",components:{jk_tabs:i.a,ipormac_add:r},inject:["reload"],data:function(){return{columns1:[{title:"序号",key:"",align:"center",width:63,render:function(t,e){return t("span",e.index+1)}},{title:"描述",align:"center",key:"desc"},{title:"IP地址",align:"center",key:"ipaddr"},{title:"MAC地址",align:"center",key:"mac"},{title:"操作",align:"center",slot:"action"}],links:[{name:"IP/MAC绑定",to:"/network/ipormac"}],platForm:{show:!1,form:{ipaddr:"",mac:"",desc:""},rules:{mac:{required:!0,message:"请填写mac地址"},ipaddr:{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])|(\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*)|(^$)$/,message:"请输入ipv4或ipv6格式",trigger:"blur"}}},data1:[]}},mounted:function(){this.getinfo()},methods:{getinfo:function(){var t=this;this.$https.fetchGet(this.$api.network.findIpMac.url).then((function(e){200==e.data.status?t.data1=e.data.data:t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},showAddDrawer:function(){this.platForm.show=!0},updateIpMac:function(t){this.platForm.show=!0,this.platForm.form.desc=this.data1[t].desc,this.platForm.form.id=this.data1[t].id,this.platForm.form.ipaddr=this.data1[t].ipaddr,this.platForm.form.mac=this.data1[t].mac},deleteIpMac:function(t,e){var a=this;this.$Modal.confirm({title:"删除ip/mac规则",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchPost(a.$api.network.delIpMac.url,{key:t}).then((function(t){200==t.data.status?(a.$Notice.success({title:"ip/mac删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"ip/mac删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.network.updateIpMac.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"ip/mac修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"ip/mac修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("ipormac_add",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateIpMac(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteIpMac(i.id,s)}}},[t._v("删除")])]}}])})],1)]),a("Drawer",{attrs:{title:"编辑IP/MAC绑定",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("div",{staticStyle:{"margin-left":"80px",color:"red"}},[t._v("注意，如果您填写的IP地址与MAC地址不是您现在使用电脑相匹配的地址，修改成功后系统会退回登陆界面")]),a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":120}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"IP地址",prop:"ipaddr"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.ipaddr,callback:function(e){t.$set(t.platForm.form,"ipaddr",e)},expression:"platForm.form.ipaddr"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"MAC地址",prop:"mac"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.mac,callback:function(e){t.$set(t.platForm.form,"mac",e)},expression:"platForm.form.mac"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"描述",prop:"desc"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.desc,callback:function(e){t.$set(t.platForm.form,"desc",e)},expression:"platForm.form.desc"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"2a77643a",null);e.default=l.exports},d105:function(t,e,a){"use strict";a.r(e);var i={name:"SysTime",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{links:[{name:"设置系统时间",to:"/sys/time"}],tap:{items:[{no:"1",uname:"fyb",directory:"/fyb",state:"运行中"}]},value1:new Date,value2:"",date:new Date}},methods:{setZero:function(t){return t<10?"0"+t:t},submit:function(){var t=this;this.value1=this.date;var e={time:this.value1};e.time=this.$util.time_format(e.time,"yyyy-MM-dd hh:mm:ss"),this.$https.fetchPost(this.$api.user.changTime.url,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"同步到系统时间成功",desc:e.data.desc,duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"更改系统时间失败",desc:e.data.desc,duration:5})})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2.5})}))},submittime:function(){var t=this,e={time:this.value1};e.time=this.$util.time_format(e.time,"yyyy-MM-dd hh:mm:ss"),this.$https.fetchPost(this.$api.user.changTime.url,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"同步到系统时间成功",desc:e.data.desc,duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"更改系统时间失败",desc:e.data.desc,duration:5})})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2.5})}))},findTime:function(){var t=this;this.$https.fetchGet(this.$api.user.findTime.url).then((function(e){if(200==e.data.status){var a=new Date(e.data.data);t.value1=a}else t.$Notice.error({title:"获取系统时间失败",desc:e.data.desc,duration:5})})).catch((function(t){}))}},mounted:function(){var t=this;this.timer=setInterval((function(){t.date=new Date}),1e3),this.findTime()},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},filters:{formatDate:function(t,e){var a="";return a+=e.setZero(t.getFullYear())+"年",a+=e.setZero(t.getMonth()+1)+"月",a+=e.setZero(t.getDate())+"日",a+=" "+["星期天","星期一","星期二","星期三","星期四","星期五","星期六"][t.getDay()],a+=" "+e.setZero(t.getHours())+":",(a+=" "+e.setZero(t.getMinutes())+":")+e.setZero(t.getSeconds())}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("系统时间")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("DatePicker",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])])])]),a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative",float:"left","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"140px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("从管理机更新时间")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v(t._s(t._f("formatDate")(t.date,this)))])])]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",[a("a",{staticStyle:{"margin-left":"15px","font-size":"12px"},on:{click:t.submit}},[t._v("同步到系统时间")])])])])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},on:{click:t.submittime}},[t._v("确认")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("系统日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("管理机当前时间:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("从管理机更新时间:")])])}],!1,null,"ffefe5aa",null);e.default=o.exports},d1c3:function(t,e,a){"use strict";a.r(e);var i={props:{text:Object},name:"Echarts",data:function(){return{option:{},arr:[],i:0,yAxis:"",yAxis1:"",times:[],index:0,last:{},timestamp:"",num1:0,num:0,num3:0,num4:0}},methods:{setOption:function(t){var e=t.date,a=this.$util.time_stamp2time_date(new Date).format("hh:mm:ss");if(this.times.push(a),this.arr.push(t),this.times.length>=30&&(this.i=28,this.times.shift()),this.arr.length>=30&&(this.arr.shift(),this.option.series[0].data.splice(0,1),this.option.series[1].data.splice(0,1)),0!=this.i){var i=0,s=0,o=0,r=0;for(var n in this.arr[this.i].flow)i+=this.arr[this.i].flow[n].bytesSend;for(var l in this.arr[this.i-1].flow)s+=this.arr[this.i-1].flow[l].bytesSend;var c=(i-s)/3;for(var d in c=c.toFixed(2),this.option.series[0].data.push(c),this.arr[this.i].flow)o+=this.arr[this.i].flow[d].bytesRecv;for(var m in this.arr[this.i-1].flow)r+=this.arr[this.i-1].flow[m].bytesRecv;var p=(o-r)/3;this.timestamp=e,p=p.toFixed(2),this.option.series[1].data.push(p),this.$set(this.option.xAxis[0],"data",this.times),this.$set(this.option.xAxis[1],"data",this.times),this.$echarts.init(document.getElementById("main")).setOption(this.option)}},myEcharts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.$echarts.init(document.getElementById("main"));this.option={title:{subtext:"上下行流量统计图",left:"center"},tooltip:{trigger:"axis",axisPointer:{animation:!1},formatter:function(t){var e=t[0],a=1048576,i=1073741824,s=1099511627776;return e.data<1024?e.data=e.data+"/B":e.data>=1024&&e.data<a?e.data=(e.data/1024).toFixed(2)+"/KB":e.data>=a&&e.data<i?e.data=(e.data/a).toFixed(2)+"/MB":e.data>=i&&e.data<s?e.data=(e.data/i).toFixed(2)+"/GB":e.data>=s&&(e.data=(e.data/s).toFixed(2)+"/TB"),e.data}},legend:{data:["上行流量","下行流量"],left:10},toolbox:{show:!1,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},axisPointer:{link:{xAxisIndex:"all"}},dataZoom:[],grid:[{left:50,right:50,height:"25%"},{left:50,right:50,top:"45%",height:"25%"}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:t},{gridIndex:1,type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:t,position:"top"}],yAxis:[{type:"value",axisLabel:{formatter:function(t){var e=1048576,a=1073741824,i=1099511627776;return t<1024?t+="/B":t>=1024&&t<e?t=(t/1024).toFixed(1)+"/KB":t>=e&&t<a?t=(t/e).toFixed(1)+"/MB":t>=a&&t<i?t=(t/a).toFixed(1)+"/GB":t>=i&&(t=(t/i).toFixed(1)+"/TB"),t}}},{gridIndex:1,type:"value",axisLabel:{formatter:function(t){var e=1048576,a=1073741824,i=1099511627776;return t<1024?t+="/B":t>=1024&&t<e?t=(t/1024).toFixed(1)+"/KB":t>=e&&t<a?t=(t/e).toFixed(1)+"/MB":t>=a&&t<i?t=(t/a).toFixed(1)+"/GB":t>=i&&(t=(t/i).toFixed(1)+"/TB"),t}},inverse:!0}],series:[{name:"上行流量",type:"line",symbolSize:8,hoverAnimation:!1,data:[]},{name:"下行流量",type:"line",xAxisIndex:1,yAxisIndex:1,symbolSize:8,hoverAnimation:!1,data:[]}]},e.setOption(this.option)}},mounted:function(){this.myEcharts()},watch:{text:function(t,e){this.data=_.cloneDeep(t),0==this.i&&this.myEcharts(t),this.setOption(this.data),this.i++}}},s=a("2c07"),o=Object(s.a)(i,(function(){return this.$createElement,this._self._c,this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Echarts"},[e("div",{staticStyle:{width:"100%",height:"550px","font-size":"12px"},attrs:{id:"main"}})])}],!1,null,null,null);e.default=o.exports},d31d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEt0lEQVR4Xu2bX2hbVRzHP7/btHVKymhRZ21BQSvoizDFbeKo/8A+KcJEUMacJpnD4ZtPgp34Kvi33WIpxSkM9+JbhaKODVYHjimIYlScKMyXdpIoXTtyf3JO2qztktyb3Jv0ltwDh5s2v/P78z1/8jvfc67Q5kXaPH5iAOIR0GIEdD9JuujBJUmRHjroQihQJE83ea6QlyxXWuVWqFNAh0kwxHaEB3HZjcMtKD1AEspP79iEBZQCkLdVySOcRjlFgnMyziVvJf4kAgGg++mng/tw2I6yA3gI2OLPdCCps8AZlHMk+FbG+blRbQ0BoBmeRHkWbN34InyFy3GKHJdJO3J8l7oA0Ax7UV4B7vdtobWCfwBZFnhXjvGfH9O+ANAMd6O8DTzhR2kEZH4A3pQsJ7x88QRgOfjPgHu8lEXw+2e8QPAGIMU4woEIBufHpQuS5fZagn4A+Bph2I+1SMq4PCwTnKzmWwyAV69pingExFMgXgPaeRHM8A7Kq15rRUS/z0mWu4L9DJaywPZNhAx6bZ0Krx4+bbsZWj+H2mo7rBmel6N8Umkh0QPcivKArZTrdS1YEM+jGFLkrHnKBD9V9C/FEEp/GKnwNpS35CM+rRWcjpLgIruAnSi7EEy7cCgxmLUs0CKz8jFzNf3IsBNIo+wj1L2A8g0wiTItE/zVSE83ixTVPXSwlRGEvcCesm+hArA2YtMjBpAvucSMnGCpEUCCtNFD9HCZpxEeB5us9V+jr4kArLWlnETIofwC5OznfnIyihskSPszfIhuFhnAZZAOBlAGgMeARz11twyA6p78BvwOdt7O2yrM4zKPwxwuCzj04dKHLFelD2y9GWUQ4UbPQKsJRACAhn0PpWEMQMwIxZRYGIlQTIqGsiBthJLAi2BMiMSESIkQcflwE7HDF4DXvI7FzIz0PBhZQ4ikGQXe2Iip7NumMIVwWI5gQPAsdQFg8/KD3EGREZQRsDUKxXADXwDTkrU8ge/iCYAeZFDG+LOSxqgTIrbDXmI4eB7g8CMO73ldRYkMIZKm0/ICyuu4vBAcgKsnQx/gMClHOO97jK0TbBYhYnt7H9vosoTIy8Bt1nTgPKDy4WiJDFFO08mMjPFvo4AEbWeGOA7DCDtQS4UZCu5qaRIA6/0+A8yUiZAucvK+veIWWtHSsL4TZQhs3b18K21twOsttgiAawMV/sYts0OGEFkhQuYsIeIwT4F5bmCBJfroptcSI8VVpIhY5scwuybgmjc9qiK9YQCE1vcBFcUAxIRITIiEmQcEnJAb0DxeA4KuAWmO2nO2zVkKLHGTTHG5mvvem6G0PWczN0Q2YzksWbuFr1o8AbA5dgmELLB1E6HgGbyJxRcAFoQU9yKWDHkq4iB8B5jgP/fjp28AVpRpiudwyoRIrx8jLZKZRphmkWMyxT9+bdYNQBmIF+klwSPlmyGlWyJdfg2HIPf9yg0ROjklY/zaiM6GAVhvTNNcv3wrxGxJzS0RU2vv1Orz2Ow4ZxH7rtCsZLlYX/PK0qEBUEm9BcW8HtdBD0oS174mV3o6JO3/hG77VphDniIF+zR/J8izRIEt5MPeWq/2takAhNFDzdYRA9BshKOuv+1HwP/s8QxfHD1RsAAAAABJRU5ErkJggg=="},d3d8:function(t,e,a){},d504:function(t,e,a){"use strict";a.r(e),a("cc57"),a("f548");var i=a("5e7e"),s={data:function(){var t=this;return{title:"",modal:!1,users:null,loading:!0,login:{password:"",newPassWord:"",repeatPwd:"",name:""},rule:{password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassWord:[{required:!0,message:"请输入新密码",trigger:"blur"}],repeatPwd:[{required:!0,message:"请输入确认密码",trigger:"blur"},{required:!1,trigger:"blur",validator:function(e,a,i){t.login.newPassWord!=a?i(new Error("新密码和确认密码不一致")):i()}}]}}},mounted:function(){this.showPermission(),this.gettile()},methods:{toSysinfo:function(t){this.$router.push({path:t}),i.a.$emit("demo1",t)},gettile:function(){var t=this;this.$https.fetchPost(this.$api.sys.getSystemName.url).then((function(e){t.title=e.data.data})).catch((function(t){}))},showPermission:function(){var t=this.$storage.getStorage("users");null!=t&&(t=t.replace('"',"").replace('"',"")),this.users="admins"==t?"系统管理员":"logauditor"==t?"日志管理员":"用户管理员"},logout:function(){var t=this;this.$https.fetchGet(this.$api.user.cleanSession.url).then((function(e){200==e.data.status&&(sessionStorage.removeItem("user"),t.$Notice.info({title:"退出成功"}),t.$router.push({path:"/login"}))})).catch((function(t){}))},updatePass:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.login.name=t.$storage.getStorage("username"),t.$https.fetchPost(t.$api.user.updatePassWord.url,{name:JSON.parse(t.login.name),password:t.login.password,newPassWord:t.login.newPassWord}).then((function(e){200==e.data.status?(t.$Notice.success({title:"修改成功",desc:"请重新登录"}),t.logout()):t.$Notice.error({title:"修改失败",desc:e.data.data})})).catch((function(t){})))}))},cancel:function(){this.$refs.form.resetFields()},reboot:function(){var t=this;this.$Modal.confirm({title:"注意:重启系统将中断当前操作，请谨慎操作",content:"<p>确定要重启系统吗</p>",loading:!0,onOk:function(){t.$Notice.success({title:"正在重启系统",desc:"5秒后退出至登陆页面",duration:5}),t.$Modal.remove(),setTimeout((function(){t.$https.fetchGet(t.$api.sys.reboot.url).then((function(t){})),t.$router.replace("/login")}),5e3)}})},shutdown:function(){var t=this;this.$Modal.confirm({title:"注意:关闭系统将中断当前操作，请谨慎操作",content:"<p>确定要关闭系统吗</p>",loading:!0,onOk:function(){t.$Notice.success({title:"正在关闭系统",desc:"5秒后退出至登陆页面",duration:5}),t.$Modal.remove(),setTimeout((function(){t.$https.fetchGet(t.$api.user.systemStop.url).then((function(t){})),t.$router.replace("/login")}),5e3)}})}}},o=(a("e9c2"),a("2c07")),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav"},[i("img",{staticClass:"nav-log",staticStyle:{cursor:"pointer"},attrs:{src:a("5b62")},on:{click:function(e){return t.toSysinfo("/sys/info")}}}),i("h3",{staticClass:"nav-title"},[t._v(t._s(this.title))]),i("Dropdown",{staticClass:"nav-dropdown",style:{float:"right",margin:"27px 30px  27px 40px"},attrs:{trigger:"click"}},[i("a",{staticStyle:{"font-size":"14px"},attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.users)+"\n                "),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("DropdownItem",{nativeOn:{click:function(e){return t.reboot(e)}}},[i("div",{staticStyle:{width:"100%",height:"100%"}},[t._v("重启系统")])]),i("DropdownItem",{nativeOn:{click:function(e){return t.shutdown(e)}}},[i("div",{staticStyle:{width:"100%",height:"100%"}},[t._v("关闭系统")])]),i("DropdownItem",{nativeOn:{click:function(e){t.modal=!0}}},[i("div",{staticStyle:{width:"100%",height:"100%"}},[t._v("修改密码")])]),i("DropdownItem",{nativeOn:{click:function(e){return t.logout(e)}}},[i("div",{staticStyle:{width:"100%",height:"100%"}},[t._v("退出")])])],1)],1),i("Modal",{attrs:{title:"修改当前用户密码",width:"300"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[i("Form",{ref:"form",attrs:{model:t.login,rules:t.rule}},[i("FormItem",{attrs:{prop:"password"}},[i("Input",{attrs:{prefix:"md-person",type:"password",placeholder:"原密码"},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),i("FormItem",{attrs:{prop:"newPassWord"}},[i("Input",{attrs:{prefix:"md-lock",type:"password",placeholder:"新密码"},model:{value:t.login.newPassWord,callback:function(e){t.$set(t.login,"newPassWord",e)},expression:"login.newPassWord"}})],1),i("FormItem",{attrs:{prop:"repeatPwd"}},[i("Input",{attrs:{prefix:"md-lock",type:"password",placeholder:"确认密码"},model:{value:t.login.repeatPwd,callback:function(e){t.$set(t.login,"repeatPwd",e)},expression:"login.repeatPwd"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{on:{click:t.cancel}},[t._v("重置")]),i("Button",{attrs:{type:"primary"},on:{click:t.updatePass}},[t._v("确定")])],1)],1)],1)}),[],!1,null,"500f63a6",null).exports,n={name:"NetworkGateway",components:{},data:function(){return{tap:{items:[{to:"/sys/info",title:"首页",type:"md-home"},{to:"/network/interface",title:"接口配置",type:"md-git-network"},{to:"/network/gateway",title:"网关设置",type:"md-git-pull-request"},{to:"/local/ftp",title:"FTP服务",type:"md-create"},{to:"/local/smb",title:"SMB服务",type:"md-list-box"},{to:"/data/test2",title:"数据同步",type:"md-sync"},{to:"/logs/logSys",title:"日志与审计",type:"md-list-box"},{to:"/user/userConfig",title:"用户配置",type:"ios-contact"}],select:0}}},methods:{quick:function(t){this.$router.push({path:t}),i.a.$emit("demo1",t)},functionA:function(t){i.a.$emit("demo","qqq")}},mounted:function(){var t=this.$storage.getStorage("users");null!=t&&(t=t.replace('"',"").replace('"',"")),"admins"==t?this.tap.items.splice(6,2):"logauditor"==t?(this.tap.items.splice(0,6),this.tap.items.splice(1,1)):this.tap.items.splice(0,7)}},l=(a("771f"),Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[a("ul",{staticClass:"nav-items"},t._l(t.tap.items,(function(e,i){return a("li",{key:i},[a("div",{on:{click:function(a){return t.quick(e.to)}}},[a("Icon",{staticStyle:{"margin-bottom":"5px","font-size":"24px"},attrs:{type:e.type}}),a("br"),a("span",{staticStyle:{"font-size":"13px"}},[t._v(t._s(e.title))])],1)])})),0)])}),[],!1,null,"c1bb94de",null).exports),c=(a("9a33"),{name:"Nav4",data:function(){return{adminStatus:!0,logStatus:!0,userStatus:!0,value2:["sys"],value3:"info",links1:[{name:"系统状态",to:"/sys/info",no:"info"},{name:"系统时间",to:"/sys/time",no:"time"},{name:"系统维护",to:"/sys/maintain",no:"maintain"},{name:"登录设置",to:"/sys/loggingSettings",no:"loggingSettings"},{name:"备份/恢复",to:"/sys/backupRecovery",no:"backupRecovery"},{name:"系统升级",to:"/sys/update",no:"update"},{name:"设备信息",to:"/sys/equipmentInfo",no:"equipmentInfo"},{name:"诊断工具",to:"/sys/toolPing",no:"toolPing"},{name:"授权验证",to:"/sys/license",no:"license"}],links2:[{name:"接口配置",to:"/network/interface",no:"interface"},{name:"网关设置",to:"/network/gateway",no:"gateway"},{name:"静态路由",to:"/network/route",no:"route"},{name:"通道设置",to:"/network/channel",no:"channel"},{name:"IP/MAC绑定",to:"/network/ipormac",no:"ipormac"}],links3:[{name:"双机热备",to:"/availability/carpSetting",no:"carpSetting"},{name:"虚拟IP",to:"/availability/virtual",no:"virtual"}],links4:[{name:"通信访问控制",to:"/local/acl",no:"acl"},{name:"FTP服务",to:"/local/ftp",no:"ftp"},{name:"SMB服务",to:"/local/smb",no:"smb"},{name:"SFTP服务",to:"/local/sftp",no:"sftp"},{name:"可信接入认证",to:"/local/trust",no:"trust"},{name:"邮件服务",to:"/local/mail",no:"mail"}],links5:[{name:"数据资源",to:"/data/resources",no:"resources"},{name:"数据库系统配置",to:"/data/comm",no:"comm"},{name:"业务注册",to:"/data/businessRegister",no:"businessRegister"},{name:"业务与服务管理",to:"/data/test2",no:"test2"}],links6:[{name:"引擎信息",to:"/virus/engineInfo",no:"engineInfo"},{name:"隔离区管理",to:"/virus/isolation",no:"isolation"}],links7:[{name:"FTP 代理配置",to:"/test/ftpProxy",no:"ftpProxy"},{name:"文件同步过滤策略",to:"/test/fileSyncFilter",no:"fileSyncFilter"},{name:"FTP 代理参数配置",to:"/test/ftpProxyParameter",no:"ftpProxyParameter"},{name:"发送参数配置",to:"/test/sendParameter",no:"sendParameter"},{name:"任务配置",to:"/test/taskConfig",no:"taskConfig"}],links8:[{name:"管理操作日志",to:"/logs/logCommond",no:"logCommond"},{name:"数据库抽取日志",to:"/logs/logDbExtractInfo",no:"logDbExtractInfo"},{name:"数据库基本信息日志",to:"/logs/logDbMessage",no:"logDbMessage"},{name:"文件同步日志",to:"/logs/logFileMonitor",no:"logFileMonitor"},{name:"文件同步异常日志",to:"/logs/LogFileCommond",no:"LogFileCommond"},{name:"通道操作日志",to:"/logs/logFileChannel",no:"logFileChannel"},{name:"告警日志",to:"/logs/logFileWarning",no:"logFileWarning"},{name:"日志管理设置",to:"/logs/logSetting",no:"logSetting"}],links9:[{name:"用户配置",to:"/user/userConfig",no:"userConfig"}],links10:[{name:"通道服务",to:"/test/ceshitest",no:"ceshitest"}]}},watch:{openNames:function(){var t=this;this.$nextTick((function(){t.$refs.side_menu.updateOpened(),t.$refs.side_menu.updateActiveName()}))}},mounted:function(){this.checkUserAuthority(null);var t=this;i.a.$on("demo1",(function(e){t.checkUserAuthority(e)}))},methods:{checkUserAuthority:function(t){if(this.$route.path.indexOf("logs")>-1?this.logStatus=!1:this.$route.path.indexOf("user")>-1?this.userStatus=!1:this.adminStatus=!1,null==t){var e=this.$route.path.split("/");this.value2=[e[1]],this.value3=e[2],this.openNames()}else{var a=t.split("/");this.value2=[a[1]],this.value3=a[2],this.openNames()}},openNames:function(){var t=this;this.$nextTick((function(){t.$refs.side_menu.updateOpened()}))},quick:function(t){this.$router.push({path:t})}}}),d=(a("dbff"),{name:"Index",components:{jk_nav:r,"v-nav1":l,"v-nav4":Object(o.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Menu",{ref:"side_menu",attrs:{"active-name":t.value3,theme:"dark",width:"auto",accordion:"","open-names":t.value2}},[a("Submenu",{class:{adminShow:t.adminStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"sys"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-settings"}}),t._v("\n                        系统配置\n                    ")],1),t._l(t.links1,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{adminShow:t.adminStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"network"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-keypad"}}),t._v("\n                        网络配置\n                    ")],1),t._l(t.links2,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{adminShow:t.adminStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"availability"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-alert-outline"}}),t._v("\n                        高可用性\n                    ")],1),t._l(t.links3,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{adminShow:t.adminStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"local"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-albums-outline"}}),t._v("\n                        本地服务\n                    ")],1),t._l(t.links4,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{adminShow:t.adminStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"data"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-sync"}}),t._v("\n                        数据同步\n                    ")],1),t._l(t.links5,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{adminShow:t.adminStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"virus"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-umbrella-outline"}}),t._v("\n                        病毒库管理\n                    ")],1),t._l(t.links6,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{logShow:t.logStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"logs"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n                        日志与审计\n                    ")],1),t._l(t.links8,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2),a("Submenu",{class:{userShow:t.userStatus},staticStyle:{"background-color":"#293949","font-size":"12px"},attrs:{name:"user"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n                        系统配置\n                    ")],1),t._l(t.links9,(function(e,i){return a("MenuItem",{key:i,staticStyle:{"padding-left":"25px",background:"#23313f !important","font-size":"12px"},attrs:{name:e.no},nativeOn:{click:function(a){return t.quick(e.to)}}},[a("Icon",{attrs:{type:"ios-arrow-forward"}}),t._v(t._s(e.name))],1)}))],2)],1)],1)}),[],!1,null,"6e0c21eb",null).exports}}),m=(a("f416"),Object(o.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("jk_nav"),e("div",{staticStyle:{display:"flex"}},[e("v-nav4"),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)],1)}),[],!1,null,"06291055",null));e.default=m.exports},daff:function(t,e,a){},dba2:function(t,e,a){"use strict";a.r(e);var i={name:"SysLogin",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){return{ishostclick:!1,value8:"",hostList:"允许远程管理主机列表",ishostShow:!1,form:{logfail_count:"",logfail_timeout:"",session_timeout:"",is_cert:!1,the_blacklist:"",white_list:""},links:[{name:"登录设置",to:"/sys/loggingSettings"}]}},mounted:function(){this.getinfo()},methods:{hostListchange:function(){},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.user.findSessionInfo.url).then((function(e){200==e.data.status?("true"==e.data.data.is_cert?e.data.data.is_cert=!0:e.data.data.is_cert=!1,t.form=e.data.data,(t.form.the_blacklist||t.form.white_list)&&(t.ishostclick=!0,t.ishostShow=!0,t.form.the_blacklist?(t.value8=t.form.the_blacklist,t.hostList="禁止远程管理主机列表"):t.form.white_list&&(t.value8=t.form.white_list,t.hostList="允许远程管理主机列表"))):t.$Notice.error({title:"获取更新包资源失败",desc:"错误:"+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},configData:function(t){var e=t.target.checked;this.ishostShow=!!e,this.value8=""},submit:function(){var t=this;this.$util.queryNum(this.form.session_timeout)?this.$util.queryNum(this.form.logfail_count)?this.$util.queryNum(this.form.logfail_timeout)?(this.form.the_blacklist="",this.form.white_list="","允许远程管理主机列表"==this.hostList&&this.ishostShow?this.form.white_list=this.value8:"禁止远程管理主机列表"==this.hostList&&this.ishostShow&&(this.form.the_blacklist=this.value8),this.$https.fetchPost(this.$api.user.updateSession.url,this.form).then((function(e){200==e.data.status?(t.$Message.success("修改成功"),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"修改失败",desc:"错误:"+e.data.desc,duration:5})})).catch((function(t){}))):this.$Notice.error({title:"修改失败",desc:"封锁IP时间请填写正整数",duration:5}):this.$Notice.error({title:"修改失败",desc:"登录可尝试次数请填写正整数",duration:5}):this.$Notice.error({title:"修改失败",desc:"会话超时设置请填写正整数",duration:5})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},model:{value:t.form.session_timeout,callback:function(e){t.$set(t.form,"session_timeout",e)},expression:"form.session_timeout"}}),t._v("分钟")],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},model:{value:t.form.logfail_count,callback:function(e){t.$set(t.form,"logfail_count",e)},expression:"form.logfail_count"}}),t._v("次")],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(2),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},model:{value:t.form.logfail_timeout,callback:function(e){t.$set(t.form,"logfail_timeout",e)},expression:"form.logfail_timeout"}}),t._v("分钟")],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(3),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px"},nativeOn:{click:function(e){return t.configData(e)}},model:{value:t.ishostclick,callback:function(e){t.ishostclick=e},expression:"ishostclick"}},[t._v("选中,则启用远程管理主机")])],1)]),a("tr",{directives:[{name:"show",rawName:"v-show",value:t.ishostShow,expression:"ishostShow"}],staticStyle:{height:"40px"}},[a("td",{staticStyle:{"background-color":"#eee"}},[a("RadioGroup",{on:{"on-change":function(e){return t.hostListchange()}},model:{value:t.hostList,callback:function(e){t.hostList=e},expression:"hostList"}},[a("Radio",{staticStyle:{float:"right","margin-right":"15px"},attrs:{label:"允许远程管理主机列表"}}),a("Radio",{staticStyle:{float:"right","margin-right":"15px"},attrs:{label:"禁止远程管理主机列表"}})],1)],1),a("td",[a("Input",{staticStyle:{width:"370px","margin-left":"15px"},attrs:{type:"textarea"},model:{value:t.value8,callback:function(e){t.value8=e},expression:"value8"}}),a("br"),a("div",{staticStyle:{"margin-left":"15px","font-size":"12px",color:"red"}},[t._v("提示:输入允许或禁止远程管理主机列表IP,多个输入用逗号隔开")])],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(4),a("td",[a("Checkbox",{staticStyle:{"margin-left":"15px","font-size":"12px"},model:{value:t.form.is_cert,callback:function(e){t.$set(t.form,"is_cert",e)},expression:"form.is_cert"}},[t._v("启用证书认证")])],1)])])]),a("div",[a("div",{staticClass:"btn btn-sm btn-custom add_fontclient",staticStyle:{margin:"10px 50%"},on:{click:function(e){return t.submit()}}},[t._v("确认")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"20%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("会话超时设置:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("登录可尝试次数:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("封锁IP时间:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("远程管理主机:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("证书认证:")])])}],!1,null,"1cbeeb53",null);e.default=o.exports},dbd7:function(t,e,a){"use strict";var i={components:{},inject:["reload"],props:{taskId:String},data:function(){var t=this;return{detailSpanShow:!1,platForm:{show:!1,form:{idbiz1:!1,idbiz2:!1,idbiz3:!1,idbiz5:!1,idbiz6:!1,filter:!1,channel_transmission_mode:"highSpeed",tools:"5",runstate:"stop",out_task_id:"",servicename:"",type:"localftp",username:"",password:"",ipaddress:"",remoteport:"",path:"",level:"1",iocharset:"UTF-8",operation:"del",time_interval:3,taskId:"",workGroup:"",smbVersion:"v2.0",sftpKey:"v2.0",syntime:"",keyword_type:"blacklist",filter_picture_keyword:"",settimesyn:!1,filter_min_size:"",filter_max_size:"",filter_min_size_unit:"1",filter_max_size_unit:"1",suffix_type:"blacklist",filter_keyword:"",copy_move:"0",filter_after_opt_path:"/home/invalid",filter_filename:"",filename_type:"blacklist",filter_suffix:"",virus_opt:"",filter_feature:"",feature_type:"blacklist",filter_after_opt:"0",file_root:"/",is_psvn:"0",data_timeout:60,connection_timeout:60,filter_size:"",filter_size_type:"blacklist",is_put_in_storage:"1",ftp_sync_mode:"1",imgsync_enable:"no",direction:"nt2t"},rules:{out_task_id:[{required:!0,message:"不能为空",trigger:"blur"},{required:!0,message:"只能填写为数字",trigger:"blur",pattern:/^[0-9]*$/}],servicename:[{required:!0,message:"不能为空",trigger:"blur"}],path:[{validator:function(e,a,i){"localftp"!=t.platForm.form.type&&"localsmb"!=t.platForm.form.type||""!=a?i():i(new Error("不能为空"))}}],username:[{validator:function(e,a,i){1==t.ftpType&&""==a?i(new Error("不能为空")):i()}}],password:[{validator:function(e,a,i){1==t.ftpType&&""==a?i(new Error("不能为空")):i()}}],ipaddress:[{validator:function(e,a,i){1==t.ftpType?""==a?i(new Error("不能为空")):t.$util.queryDevIP4(a)||t.$util.queryDevIP6(a)?i():i(new Error("ip地址格式不正确")):i()}}],remoteport:[{validator:function(e,a,i){1==t.ftpType?""==a?i(new Error("不能为空")):t.$util.testportnumber(a)?i():i(new Error("端口格式不正确")):i()}}],file_root:[{validator:function(e,a,i){1==t.ftpType&&""==a?i(new Error("不能为空")):i()}}],tools:[{validator:function(e,a,i){1==t.ftpType?""==a?(t.detailSpanShow=!0,i(new Error("不能为空"))):a<=0?(t.detailSpanShow=!0,i(new Error("线程数不能小于1"))):a>=100?(t.detailSpanShow=!0,i(new Error("线程数不能大于100"))):t.$util.queryNum(a)?(t.detailSpanShow=!1,i()):(t.detailSpanShow=!0,i(new Error("请填写数字"))):i()}}],data_timeout:[{validator:function(e,a,i){1==t.ftpType?""==a?(t.detailSpanShow=!0,i(new Error("不能为空"))):a<=0?(t.detailSpanShow=!0,i(new Error("不能小于1"))):a>=100?(t.detailSpanShow=!0,i(new Error("不能大于600"))):t.$util.queryNum(a)?(t.detailSpanShow=!1,i()):(t.detailSpanShow=!0,i(new Error("请填写数字"))):i()}}],connection_timeout:[{validator:function(e,a,i){1==t.ftpType?""==a?(t.detailSpanShow=!0,i(new Error("不能为空"))):a<=0?(t.detailSpanShow=!0,i(new Error("不能小于1"))):a>=100?(t.detailSpanShow=!0,i(new Error("不能大于600"))):t.$util.queryNum(a)?(t.detailSpanShow=!1,i()):(t.detailSpanShow=!0,i(new Error("请填写数字"))):i()}}]}},resourceList:[{name:"本地FTP",val:"localftp"},{name:"本地SMB",val:"localsmb"},{name:"本地SFTP",val:"localsftp"},{name:"远程FTP",val:"ftp"},{name:"远程SFTP",val:"sftp"}],directoryList:[],copyList:[{name:"否",val:"1"},{name:"是",val:"0"}],psvnList:[{name:"主动模式",val:"1"},{name:"被动模式",val:"0"}],is_put_in_storageList:[{name:"否",val:"1"},{name:"是",val:"0"}],levelList:[{name:"1",val:"1"},{name:"2",val:"2"}],codingList:[{name:"UTF-8",val:"UTF-8"},{name:"CP936",val:"CP936"}],channeltransmissionList:[{name:"高速模式",val:"highSpeed"}],smbVersionList:[{name:"v1.0",val:"v1.0"},{name:"v2.0",val:"v2.0"},{name:"v3.0",val:"v3.0"}],operationList:[{name:"剪切",val:"del"},{name:"复制",val:"copy"}],featureList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],suffixfilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],flienamefilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],sizefilterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],idplatformList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],filterTypeList:[{name:"白名单",val:"whitelist"},{name:"黑名单",val:"blacklist"}],virusList:[{name:"删除",val:"remove"},{name:"隔离",val:"move"}],channelList:[{name:"channel01"},{name:"channel02"}],aaList:[{name:"同步子目录"},{name:"只同步当前目录"}],filter_after_optList:[{name:"保留",val:"0"},{name:"删除",val:"1"},{name:"转移",val:"2"}],filter_after_optKeeptList:[{name:"不复制",val:"0"},{name:"复制",val:"1"}],dataTypeList:[{name:"B",val:"1"},{name:"KB",val:"1000"},{name:"MB",val:"1000000"},{name:"GB",val:"1000000000"}],dataTypeList1:[{name:"B",val:"1"},{name:"KB",val:"1000"},{name:"MB",val:"1000000"},{name:"GB",val:"1000000000"}],minutes:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],data_timeoutList:[1,2,3,4,5],connection_timeoutList:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],smbType:!1,sftpType:!1,ftpType:!1,localftpType:!0,gaoSettings:!0,sizeFilter:!1,nameFilter:!1,contentFilter:!1,suffixFilter:!1,virusFilter:!1,client:!1,settimesynFilter:!1,picNameFilter:!1,file_feature_filter:!1,showcopy_move:!0,showfilter_after_opt_path:!1,ftpdType:!1,channel_transmission_show:!1}},computed:{},mounted:function(){},methods:{showCopy_move:function(t){"0"==t?(this.showcopy_move=!0,this.showfilter_after_opt_path=!1,this.platForm.form.filter_after_opt_path="/home/invalid"):"2"==t?(this.showcopy_move=!1,this.showfilter_after_opt_path=!0,this.platForm.form.filter_after_opt_path="/home/invalid"):(this.showcopy_move=!1,this.showfilter_after_opt_path=!1,this.platForm.form.filter_after_opt_path="/home/invalid")},channeltransmission_move:function(t){"common"==t?this.channel_transmission_show=!0:"highSpeed"==t&&(this.channel_transmission_show=!1)},handleLinkimage:function(){},findFtp:function(){var t=this;this.$https.fetchGet(this.$api.local.findFtpInfo.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},findSam:function(){var t=this;this.$https.fetchGet(this.$api.local.samInfo.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},findSftp:function(){var t=this;this.$https.fetchGet(this.$api.local.findSftp.url).then((function(e){for(var a in e.data.data)"start"==e.data.data[a].state&&t.directoryList.push(e.data.data[a].path)})).catch((function(t){}))},showAddDrawer:function(){var t=this;this.platForm.show=!0,this.directoryList=[],this.findFtp(),setTimeout((function(){t.platForm.form.taskId=t.taskId}),500)},addPlatForm:function(){var t=this;"9999"!=this.platForm.form.out_task_id?this.$refs.plat_form.validate((function(e){if(e){var a=t._.cloneDeep(t.platForm.form);a.data_timeout=1e3*a.data_timeout,a.connection_timeout=1e3*a.connection_timeout,t.$https.fetchPost(t.$api.data.addFileTask.url,a).then((function(e){200==e.data.status?(t.$Notice.success({title:"文件同步配置成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),t.reload()}),250)):t.$Notice.error({title:"文件同步配置失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}})):this.$Notice.error({title:"文件同步配置失败",desc:"外端id不能为9999",duration:5})},restPlatForm:function(){this.$refs.plat_form.resetFields(),1==this.suffixFilter&&this.checkSuffixFilter(),1==this.sizeFilter&&this.checkSizeFilter(),1==this.settimesynFilter&&this.checkSettimesynFilter(),1==this.nameFilter&&this.checkNameFilter(),1==this.contentFilter&&this.checkContentFilter(),1==this.picNameFilter&&this.checkPicNameFilter(),1==this.virusFilter&&this.checkVirusFilter(),1==this.file_feature_filter&&this.checkfile_feature_filter()},checkType:function(t){this.sftpType=!1,this.smbType=!1,this.ftpdType=!1,this.platForm.form.username="",this.platForm.form.password="",this.platForm.form.ipaddress="",this.platForm.form.remoteport="",this.platForm.form.sftpKey="v2.0",this.platForm.form.path="",this.platForm.form.workGroup="",this.platForm.form.file_root="/","ftp"==t?(this.client=!1,this.ftpType=!0,this.localftpType=!1,this.ftpdType=!0,this.platForm.form.ftp_sync_mode="3"):"localftp"==t?(this.platForm.form.ftp_sync_mode="1",this.directoryList=[],this.findFtp(),this.ftpType=!1,this.localftpType=!0):"localsmb"==t?(this.platForm.form.ftp_sync_mode="1",this.directoryList=[],this.ftpType=!1,this.findSam(),this.localftpType=!0):"localnfs"==t?(this.platForm.form.ftp_sync_mode="1",this.ftpType=!1,this.directoryList=[],this.localftpType=!0):"localsftp"==t?(this.platForm.form.ftp_sync_mode="1",this.ftpType=!1,this.directoryList=[],this.findSftp(),this.localftpType=!0):"client"==t?(this.client=!0,this.localftpType=!1):"nfs"==t?(this.platForm.form.ftp_sync_mode="3",this.client=!1,this.ftpType=!0,this.localftpType=!1,this.smbType=!1):"smb"==t?(this.platForm.form.ftp_sync_mode="3",this.client=!1,this.ftpType=!0,this.localftpType=!1,this.smbType=!0):"sftp"==t?(this.platForm.form.ftp_sync_mode="3",this.client=!1,this.ftpType=!0,this.localftpType=!1,this.sftpType=!0):(this.ftpType=!1,this.localftpType=!0)},filter_state:function(){this.sizeFilter=!1,this.nameFilter=!1,this.contentFilter=!1,this.suffixFilter=!1,this.picNameFilter=!1,this.virusFilter=!1,this.file_feature_filter=!1,this.settimesynFilter=!1},checkGaoSettings:function(){this.gaoSettings=!this.gaoSettings},checkSizeFilter:function(){0!=this.platForm.form.idbiz2?(this.sizeFilter=!this.sizeFilter,this.platForm.form.filter_size="blacklist",this.platForm.form.filter_min_size="",this.platForm.form.filter_max_size="",this.platForm.form.filter_max_size_unit="1",this.platForm.form.filter_min_size_unit="1",1==this.sizeFilter&&(this.filter_state(),this.sizeFilter=!this.sizeFilter)):this.filter_state()},checkSettimesynFilter:function(){0!=this.platForm.form.settimesyn?(this.settimesynFilter=!this.settimesynFilter,this.platForm.form.syntime="",1==this.settimesynFilter&&(this.filter_state(),this.settimesynFilter=!this.settimesynFilter)):this.filter_state()},checkNameFilter:function(){0!=this.platForm.form.idbiz3?(this.nameFilter=!this.nameFilter,this.platForm.form.filename_type="blacklist",this.platForm.form.filter_filename="",1==this.nameFilter&&(this.filter_state(),this.nameFilter=!this.nameFilter)):this.filter_state()},checkContentFilter:function(){0!=this.idbiz4?(this.contentFilter=!this.contentFilter,this.platForm.form.keyword_type="blacklist",this.platForm.form.filter_keyword="",1==this.contentFilter&&(this.filter_state(),this.contentFilter=!this.contentFilter)):this.filter_state()},checkSuffixFilter:function(){0!=this.platForm.form.idbiz5?(this.suffixFilter=!this.suffixFilter,this.platForm.form.suffix_type="blacklist",this.platForm.form.filter_suffix="",1==this.suffixFilter&&(this.filter_state(),this.suffixFilter=!this.suffixFilter)):this.filter_state()},checkPicNameFilter:function(){0!=this.platForm.form.idbiz1?(this.picNameFilter=!this.picNameFilter,this.platForm.form.filter_picture_keyword="",1==this.picNameFilter&&(this.filter_state(),this.picNameFilter=!this.picNameFilter)):this.filter_state()},checkVirusFilter:function(){0!=this.platForm.form.idbiz6?(this.virusFilter=!this.virusFilter,this.platForm.form.virus_opt="",1==this.virusFilter&&(this.filter_state(),this.virusFilter=!this.virusFilter)):this.filter_state()},checkfile_feature_filter:function(){0!=this.platForm.form.file_feature_filter?(this.file_feature_filter=!this.file_feature_filter,this.platForm.form.feature_type="blacklist",this.platForm.form.filter_feature="",1==this.file_feature_filter&&(this.filter_state(),this.file_feature_filter=!this.file_feature_filter)):this.filter_state()},editVirusFilter:function(){this.filter_state(),this.virusFilter=!0},editPicNameFilter:function(){this.filter_state(),this.picNameFilter=!0},editSizeFilter:function(){this.filter_state(),this.sizeFilter=!0},editNameFilter:function(){this.filter_state(),this.nameFilter=!0},editContentFilter:function(){this.filter_state(),this.contentFilter=!0},editSuffixFilter:function(){this.filter_state(),this.suffixFilter=!0},editSettimesynFilter:function(){this.filter_state(),this.settimesynFilter=!0},editfile_feature_filter:function(){this.filter_state(),this.file_feature_filter=!0},filter_change:function(){this.platForm.form.filter=!this.platForm.form.filter}}},s=(a("f342"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"80px",height:"30px"},on:{click:t.showAddDrawer}},[t._v("文件同步")]),a("modal",{attrs:{title:"文件同步服务编辑",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{model:t.platForm.form,rules:t.platForm.rules,"label-width":138}},[a("Tabs",{staticStyle:{"min-height":"500px","margin-right":"50px"},attrs:{value:"name1"}},[a("TabPane",{attrs:{label:"基础配置",name:"name1"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"50%"},attrs:{label:"外端服务id",prop:"out_task_id"}},[a("Tooltip",{attrs:{"max-width":"320",placement:"top",content:"服务id内外端需一致"}},[a("Input",{staticStyle:{width:"320px"},attrs:{clearable:""},model:{value:t.platForm.form.out_task_id,callback:function(e){t.$set(t.platForm.form,"out_task_id",e)},expression:"platForm.form.out_task_id"}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"服务名称",prop:"servicename"}},[a("Input",{attrs:{clearable:""},model:{value:t.platForm.form.servicename,callback:function(e){t.$set(t.platForm.form,"servicename",e)},expression:"platForm.form.servicename"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"资源类型",prop:"type1"}},[a("Select",{model:{value:t.platForm.form.type,callback:function(e){t.$set(t.platForm.form,"type",e)},expression:"platForm.form.type"}},t._l(t.resourceList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val},nativeOn:{click:function(a){return t.checkType(e.val)}}},[t._v(t._s(e.name))])})),1)],1),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"IP地址",prop:"ipaddress"}},[a("Input",{attrs:{clearable:""},model:{value:t.platForm.form.ipaddress,callback:function(e){t.$set(t.platForm.form,"ipaddress",e)},expression:"platForm.form.ipaddress"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"端口",prop:"remoteport"}},[a("Input",{attrs:{clearable:""},model:{value:t.platForm.form.remoteport,callback:function(e){t.$set(t.platForm.form,"remoteport",e)},expression:"platForm.form.remoteport"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"用户名",prop:"username"}},[a("Input",{attrs:{clearable:""},model:{value:t.platForm.form.username,callback:function(e){t.$set(t.platForm.form,"username",e)},expression:"platForm.form.username"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password",clearable:""},model:{value:t.platForm.form.password,callback:function(e){t.$set(t.platForm.form,"password",e)},expression:"platForm.form.password"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"根目录",prop:"file_root"}},[a("Input",{attrs:{clearable:""},model:{value:t.platForm.form.file_root,callback:function(e){t.$set(t.platForm.form,"file_root",e)},expression:"platForm.form.file_root"}})],1):t._e(),t.localftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"目录",prop:"path"}},[a("Select",{model:{value:t.platForm.form.path,callback:function(e){t.$set(t.platForm.form,"path",e)},expression:"platForm.form.path"}},t._l(t.directoryList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),t.smbType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"协议版本",prop:"smbVersion"}},[a("Select",{model:{value:t.platForm.form.smbVersion,callback:function(e){t.$set(t.platForm.form,"smbVersion",e)},expression:"platForm.form.smbVersion"}},t._l(t.smbVersionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.smbType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"所属的域",prop:"workGroup"}},[a("Input",{attrs:{clearable:""},model:{value:t.platForm.form.workGroup,callback:function(e){t.$set(t.platForm.form,"workGroup",e)},expression:"platForm.form.workGroup"}})],1):t._e(),t.sftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"密匙",prop:"sftpKey"}},[a("Select",{model:{value:t.platForm.form.sftpKey,callback:function(e){t.$set(t.platForm.form,"sftpKey",e)},expression:"platForm.form.sftpKey"}},t._l(t.smbVersionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e()],1),a("FormItem",{staticStyle:{"margin-top":"5px"}},[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),t.detailSpanShow?a("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v("详细配置中有参数不合法")]):t._e()],1)],1),a("TabPane",{attrs:{label:"详细配置",name:"name2"}},[a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"通道传输模式",prop:"channel_transmission_mode"}},[a("Select",{model:{value:t.platForm.form.channel_transmission_mode,callback:function(e){t.$set(t.platForm.form,"channel_transmission_mode",e)},expression:"platForm.form.channel_transmission_mode"}},t._l(t.channeltransmissionList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.channeltransmission_move(e.val)}}},[t._v(t._s(e.name))])})),1)],1),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"线程数",prop:"tools"}},[a("Input",{model:{value:t.platForm.form.tools,callback:function(e){t.$set(t.platForm.form,"tools",e)},expression:"platForm.form.tools"}})],1):t._e(),!t.ftpType&&t.channel_transmission_show?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"等级",prop:"level"}},[a("Select",{model:{value:t.platForm.form.level,callback:function(e){t.$set(t.platForm.form,"level",e)},expression:"platForm.form.level"}},t._l(t.levelList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"异常日志是否入库",prop:"is_put_in_storage"}},[a("Select",{model:{value:t.platForm.form.is_put_in_storage,callback:function(e){t.$set(t.platForm.form,"is_put_in_storage",e)},expression:"platForm.form.is_put_in_storage"}},t._l(t.is_put_in_storageList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"编码",prop:"iocharset"}},[a("Select",{model:{value:t.platForm.form.iocharset,callback:function(e){t.$set(t.platForm.form,"iocharset",e)},expression:"platForm.form.iocharset"}},t._l(t.codingList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.ftpdType?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"传输模式",prop:"is_psvn"}},[a("Select",{model:{value:t.platForm.form.is_psvn,callback:function(e){t.$set(t.platForm.form,"is_psvn",e)},expression:"platForm.form.is_psvn"}},t._l(t.psvnList,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件同步后的操作",prop:"operation"}},[a("Select",{model:{value:t.platForm.form.operation,callback:function(e){t.$set(t.platForm.form,"operation",e)},expression:"platForm.form.operation"}},t._l(t.operationList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),t.ftpdType?a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"设置传输超时时间(秒)",prop:"data_timeout"}},[a("Input",{model:{value:t.platForm.form.data_timeout,callback:function(e){t.$set(t.platForm.form,"data_timeout",e)},expression:"platForm.form.data_timeout"}})],1):t._e(),t.ftpdType?a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"连接超时时间(秒)",prop:"connection_timeout"}},[a("Input",{model:{value:t.platForm.form.connection_timeout,callback:function(e){t.$set(t.platForm.form,"connection_timeout",e)},expression:"platForm.form.connection_timeout"}})],1):t._e(),t.ftpType?a("FormItem",{staticStyle:{"margin-bottom":"0px",width:"33%"},attrs:{label:"间隔(秒)",placeholder:"以秒为单位",prop:"time_interval"}},[a("Select",{model:{value:t.platForm.form.time_interval,callback:function(e){t.$set(t.platForm.form,"time_interval",e)},expression:"platForm.form.time_interval"}},t._l(t.minutes,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),t.channel_transmission_show?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"目录同步",prop:"idplatform"}},[a("Select",{model:{value:t.platForm.form.gg,callback:function(e){t.$set(t.platForm.form,"gg",e)},expression:"platForm.form.gg"}},t._l(t.aaList,(function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.channel_transmission_show?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%",display:"none"},attrs:{label:"限速",prop:"idbiz"}},[a("Input",{model:{value:t.platForm.form.uu,callback:function(e){t.$set(t.platForm.form,"uu",e)},expression:"platForm.form.uu"}})],1):t._e()],1)]),t.ftpType?a("TabPane",{attrs:{label:"文件过滤",name:"name3"}},[t.ftpType?t._e():a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件过滤",prop:"filter"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{onchange:t.filter_change},model:{value:t.platForm.form.filter,callback:function(e){t.$set(t.platForm.form,"filter",e)},expression:"platForm.form.filter"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1),t.platForm.form.filter||t.ftpType?a("div",{staticStyle:{display:"flex","justify-conten":"space-around","flex-wrap":"wrap"}},[a("FormItem",{staticStyle:{"text-align":"left","margin-bottom":"15px",width:"33%"},attrs:{label:"开启病毒扫描",prop:"idbiz6"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkVirusFilter},model:{value:t.platForm.form.idbiz6,callback:function(e){t.$set(t.platForm.form,"idbiz6",e)},expression:"platForm.form.idbiz6"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz6?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editVirusFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"关键字过滤",prop:"idbiz1"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkPicNameFilter},model:{value:t.platForm.form.idbiz1,callback:function(e){t.$set(t.platForm.form,"idbiz1",e)},expression:"platForm.form.idbiz1"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz1?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editPicNameFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件大小过滤",prop:"idbiz2"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSizeFilter},model:{value:t.platForm.form.idbiz2,callback:function(e){t.$set(t.platForm.form,"idbiz2",e)},expression:"platForm.form.idbiz2"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz2?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSizeFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件名过滤",prop:"idbiz3"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkNameFilter},model:{value:t.platForm.form.idbiz3,callback:function(e){t.$set(t.platForm.form,"idbiz3",e)},expression:"platForm.form.idbiz3"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz3?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editNameFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"33%"},attrs:{label:"文件名后缀过滤",prop:"idbiz5"}},[a("i-switch",{staticStyle:{"margin-right":"12px"},attrs:{size:"large"},on:{"on-change":t.checkSuffixFilter},model:{value:t.platForm.form.idbiz5,callback:function(e){t.$set(t.platForm.form,"idbiz5",e)},expression:"platForm.form.idbiz5"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.platForm.form.idbiz5?a("Button",{staticStyle:{background:"#fa914e",color:"white"},nativeOn:{click:function(e){return t.editSuffixFilter(e)}}},[t._v("编辑")]):t._e()],1),a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"34%"},attrs:{label:"敏感文件操作",prop:"filter_after_opt"}},[a("Select",{staticStyle:{width:"130px"},model:{value:t.platForm.form.filter_after_opt,callback:function(e){t.$set(t.platForm.form,"filter_after_opt",e)},expression:"platForm.form.filter_after_opt"}},t._l(t.filter_after_optList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val},nativeOn:{click:function(a){return t.showCopy_move(e.val)}}},[t._v(t._s(e.name))])})),1),a("Poptip",{attrs:{trigger:"hover",placement:"left",content:"敏感文件就是关键字过滤、文件大小过滤等出来的不符合规定的文件"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"3px",color:"#fa914e","font-size":"24px"}})])],1),t.showcopy_move?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"30%"},attrs:{label:"敏感文件复制到平台",prop:"copy_move"}},[a("Select",{model:{value:t.platForm.form.copy_move,callback:function(e){t.$set(t.platForm.form,"copy_move",e)},expression:"platForm.form.copy_move "}},t._l(t.filter_after_optKeeptList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.showfilter_after_opt_path?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"30%"},attrs:{label:"敏感文件转移路径",prop:"filter_after_opt_path"}},[a("Input",{attrs:{disabled:""},model:{value:t.platForm.form.filter_after_opt_path,callback:function(e){t.$set(t.platForm.form,"filter_after_opt_path",e)},expression:"platForm.form.filter_after_opt_path"}})],1):t._e(),t.virusFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("病毒扫描")]):t._e(),t.virusFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"病毒文件处理",prop:"virus_opt"}},[a("Select",{model:{value:t.platForm.form.virus_opt,callback:function(e){t.$set(t.platForm.form,"virus_opt",e)},expression:"platForm.form.virus_opt"}},t._l(t.virusList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1),t.virusFilter?a("span",{staticStyle:{color:"red","font-size":"11px"}},[t._v("注：病毒库管理中杀毒引擎为启用状态时，此功能才生效")]):t._e()],1):t._e(),t.picNameFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("关键字过滤")]):t._e(),t.picNameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"过滤的关键字",prop:"filter_keyword"}},[a("Input",{staticStyle:{width:"280px"},model:{value:t.platForm.form.filter_keyword,callback:function(e){t.$set(t.platForm.form,"filter_keyword",e)},expression:"platForm.form.filter_keyword "}}),a("Poptip",{attrs:{trigger:"hover",content:"匹配文件中的内容进行过滤操作，\n                           支持的文件有：txt、pdf、xls、xlsx、doc、docx、ppt、pptx、wps、dps、et、xml，多个以/#/分隔"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"1px",color:"#fa914e","font-size":"24px"}})])],1):t._e(),t.picNameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"过滤类型",prop:"keyword_type"}},[a("Select",{model:{value:t.platForm.form.keyword_type,callback:function(e){t.$set(t.platForm.form,"keyword_type",e)},expression:"platForm.form.keyword_type"}},t._l(t.filterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.picNameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"图片关键字过滤",prop:"filter_picture_keyword"}},[a("Input",{staticStyle:{width:"280px"},model:{value:t.platForm.form.filter_picture_keyword,callback:function(e){t.$set(t.platForm.form,"filter_picture_keyword",e)},expression:"platForm.form.filter_picture_keyword "}}),a("Poptip",{attrs:{trigger:"hover",content:"匹配图像中的内容里面的文字，多个以/#/分隔"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-alert",staticStyle:{"margin-left":"1px",color:"#fa914e","font-size":"24px"}})])],1):t._e(),t.sizeFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件大小过滤")]):t._e(),t.sizeFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"最小",prop:"filter_min"}},[a("Poptip",{attrs:{trigger:"hover",content:"大于此值可同步"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.filter_min_size,callback:function(e){t.$set(t.platForm.form,"filter_min_size",e)},expression:"platForm.form.filter_min_size"}})],1),a("Select",{staticStyle:{width:"26%"},model:{value:t.platForm.form.filter_min_size_unit,callback:function(e){t.$set(t.platForm.form,"filter_min_size_unit",e)},expression:"platForm.form.filter_min_size_unit"}},t._l(t.dataTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.sizeFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"50%"},attrs:{label:"最大",prop:"filter_max"}},[a("Poptip",{attrs:{trigger:"hover",content:"小于此值可同步"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.filter_max_size,callback:function(e){t.$set(t.platForm.form,"filter_max_size",e)},expression:"platForm.form.filter_max_size"}})],1),a("Select",{staticStyle:{width:"26%"},model:{value:t.platForm.form.filter_max_size_unit,callback:function(e){t.$set(t.platForm.form,"filter_max_size_unit",e)},expression:"platForm.form.filter_max_size_unit"}},t._l(t.dataTypeList1,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.sizeFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"大小过滤类型",prop:"filter_size_type"}},[a("Select",{model:{value:t.platForm.form.filter_size_type,callback:function(e){t.$set(t.platForm.form,"filter_size_type",e)},expression:"platForm.form.filter_size_type"}},t._l(t.sizefilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.nameFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件名过滤")]):t._e(),t.nameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件名过滤类型",prop:"filename_type"}},[a("Select",{model:{value:t.platForm.form.filename_type,callback:function(e){t.$set(t.platForm.form,"filename_type",e)},expression:"platForm.form.filename_type"}},t._l(t.flienamefilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.nameFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件名",prop:"filter_filename"}},[a("Poptip",{attrs:{trigger:"hover",content:"多个以小写|分割"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.platForm.form.filter_filename,callback:function(e){t.$set(t.platForm.form,"filter_filename",e)},expression:"platForm.form.filter_filename"}})],1)],1):t._e(),t.suffixFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件名后缀过滤")]):t._e(),t.suffixFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"后缀过滤类型",prop:"suffix_type"}},[a("Select",{model:{value:t.platForm.form.suffix_type,callback:function(e){t.$set(t.platForm.form,"suffix_type",e)},expression:"platForm.form.suffix_type"}},t._l(t.suffixfilterTypeList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1):t._e(),t.suffixFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件名后缀",prop:"filter_suffix "}},[a("Poptip",{attrs:{trigger:"hover",content:"例如*.txt 多个请以空格分开"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.platForm.form.filter_suffix,callback:function(e){t.$set(t.platForm.form,"filter_suffix",e)},expression:"platForm.form.filter_suffix"}})],1)],1):t._e(),t.settimesynFilter?a("Divider",{attrs:{orientation:"left"}},[t._v("同步时间")]):t._e(),t.settimesynFilter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"同步时间段",prop:"syntime"}},[a("TimePicker",{staticStyle:{width:"168px"},attrs:{confirm:"",transfer:"true",value:t.platForm.form.syntime,format:"hh’mm’ss",type:"timerange",placement:"bottom-end",placeholder:"Select time"}})],1):t._e(),t.file_feature_filter?a("Divider",{attrs:{orientation:"left"}},[t._v("文件特征过滤")]):t._e(),t.file_feature_filter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"60%"},attrs:{label:"文件特征",prop:"filter_feature"}},[a("Input",{staticStyle:{"margin-bottom":"15px",width:"49%"},model:{value:t.platForm.form.filter_feature,callback:function(e){t.$set(t.platForm.form,"filter_feature",e)},expression:"platForm.form.filter_feature"}})],1):t._e(),t.file_feature_filter?a("FormItem",{staticStyle:{"margin-bottom":"15px",width:"49%"},attrs:{label:"文件特征类型",prop:"feature_type"}},[a("Select",{staticStyle:{"margin-bottom":"15px",width:"49%"},model:{value:t.platForm.form.feature_type,callback:function(e){t.$set(t.platForm.form,"feature_type",e)},expression:"platForm.form.feature_type"}},t._l(t.featureList,(function(e){return a("Option",{key:e.name,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1),a("Upload",{attrs:{action:"","before-upload":t.handleLinkimage}},[a("i-button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("添加文件")])],1)],1):t._e(),t._e()],1):t._e()],1):t._e()],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)}),[],!1,null,"bbbe95ea",null);e.a=o.exports},dbff:function(t,e,a){"use strict";a("86ae")},ddb4:function(t,e,a){"use strict";a.r(e),a("9a33"),a("cc57");var i=a("25b1"),s={name:"NetworkRortTrunkingAdd",props:{interfaceListsData:Array},components:{},inject:["reload"],data:function(){return{interfaceLists:[],modeList:[{value:"0",name:"load balancing(round-robin)平衡轮循环策略"},{value:"1",name:"fault-tolerance(active-backup)主-备份策略"},{value:"2",name:"load balancing(xor)平衡策略"},{value:"3",name:"fault-tolerance(broadcast)广播策略"},{value:"4",name:"IEEE 802.3ad动态链接聚合"},{value:"5",name:"transmit load balancing(适配器传输负载均衡)"},{value:"6",name:"adaptive load balancing(适配器适应性负载均衡)"}],platForm:{show:!1,form:{hickey:"",id:"",member:"",name:"",pattern:"",interfaceList:[]},rules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],pattern:[{required:!0,message:"不能为空",trigger:"blur"}]}}}},computed:{},mounted:function(){},methods:{showAddDrawer:function(){0!=this.interfaceListsData.length?this.platForm.show=!0:this.$Notice.error({title:"无法新增",desc:"所有成员接口已被占有",duration:5})},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e)if(0!=t.platForm.form.interfaceList.length){for(var a in t.platForm.form.member="",t.platForm.form.interfaceList)t.platForm.form.member+=t.platForm.form.interfaceList[a]+"|";t.platForm.form.member=t.platForm.form.member.substring(0,t.platForm.form.member.length-1),t.$https.fetchPost(t.$api.network.addPort.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"端口聚合添加成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"端口聚合添加失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}else t.$Notice.error({title:"新增失败",desc:"必须选择成员接口",duration:10})}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"新增端口聚合",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":100}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"名称",prop:"name"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.name,callback:function(e){t.$set(t.platForm.form,"name",e)},expression:"platForm.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"模式",prop:"pattern"}},[a("Select",{staticStyle:{width:"100%"},model:{value:t.platForm.form.pattern,callback:function(e){t.$set(t.platForm.form,"pattern",e)},expression:"platForm.form.pattern"}},t._l(t.modeList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"成员接口",prop:"interfaceList"}},[a("Select",{staticStyle:{width:"100%"},attrs:{multiple:""},model:{value:t.platForm.form.interfaceList,callback:function(e){t.$set(t.platForm.form,"interfaceList",e)},expression:"platForm.form.interfaceList"}},t._l(t.interfaceListsData,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"4cffe98c",null).exports,n={name:"NetworkRortTrunking",components:{jk_tabs:i.a,rorttrunkingadd:r},inject:["reload"],data:function(){var t=this;return{columns1:[{title:"序号",key:"",align:"center",width:63,render:function(t,e){return t("span",e.index+1)}},{title:"名称",align:"center",key:"name"},{title:"接口",align:"center",key:"hickey"},{title:"成员",align:"center",key:"member"},{title:"模式",align:"center",width:500,key:"pattern",render:function(e,a){return"0"==a.row.pattern?e("span",t.modeList[0].name):"1"==a.row.pattern?e("span",t.modeList[1].name):"2"==a.row.pattern?e("span",t.modeList[2].name):"3"==a.row.pattern?e("span",t.modeList[3].name):"4"==a.row.pattern?e("span",t.modeList[4].name):"5"==a.row.pattern?e("span",t.modeList[5].name):"6"==a.row.pattern?e("span",t.modeList[6].name):void 0}},{title:"操作",align:"center",slot:"action"}],links:[{name:"接口列表",to:"/network/interface"},{name:"端口聚合",to:"/network/portTrunking"},{name:"Mac地址",to:"/network/mac"}],interfaceList:[],interfaceLists:[],modeList:[{value:"0",name:"load balancing(round-robin)平衡轮循环策略"},{value:"1",name:"fault-tolerance(active-backup)主-备份策略"},{value:"2",name:"load balancing(xor)平衡策略"},{value:"3",name:"fault-tolerance(broadcast)广播策略"},{value:"4",name:"IEEE 802.3ad动态链接聚合"},{value:"5",name:"transmit load balancing(适配器传输负载均衡)"},{value:"6",name:"adaptive load balancing(适配器适应性负载均衡)"}],platForm:{show:!1,form:{hickey:"",id:"",member:"",name:"",pattern:"",interfaceList:[]},rules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],pattern:[{required:!0,message:"不能为空",trigger:"blur"}]}},data1:[],data3:[]}},mounted:function(){this.getinfo(),this.findEth()},methods:{findEth:function(){var t=this;this.$https.fetchGet(this.$api.network.findEth.url).then((function(e){200==e.data.status&&(t.interfaceLists=e.data.data)})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},getinfo:function(){var t=this;this.$https.fetchGet(this.$api.network.findPort.url).then((function(e){200==e.data.status?(t.data1=e.data.data,t.data3=t._.cloneDeep(e.data.data)):t.$Notice.error({title:"获取数据失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},showAddDrawer:function(){this.platForm.show=!0},updatePort:function(t){this.platForm.form=this.data3[t];var e=this.platForm.form.member,a=e.split("|");if(0!=this.interfaceLists.length)for(var i in this.interfaceLists)a.push(this.interfaceLists[i]);this.interfaceList=a,this.platForm.form.interfaceList=e.split("|"),this.platForm.show=!0},deletePort:function(t,e){var a=this;this.$Modal.confirm({title:"删除端口聚合",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){a.$https.fetchGet(a.$api.network.delPort.url,{key:t}).then((function(t){200==t.data.status?(a.$Notice.success({title:"删除成功",duration:2.5}),setTimeout((function(){a.$Modal.remove(),a.reload()}),250)):(a.$Modal.remove(),a.$Notice.error({title:"删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){a.$Modal.remove(),a.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},UpdateForm:function(){var t=this;this.$refs.plat_form.validate((function(e){if(e)if(0!=t.platForm.form.interfaceList.length){for(var a in t.platForm.form.member="",t.platForm.form.interfaceList)t.platForm.form.member+=t.platForm.form.interfaceList[a]+"|";t.platForm.form.member=t.platForm.form.member.substring(0,t.platForm.form.member.length-1),t.$https.fetchPost(t.$api.network.updatePort.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"端口聚合修改成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.reload()}),250)):t.$Notice.error({title:"端口聚合修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}else t.$Notice.error({title:"修改失败",desc:"必须选择成员接口",duration:10})}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("rorttrunkingadd",{staticStyle:{float:"right"},attrs:{interfaceListsData:t.interfaceLists}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updatePort(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deletePort(i.id,s)}}},[t._v("删除")])]}}])})],1)]),a("Drawer",{attrs:{title:"修改端口聚合",width:"50%"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":100}},[a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"名称",prop:"name"}},[a("Input",{staticStyle:{width:"100%"},model:{value:t.platForm.form.name,callback:function(e){t.$set(t.platForm.form,"name",e)},expression:"platForm.form.name"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"模式",prop:"pattern"}},[a("Select",{staticStyle:{width:"100%"},model:{value:t.platForm.form.pattern,callback:function(e){t.$set(t.platForm.form,"pattern",e)},expression:"platForm.form.pattern"}},t._l(t.modeList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"成员接口",prop:"List"}},[a("Select",{staticStyle:{width:"100%"},attrs:{multiple:""},model:{value:t.platForm.form.interfaceList,callback:function(e){t.$set(t.platForm.form,"interfaceList",e)},expression:"platForm.form.interfaceList"}},t._l(t.interfaceList,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.UpdateForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"ee1808f0",null);e.default=l.exports},df44:function(t,e,a){"use strict";a("fcc4")},e215:function(t,e,a){"use strict";a("e27b")},e21f:function(t,e,a){"use strict";a.r(e);var i=a("25b1"),s={name:"TestFtpProxyAdd",components:{},data:function(){return{platForm:{show:!1,form:{proxy_addr_str:null,proxy_port:null,real_addr_str:null,real_port:null,vroot_dir:null}}}},computed:{},methods:{showAddDrawer:function(){this.platForm.show=!0},addPlatForm:function(){var t=this;this.$refs.plat_form.validate((function(e){e&&t.$https.fetchPost(t.$api.test.addProxy.url,t.platForm.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"代理配置成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"代理配置失败",desc:"错误代码："+e.data.status,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))},restPlatForm:function(){this.$refs.plat_form.resetFields()}}},o=a("2c07"),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.showAddDrawer}},[t._v("\n        新增\n    ")]),a("Drawer",{attrs:{title:"FTP代理配置",width:"1000"},model:{value:t.platForm.show,callback:function(e){t.$set(t.platForm,"show",e)},expression:"platForm.show"}},[a("Form",{ref:"plat_form",attrs:{rules:t.platForm.rules,model:t.platForm.form,"label-width":150}},[a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"代理IP",prop:"subnet"}},[a("Input",{model:{value:t.platForm.form.proxy_addr_str,callback:function(e){t.$set(t.platForm.form,"proxy_addr_str",e)},expression:"platForm.form.proxy_addr_str"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"代理端口",prop:"vhid"}},[a("Input",{model:{value:t.platForm.form.proxy_port,callback:function(e){t.$set(t.platForm.form,"proxy_port",e)},expression:"platForm.form.proxy_port"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务器IP",prop:"password"}},[a("Input",{model:{value:t.platForm.form.real_addr_str,callback:function(e){t.$set(t.platForm.form,"real_addr_str",e)},expression:"platForm.form.real_addr_str"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务器端口",prop:"password"}},[a("Input",{model:{value:t.platForm.form.real_port,callback:function(e){t.$set(t.platForm.form,"real_port",e)},expression:"platForm.form.real_port"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务器根目录",prop:"password"}},[a("Input",{model:{value:t.platForm.form.vroot_dir,callback:function(e){t.$set(t.platForm.form,"vroot_dir",e)},expression:"platForm.form.vroot_dir"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"4ab8e926",null).exports,n={name:"TestFtpProxy",components:{jk_tabs:i.a,ftpProxyAdd:r},data:function(){return{columns1:[{title:"序号",key:"id",align:"center"},{title:"代理IP",key:"proxy_addr_str",align:"center"},{title:"代理端口",key:"proxy_port",align:"center"},{title:"服务器IP",key:"real_addr_str",align:"center"},{title:"服务器端口",key:"real_port",align:"center"},{title:"服务器根目录",key:"vroot_dir",align:"center"},{title:"操作",slot:"action",width:150,align:"center"}],links:[{name:"FTP代理配置",to:"/test/ftpProxy"}],modal:{show:!1,form:{id:null,proxy_addr_str:null,proxy_port:null,real_addr_str:null,real_port:null,vroot_dir:null}},data1:[{id:"proxy1",proxy_addr_str:"192.168.110.12",proxy_port:"6677",real_addr_str:"192.168.110.12",real_port:"21",vroot_dir:"/home/file/ftp/test1"},{id:"proxy2",proxy_addr_str:"192.168.110.12",proxy_port:"6678",real_addr_str:"192.168.110.12",real_port:"21",vroot_dir:"/home/file/ftp/test2"}]}},mounted:function(){this.showProxy()},methods:{showProxy:function(){var t=this;this.$https.fetchGet(this.$api.test.proxyInfo.url).then((function(e){t.data1=e.data.data})).catch((function(t){}))},deleteFtpProxy:function(t){var e=this;this.$Modal.confirm({title:"删除配置",content:"<p>当前操作将会导致该配置被删除，请确认删除</p>",loading:!0,onOk:function(){e.$https.fetchGet(e.$api.test.delProxy.url,{key:t}).then((function(t){200==t.data.status?location.reload():(e.$Modal.remove(),e.$Message.info("代理配置删除失败"))})).catch((function(t){e.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})},updateFtpProxy:function(t){this.modal.show=!0,this.modal.form.id=this.data1[t].id,this.modal.form.proxy_addr_str=this.data1[t].proxy_addr_str,this.modal.form.proxy_port=this.data1[t].proxy_port,this.modal.form.real_addr_str=this.data1[t].real_addr_str,this.modal.form.real_port=this.data1[t].real_port,this.modal.form.vroot_dir=this.data1[t].vroot_dir},restPlatForm:function(){this.$refs.info_form.resetFields()},addPlatForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&t.$https.fetchPost(t.$api.test.updateProxy.url,t.modal.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"代理配置修改成功",desc:"正在刷新界面",duration:2.5}),location.reload()):t.$Notice.error({title:"代理配置修改失败",desc:"错误代码："+e.data.status,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}))}}},l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("ftpProxyAdd",{staticStyle:{float:"right"}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateFtpProxy(s)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteFtpProxy(i.id)}}},[t._v("删除")])]}}])})],1)]),a("Drawer",{attrs:{title:"FTP代理配置",width:"1000"},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("Form",{ref:"info_form",attrs:{rules:t.modal.rules,model:t.modal.form,"label-width":150}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modal.form.id,expression:"modal.form.id"}],attrs:{type:"hidden"},domProps:{value:t.modal.form.id},on:{input:function(e){e.target.composing||t.$set(t.modal.form,"id",e.target.value)}}}),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"代理IP",prop:"subnet"}},[a("Input",{model:{value:t.modal.form.proxy_addr_str,callback:function(e){t.$set(t.modal.form,"proxy_addr_str",e)},expression:"modal.form.proxy_addr_str"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"代理端口",prop:"vhid"}},[a("Input",{model:{value:t.modal.form.proxy_port,callback:function(e){t.$set(t.modal.form,"proxy_port",e)},expression:"modal.form.proxy_port"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务器IP",prop:"password"}},[a("Input",{model:{value:t.modal.form.real_addr_str,callback:function(e){t.$set(t.modal.form,"real_addr_str",e)},expression:"modal.form.real_addr_str"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务器端口",prop:"password"}},[a("Input",{model:{value:t.modal.form.real_port,callback:function(e){t.$set(t.modal.form,"real_port",e)},expression:"modal.form.real_port"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务器根目录",prop:"password"}},[a("Input",{model:{value:t.modal.form.vroot_dir,callback:function(e){t.$set(t.modal.form,"vroot_dir",e)},expression:"modal.form.vroot_dir"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.addPlatForm}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.restPlatForm}},[t._v("重置")])],1)],1)],1)],1)}),[],!1,null,"3317231c",null);e.default=l.exports},e27b:function(t,e,a){},e302:function(t,e,a){"use strict";a("1f24")},e330:function(t,e,a){"use strict";a("51ba")},e49b:function(t,e,a){"use strict";a.r(e),a("c904"),a("b573"),a("9a33"),a("f548"),a("2b45"),a("6d57"),a("e10e");var i=a("25b1"),s=a("dbd7"),o=a("bdd1"),r={components:{jk_tabs:i.a,dbsync:s.a,dbsync_file_update:o.a},inject:["reload"],data:function(){var t=this;return{showData:!1,channel_transmission_mode:"",index:null,iconType:"ios-arrow-forward",links:[{name:"业务/服务列表",to:"/data/test2"},{name:"配置生效",to:"/data/serviceRestart"}],register:{show:!1,form:{id:null,taskname:null,department:null,master:null,contact:null},rules:{rules:{taskname:[{required:!0,message:"请填写业务名称"},{max:10,message:"长度不超过10",trigger:"blur"}],department:[{required:!0,message:"请填写主管部门"},{max:10,message:"长度不超过10",trigger:"blur"}],master:[{required:!0,message:"请填写主管人"},{max:10,message:"长度不超过10",trigger:"blur"}],contact:[{required:!0,message:"请填写联系电话"},{max:15,message:"长度不超过15",trigger:"blur"}]}}},file:{form:{tools:"",runstate:"",in_task_id:"",servicename:"",type:"",username:"",password:"",ipaddress:"",remoteport:"",path:"",level:"1",iocharset:"",operation:"",time_interval:3,taskId:"",workGroup:"",smbVersion:"",sftpKey:"",syntime:"",keyword_type:"",filter_picture_keyword:"",idbiz1:!1,idbiz2:!1,idbiz3:!1,idbiz4:!1,idbiz5:!1,idbiz6:!1,settimesyn:!1,filter_min_size:"",filter_max_size:"",filter_min_size_unit:"",filter_max_size_unit:"",suffix_type:"",filter_keyword:"",copy_move:"",filter_after_opt_path:"",filter_filename:"",filename_type:"",filter_suffix:"",virus_opt:"",filter_feature:"",feature_type:"",filter_after_opt:"",file_root:"/",is_psvn:"0",data_timeout:1,connection_timeout:30,filter_size:"",filter_size_type:"",is_put_in_storage:"1",ftp_sync_mode:"",imgsync_enable:"no",direction:"nt2t"},api:null},db:{form:{},api:null},size_show:null,data1:[],data2:[],data3:[],data4:[],data5:[],data6:[],data7:[],d:[],modal10:!1,modal11:!1,modal11loading:!0,modal15loading:!0,modal12:!1,modal13:!1,modal14:!1,modal15:!1,stateService:null,sourcedata:[],selectsourcedata:[],dataCount:0,ajaxHistoryData:[],pageSize:5,historyData:[],currentPage:1,columns1:[{title:"序号",key:"id",align:"center",width:100,render:function(t,e){return t("span",e.index+1)}},{title:"源数据库表字段名",align:"center",key:"scolumnnamestring"},{title:"数据类型",align:"center",key:"sdatatypestring"},{title:"目的数据库表字段名",align:"center",key:"tcolumnnamestring"},{title:"同步顺序",align:"center",key:"sort"},{title:"标识列",align:"center",key:"index"}],columns8:[{title:"序号",key:"id",align:"center",width:100,render:function(e,a){return e("span",a.index+(t.currentPage-1)*t.pageSize+1)}},{title:"源表",align:"center",key:"stablename"},{title:"目标表",align:"center",key:"ttablename"},{title:"表字段数",align:"center",key:"length",width:120},{title:"条件表达式",align:"center",key:"swhere"},{title:"分解update",align:"center",key:"updatebreak"},{title:"源端监控类型",align:"center",key:"striggerEventType"},{title:"表结构",align:"center",key:"identical",width:120},{title:"表字段",align:"center",key:"detail",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showdetail(a)}}},"点击详情")])}}],data8:[],data2second:[],data2third:[],filetaskId:"",updateflietaskid:{},updateflieindex:"",addPlatFormindex:null}},computed:{},created:function(){this.showSyncTaskInfo(),this.getInfo()},mounted:function(){},methods:{tofiledsyn:function(){this.$router.push({path:"/data/filesyncadd"})},getInfo:function(){var t=this;this.$https.fetchGet(this.$api.data.findDsnInfo.url).then((function(e){200==e.data.status?t.sourcedata=e.data.data:t.$Message.info("获取数据库资源失败")})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},addRoutes1:function(t,e){this.$router.push({path:"/data/dbsync",query:{id:t,taskname:e}})},addPlatForm:function(t){if(0!=Object.keys(this.data1[t].filesync).length||0!=Object.keys(this.data1[t].dbsync).length){for(var e in this.data1[t].filesync)this.data1[t].filesync[e].class_true?(this.$set(this.data1[t].filesync[e],"class_true",!1),this.$set(this.data1[t],"iconType","ios-arrow-forward")):(this.$set(this.data1[t].filesync[e],"class_true",!0),this.$set(this.data1[t],"iconType","ios-arrow-down"));for(var a in this.data1[t].dbsync)this.data1[t].dbsync[a].class_true?(this.$set(this.data1[t].dbsync[a],"class_true",!1),this.$set(this.data1[t],"iconType","ios-arrow-forward")):(this.$set(this.data1[t].dbsync[a],"class_true",!0),this.$set(this.data1[t],"iconType","ios-arrow-down"));this.$storage.setStorage("addPlatFormindex",t),"ios-arrow-forward"==this.data1[t].iconType&&this.$storage.removeStorage("addPlatFormindex"),this.addPlatFormindex=this.$storage.getStorage("addPlatFormindex")}else this.$Message.info("此业务并没添加任何任务")},byBusinessID:function(t){this.$storage.setStorage("businessID",t),this.filetaskId=t},byFileIndex:function(t,e){this.$storage.setStorage("businessIndex",t),this.$storage.setStorage("FileIndex",e)},byDBIndex:function(t,e,a,i,s){if("run"!=s.maintask.runstate&&"启用"!=s.maintask.runstate){var o=i.dbsync[e].subtask[0].ssyncdsn;e=e.toString(),this.$router.push({path:"/data/dbsync",query:{taskId:e,id:a,ssyncdsn:o,taskname:i.taskname}})}else this.$Notice.error({title:"启用中无法修改",duration:5})},gotolink:function(){this.$router.replace("/network/channel")},showService:function(t,e){this.data2=[{name:"外端服务ID",val:this.data1[t].filesync[e].out_task_id},{name:"服务名称",val:this.data1[t].filesync[e].servicename}],"ftp"==this.data1[t].filesync[e].type?this.data2.push({name:"根目录",val:this.data1[t].filesync[e].file_root},{name:"用户名",val:this.data1[t].filesync[e].username},{name:"密码",val:this.data1[t].filesync[e].password},{name:"IP地址",val:this.data1[t].filesync[e].ipaddress},{name:"端口",val:this.data1[t].filesync[e].remoteport}):this.data2.push({name:"目录",val:this.data1[t].filesync[e].path}),"ftp"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"远程ftp"}),"smb"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"远程smb"}),"sftp"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"远程sftp"}),"nfs"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"远程nfs"}),"localftp"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"本地ftp"}),"localsmb"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"本地smb"}),"localsftp"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"本地sftp"}),"localnfs"==this.data1[t].filesync[e].type&&this.data2.push({name:"资源类型",val:"本地nfs"}),"common"==this.data1[t].filesync[e].channel_transmission_mode?this.channel_transmission_mode="常规":this.channel_transmission_mode="高速",this.data2second=[{name:"通道传输模式",val:this.channel_transmission_mode}],"ftp"==this.data1[t].filesync[e].type&&"common"==this.data1[t].filesync[e].channel_transmission_mode&&this.data2second.push({name:"等级",val:this.data1[t].filesync[e].level}),"ftp"==this.data1[t].filesync[e].type&&this.data2second.push({name:"线程数",val:this.data1[t].filesync[e].tools},{name:"间隔",val:this.data1[t].filesync[e].time_interval+"秒"},{name:"编码",val:this.data1[t].filesync[e].iocharset});var a=this.data1[t].filesync[e].data_timeout,i=this.data1[t].filesync[e].connection_timeout;"ftp"==this.data1[t].filesync[e].type&&this.data2second.push({name:"传输超时时间",val:a/1e3+"秒"},{name:"连接超时时间",val:i/1e3+"秒"}),"0"==this.data1[t].filesync[e].is_psvn&&"ftp"==this.data1[t].filesync[e].type&&this.data2second.push({name:"传输模式",val:"被动模式"}),"1"==this.data1[t].filesync[e].is_psvn&&"ftp"==this.data1[t].filesync[e].type&&this.data2second.push({name:"传输模式",val:"主动模式"}),"1"==this.data1[t].filesync[e].is_put_in_storage&&"ftp"==this.data1[t].filesync[e].type&&this.data2second.push({name:"异常日志是否入库",val:"否"}),"0"==this.data1[t].filesync[e].is_put_in_storage&&"ftp"==this.data1[t].filesync[e].type&&this.data2second.push({name:"异常日志是否入库",val:"是"}),"del"==this.data1[t].filesync[e].operation&&this.data2second.push({name:"文件同步后操作",val:"剪切"}),"copy"==this.data1[t].filesync[e].operation&&this.data2second.push({name:"文件同步后操作",val:"复制"}),this.data2third=[],(this.data1[t].filesync[e].filter_keyword||""!=this.data1[t].filesync[e].filter_picture_keyword)&&(this.data2third.push({name:"内容关键字",val:this.data1[t].filesync[e].filter_keyword}),this.data2third.push({name:"图像内容关键字",val:this.data1[t].filesync[e].filter_picture_keyword}),this.data2third.push({name:"内容关键字过滤方式",val:this.data1[t].filesync[e].keyword_type})),""!=this.data1[t].filesync[e].virus_opt&&("move"==this.data1[t].filesync[e].virus_opt?this.data2third.push({name:"病毒查杀操作模式",val:"隔离"}):"Remove"==this.data1[t].filesync[e].virus_opt&&this.data2third.push({name:"病毒查杀操作模式",val:"删除"})),(this.data1[t].filesync[e].filter_min_size||""!=this.data1[t].filesync[e].filter_max_size)&&("1"==filesync[e].filter_min_size_unit||"1000"==filesync[e].filter_min_size_unit||filesync[e].filter_min_size_unit,"1"==filesync[e].filter_max_size_unit||"1000"==filesync[e].filter_max_size_unit||filesync[e].filter_max_size_unit,this.data2third.push({name:"文件最小值过滤",val:this.data1[t].filesync[e].filter_min_size+minsize}),this.data2third.push({name:"文件最大值过滤",val:this.data1[t].filesync[e].filter_max_size+maxsize})),""!=this.data1[t].filesync[e].filter_filename&&(this.data2third.push({name:"文件名过滤",val:this.data1[t].filesync[e].filter_filename}),this.data2third.push({name:"文件名过滤方式",val:this.data1[t].filesync[e].filename_type})),""!=this.data1[t].filesync[e].filter_suffix&&(this.data2third.push({name:"后缀过滤",val:this.data1[t].filesync[e].filter_suffix}),this.data2third.push({name:"后缀过滤方式",val:this.data1[t].filesync[e].suffix_type})),""!=this.data1[t].filesync[e].filter_feature&&(this.data2third.push({name:"文件特征过滤",val:this.data1[t].filesync[e].filter_feature}),this.data2third.push({name:"文件特征过滤方式",val:this.data1[t].filesync[e].feature_type})),0!=this.data2third.length?("0"==this.data1[t].filesync[e].filter_after_opt&&(this.data2third.push({name:"敏感文件操作",val:"保留"}),"1"==this.data1[t].filesync[e].copy_move&&this.data2third.push({name:"敏感文件复制到平台",val:"复制"}),"0"==this.data1[t].filesync[e].copy_move&&this.data2third.push({name:"敏感文件复制到平台",val:"不复制"})),"2"==this.data1[t].filesync[e].filter_after_opt&&(this.data2third.push({name:"敏感文件操作",val:"转移"}),this.data2third.push({name:"敏感文件转移路径",val:this.data1[t].filesync[e].filter_after_opt_path})),"1"==this.data1[t].filesync[e].filter_after_opt&&this.data2third.push({name:"敏感文件操作",val:"删除"})):this.data2third.push({name:"暂无过滤"}),this.data2third.forEach((function(t){"blacklist"==t.val&&(t.val="黑名单"),"whitelist"==t.val&&(t.val="白名单")})),this.modal10=!0},showdbService:function(t,e,a,i){this.d=i;var s=this.data1[t].dbsync[e].subtask[0].ssyncdsn;for(var o in this.sourcedata)this.sourcedata[o].sourcealias==s&&(this.selectsourcedata=[],this.selectsourcedata=this.sourcedata[o]);var r,n=this.data1[t].dbsync[e].maintask.cronexpression.replace(/[^\d]/g," "),l=this.data1[t].dbsync[e].maintask.synctype;r="1"==l?"触发器增量同步":"4"==l?"触发器单表同步":"普通全表";var c;c=""==this.data1[t].dbsync[e].maintask.taskdescribe?"无":this.data1[t].dbsync[e].maintask.taskdescribe,this.data2=[{name:"同步方法",val:r},{name:"服务ID",val:this.data1[t].dbsync[e].maintask.oid},{name:"服务名称",val:this.data1[t].dbsync[e].maintask.servicename},{name:"描述",val:c},{name:"时间间隔(秒)",val:n},{name:"是否启用连接池",val:this.data1[t].dbsync[e].maintask.enabledbpool?"是":"否"},{name:"是否随系统自启动",val:this.data1[t].dbsync[e].maintask.autorun?"是":"否"}],this.data4=[{name:"使用资源",val:this.data1[t].dbsync[e].subtask[0].ssyncdsn},{name:"数据库类型",val:this.selectsourcedata.dbtype},{name:"IP地址",val:this.selectsourcedata.dbip},{name:"端口",val:this.selectsourcedata.dbport},{name:"业务账号用户名",val:this.selectsourcedata.initusername},{name:"同步账号用户名",val:this.selectsourcedata.username},{name:"数据库名",val:this.data1[t].dbsync[e].subtask[0].stablename}];var d=a.subtask;this.data5=d,this.d=this.data5;var m={},p=[];for(var u in this.data5){if(m={stablename:"",ttablename:"",length:0,idsdatatypestringlen:"",detail:"点击详情",identical:"",swhere:"",updatebreak:"",striggerEventType:""},""==this.data5[u].swhere||null==this.data5[u].swhere||null==this.data5[u].swhere?m.swhere="无":m.swhere=this.data5[u].swhere,1==this.data5[u].identical?m.identical="一致":m.identical="不一致","true"==this.data5[u].updatebreak?m.updatebreak="是":m.updatebreak="否","普通全表"==r&&(m.updatebreak="否"),""==this.data5[u].striggerEventType||"2"==this.data1[t].dbsync[e].maintask.synctype)m.striggerEventType="无";else{var h=this.data5[u].striggerEventType.split("|");for(var f in h)"INSERT"==h[f]&&(m.striggerEventType=m.striggerEventType+"|插入"),"UPDATE"==h[f]&&(m.striggerEventType=m.striggerEventType+"|修改"),"DELETE"==h[f]&&(m.striggerEventType=m.striggerEventType+"|删除");m.striggerEventType=m.striggerEventType.substr(1)}m.stablename=this.data5[u].stablename,m.ttablename=this.data5[u].ttablename,this.data5[u].length=this.data5[u].scolumnnamestring.split("|").length,m.length=this.data5[u].length,p.push(m)}this.data5=[],this.data5=p,this.historyData=this.data5,this.handleListApproveHistory(),this.modal12=!0,this.currentPage=1},showSyncTaskInfo:function(){var t=this;this.$https.fetchGet(this.$api.data.syncTaskInfo.url).then((function(e){for(var a in t.data1=e.data.data,0==t.data1.length?t.showData=!1:t.showData=!0,t.data1){for(var i in t.$set(t.data1[a],"iconType","ios-arrow-forward"),t.data1[a].filesync)t.$set(t.data1[a].filesync[i],"class_true",!1),"stop"==t.data1[a].filesync[i].runstate||"禁用"==t.data1[a].filesync[i].runstate?(t.data1[a].filesync[i].runstate="禁用",t.data1[a].filesync[i].color="red"):(t.data1[a].filesync[i].runstate="启用",t.data1[a].filesync[i].color="green");for(var s in t.data1[a].dbsync)t.$set(t.data1[a].dbsync[s],"class_true",!1),"stop"==t.data1[a].dbsync[s].maintask.runstate||"禁用"==t.data1[a].dbsync[s].maintask.runstate?(t.data1[a].dbsync[s].maintask.runstate="禁用",t.data1[a].dbsync[s].color="red"):(t.data1[a].dbsync[s].maintask.runstate="启用",t.data1[a].dbsync[s].color="green")}t.addPlatFormindex=t.$storage.getStorage("addPlatFormindex"),t.addPlatFormindex&&(t.addPlatFormindex=t.addPlatFormindex.replace(/\"/g,""),t.addPlatForm(t.addPlatFormindex))})).catch((function(t){}))},updateBusiness:function(t){this.register.show=!0,this.register.form.id=this.data1[t].id,this.register.form.taskname=this.data1[t].taskname,this.register.form.department=this.data1[t].department,this.register.form.master=this.data1[t].master,this.register.form.contact=this.data1[t].contact},addregisterForm:function(){var t=this;this.$refs.info_form.validate((function(e){e&&t.$https.fetchPost(t.$api.data.updateSyncTask.url,t.register.form).then((function(e){200==e.data.status?(t.$Notice.success({title:"业务修改成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),t.reload()}),250)):t.$Notice.error({title:"业务修改失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:5})}))}))},deleteBusiness:function(t){var e=this;this.$Modal.confirm({title:"删除业务",content:"<p>当前操作将会导致该业务被删除，请确认删除</p>",onOk:function(){e.$https.fetchGet(e.$api.data.delSyncTask.url,{id:t}).then((function(t){200==t.data.status?(e.$Message.info("业务删除成功"),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),e.reload()}),250)):(e.$Modal.remove(),e.$Notice.error({title:"业务删除失败",desc:"错误："+t.data.desc,duration:5})),e.$Modal.remove()})).catch((function(t){e.$Modal.remove(),e.$Notice.error({title:"请求失败",desc:t,duration:5})}))}})},deleteService:function(t,e,a){var i=this;"启用"!=a.runstate?this.$Modal.confirm({title:"删除服务",content:"<p>当前操作将会导致该服务被删除，请确认删除</p>",loading:!0,onOk:function(){i.$https.fetchGet(i.$api.data.delFileTask.url,{taskId:t,id:e}).then((function(t){200==t.data.status?(i.$Message.info("服务删除成功"),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),i.reload(),i.$Modal.remove()}),250)):(i.$Modal.remove(),i.$Notice.error({title:"服务删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){i.$Notice.error({title:"请求失败",desc:t,duration:5})}))}}):this.$Notice.error({title:"启用中无法修改",duration:5})},startService:function(t,e){this.file.form=_.cloneDeep(this.data1[t].filesync[e]),this.data3=[{color:this.data1[t].filesync[e].color,val:this.data1[t].filesync[e].runstate,idx:t,index:e}],"禁用"==this.data1[t].filesync[e].runstate||"stop"==this.data1[t].filesync[e].runstate?(this.stateService="启用",this.file.form.runstate="run",this.file.api=this.$api.data.startFileTask.url):(this.stateService="禁用",this.file.form.runstate="stop",this.file.api=this.$api.data.stopFileTask.url),this.file.form.id=this.data1[t].filesync[e].id,this.file.form.out_task_id=this.data1[t].filesync[e].out_task_id,this.file.form.servicename=this.data1[t].filesync[e].servicename,this.file.form.type=this.data1[t].filesync[e].type,this.file.form.username=this.data1[t].filesync[e].username,this.file.form.password=this.data1[t].filesync[e].password,this.file.form.ipaddress=this.data1[t].filesync[e].ipaddress,this.file.form.remoteport=this.data1[t].filesync[e].remoteport,this.file.form.path=this.data1[t].filesync[e].path,this.file.form.level=this.data1[t].filesync[e].level,this.file.form.iocharset=this.data1[t].filesync[e].iocharset,this.file.form.operation=this.data1[t].filesync[e].operation,this.file.form.time_interval=this.data1[t].filesync[e].time_interval,this.file.form.taskId=this.data1[t].id,this.modal11=!0},dbstartService:function(t,e,a,i){this.data7=[{color:this.data1[t].dbsync[e].color,val:this.data1[t].dbsync[e].maintask.runstate,idx:t,index:e}],this.db.form=_.cloneDeep(this.data1[t].dbsync[e]),this.db.form.runstate=this.data1[t].dbsync[e].runstate,this.$set(this.db.form,"runstate",this.data1[t].dbsync[e].runstate),"禁用"!=this.data7[0].val&&"stop"!=this.data7[0].val||(this.stateService="启用",this.db.form.maintask.runstate="run",this.db.api=this.$api.data.startdbTask.url.toString()),"启用"!=this.data7[0].val&&"run"!=this.data7[0].val||(this.stateService="禁用",this.db.form.maintask.runstate="stop",this.db.api=this.$api.data.stopdbTask.url.toString()),this.db.form.taskId=i.id,this.modal15=!0},ok:function(){var t=this;this.modal11=!0;var e={timeout:3e5};this.$https.fetchPost(this.$api.data.loadServe.url,{},e).then((function(t){})).catch((function(t){})),this.$https.fetchPost(this.file.api,this.file.form,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"文件同步启停成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),t.reload()}),250)):t.$Notice.error({title:"文件同步启停失败",desc:"错误："+e.data.desc,duration:5}),t.modal11loading=!1})).catch((function(e){t.modal11loading=!1,t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},dbok:function(){var t=this,e={timeout:3e5};this.$https.fetchPost(this.$api.data.loadServe.url,{},e).then((function(t){})).catch((function(t){})),this.$https.fetchPost(this.db.api,this.db.form,e).then((function(e){200==e.data.status?(t.$Notice.success({title:"数据库同步启停成功",desc:"正在刷新界面",duration:5}),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),t.reload()}),250)):t.$Notice.error({title:"数据库同步启停失败",desc:"错误："+e.data.desc,duration:5}),t.modal15loading=!1})).catch((function(e){t.modal15loading=!1,t.$Notice.error({title:"请求失败",desc:e,duration:5})}))},deletedbService:function(t,e,a){var i=this;if("run"!=a.maintask.runstate&&"启用"!=a.maintask.runstate){var s={taskId:t,id:e};this.$Modal.confirm({title:"删除服务",content:"<p>当前操作将会导致该服务被删除，请确认删除</p>",onOk:function(){i.$https.fetchGet(i.$api.data.deldbsycn.url,s).then((function(t){200==t.data.status?(i.$Modal.remove(),i.$Notice.success({title:"删除数据库同步成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){document.querySelector("body").setAttribute("style","overflow: auto !important;"),i.reload()}),250)):(i.$Modal.remove(),i.$Notice.error({title:"服务删除失败",desc:"错误："+t.data.desc,duration:5}))})).catch((function(t){i.$Notice.error({title:"请求失败",desc:t,duration:2.5})}))}})}else this.$Notice.error({title:"启用中无法修改",duration:5})},showdetail:function(t){var e=this.d;this.data6=[],this.modal13=!0;var a=[];a.push(e[t.index].scolumnnamestring.split("|"));var i=[];i.push(e[t.index].sdatatypestring.split("|"));var s=e[t.index].sort.split("|");s=s.filter((function(t){return""!=t}));var o=e[t.index].index;a=a[0],i=i[0],this.data8=[];for(var r=0;r<a.length;r++){var n={scolumnnamestring:"",sdatatypestring:"",tcolumnnamestring:"",sort:"",index:"否"};n.index=null!=o[r]?"是":"否",n.scolumnnamestring=a[r],n.sdatatypestring=i[r],n.tcolumnnamestring=a[r],n.sort=s[r],this.data8.push(n)}},showdetail1:function(t){for(var e in this.data6=[],this.modal14=!0,t)this.data6=t.tcolumnnamestring.split("|")},changepage:function(t){this.currentPage=t;var e=(t-1)*this.pageSize,a=t*this.pageSize;this.historyData=this.ajaxHistoryData.slice(e,a)},changepagesize:function(t){this.currentPage=t,this.handleListApproveHistory()},handleListApproveHistory:function(){this.ajaxHistoryData=this.data5,this.dataCount=this.data5.length,this.data5.length<this.pageSize?this.historyData=this.ajaxHistoryData:this.historyData=this.ajaxHistoryData.slice(0,this.pageSize)}}},n=(a("e330"),a("2c07")),l=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row box margin-x clear-margin padding-x"},[i("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[i("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[i("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"table",staticStyle:{width:"100%",border:"1px solid #dcdee2","font-size":"12px",color:"#515a6e"}},[t._m(0),t._l(t.data1,(function(e,s){return t.showData?i("tbody",{key:e.id},[i("tr",{staticClass:"gradeX"},[i("td",{on:{click:function(e){return t.addPlatForm(s)}}},[i("Icon",{staticStyle:{float:"left"},attrs:{type:t.data1[s].iconType}}),i("div",{staticStyle:{"text-align":"left","margin-left":"25%"}},[i("img",{staticStyle:{width:"24px",height:"24px","margin-right":"5px"},attrs:{src:a("c046")}}),t._v(t._s(e.taskname)+"\n                        ")])],1),i("td"),i("td"),i("td"),i("td",[t._v(t._s(e.department))]),i("td",[t._v(t._s(e.master))]),i("td",[t._v(t._s(e.contact))]),i("td",[i("Dropdown",{staticClass:"nav-dropdown",attrs:{trigger:"click",transfer:""}},[i("Button",{attrs:{type:"primary"}},[t._v("配置管理 "),i("span",{staticClass:"caret"})]),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("DropdownItem",{nativeOn:{click:function(a){return t.addRoutes1(e.id,e.taskname)}}},[i("div",{staticStyle:{width:"80px",height:"30px"}},[t._v("数据库同步")])]),i("DropdownItem",[i("dbsync",{attrs:{taskId:t.filetaskId},nativeOn:{click:function(a){return t.byBusinessID(e.id)}}})],1),i("DropdownItem",{nativeOn:{click:function(e){return t.updateBusiness(s)}}},[i("div",{staticStyle:{width:"80px",height:"30px"}},[t._v("修改业务")])]),i("DropdownItem",{nativeOn:{click:function(a){return t.deleteBusiness(e.id)}}},[i("div",{staticStyle:{width:"80px",height:"30px"}},[t._v("删除业务")])])],1)],1)],1)]),t._l(e.filesync,(function(o,r){return i("tr",{key:o.id,staticClass:"gradeX test",class:{"open-dropdown-menu":o.class_true}},[i("td",[t._v(t._s(o.servicename))]),i("td",[t._v(t._s(o.out_task_id))]),i("td",[i("img",{staticStyle:{width:"24px",height:"24px","margin-right":"12px"},attrs:{src:a("87d4")}}),t._v(t._s("文件同步"))]),i("td",{style:{color:o.color}},[t._v(t._s(o.runstate))]),i("td"),i("td"),i("td"),i("td",[i("Dropdown",{staticClass:"nav-dropdown",attrs:{transfer:""}},[i("Button",{attrs:{icon:"md-folder"}},[t._v("配置管理 "),i("span",{staticClass:"caret"})]),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("DropdownItem",{nativeOn:{click:function(e){return t.startService(s,r)}}},[i("div",{staticStyle:{width:"80px",height:"30px"}},[t._v("服务启停")])]),i("DropdownItem",[i("dbsync_file_update",{attrs:{updateflietaskid:t.updateflietaskid},nativeOn:{click:function(e){return t.byFileIndex(s,r)}}})],1),i("DropdownItem",{nativeOn:{click:function(a){return t.deleteService(e.id,r,o)}}},[i("div",{staticStyle:{width:"80px",height:"30px"}},[t._v("删除服务")])]),i("DropdownItem",{nativeOn:{click:function(e){return t.showService(s,r)}}},[i("div",{staticStyle:{width:"80px",height:"30px"}},[t._v("查看文件配置")])])],1)],1)],1)])})),t._l(e.dbsync,(function(o,r){return i("tr",{key:r.id,staticClass:"gradeX test",class:{"open-dropdown-menu1":o.class_true}},[i("td",[t._v(t._s(o.maintask.servicename))]),i("td",[t._v(t._s(o.maintask.oid))]),i("td",[i("img",{staticStyle:{width:"29px",height:"29px","margin-right":"1px"},attrs:{src:a("d31d")}}),t._v(t._s("数据库同步"))]),i("td",{style:{color:o.color}},[t._v(t._s(o.maintask.runstate))]),i("td"),i("td"),i("td"),i("td",[i("Dropdown",{staticClass:"nav-dropdown",attrs:{transfer:""}},[i("Button",[i("img",{staticStyle:{width:"12px",height:"12px","margin-right":"5px"},attrs:{src:a("c928")}}),t._v("配置管理 "),i("span",{staticClass:"caret"})]),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("DropdownItem",{nativeOn:{click:function(a){return t.dbstartService(s,r,o,e)}}},[i("div",[t._v("数据库同步服务启停")])]),i("DropdownItem",{nativeOn:{click:function(a){return t.byDBIndex(s,r,e.id,e,o)}}},[i("div",[t._v("修改数据库同步服务")])]),i("DropdownItem",{nativeOn:{click:function(a){return t.deletedbService(e.id,r,o)}}},[i("div",[t._v("删除服务")])]),i("DropdownItem",{nativeOn:{click:function(a){return t.showdbService(s,r,o,e)}}},[i("div",[t._v("查看数据库同步配置")])])],1)],1)],1)])}))],2):t._e()})),t.showData?t._e():i("tbody",[i("tr",{staticClass:"gradeX",staticStyle:{height:"40px","text-align":"center","font-weight":"bold",cursor:"pointer"}},[i("td",{attrs:{colspan:"8"},on:{click:function(e){return t.$router.push({path:"/data/businessRegister"})}}},[t._v("\n                        暂无业务\n                    ")])])])],2)])]),i("Modal",{attrs:{title:"数据库同步信息",scrollable:!0,transfer:!1,width:"75%"},model:{value:t.modal12,callback:function(e){t.modal12=e},expression:"modal12"}},[i("div",{staticStyle:{}},[i("div",{staticStyle:{"font-size":"20px"}},[t._v("基本信息:")]),i("div",{staticStyle:{height:"40px"}},t._l(t.data2,(function(e,a){return i("span",{key:a,staticStyle:{width:"25%",float:"left"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0),i("div",{staticStyle:{"font-size":"20px","margin-top":"18px"}},[t._v("源:")]),i("div",{staticStyle:{height:"40px"}},t._l(t.data4,(function(e,a){return i("span",{key:a,staticStyle:{width:"25%",float:"left"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0),i("Table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{columns:t.columns8,border:"",data:t.historyData}}),i("Page",{attrs:{current:t.currentPage,total:t.dataCount,"show-elevator":"","page-size":t.pageSize,"show-total":!0},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage,"on-page-size-change":t.changepagesize}})],1),i("div",{attrs:{slot:"footer"},slot:"footer"})]),i("Modal",{attrs:{title:"文件同步信息",scrollable:!0,width:"80%"},model:{value:t.modal10,callback:function(e){t.modal10=e},expression:"modal10"}},[i("div",{staticClass:"modal-body",staticStyle:{}},[i("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[i("span",{staticStyle:{background:"#ffffff",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("基础配置")]),i("div",{staticStyle:{margin:"30px 20px",display:"flex","flex-wrap":"wrap"}},t._l(t.data2,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.val,expression:"i.val"}],key:a,staticStyle:{width:"30%","margin-left":"20px","font-size":"14px"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0)]),i("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[i("span",{staticStyle:{background:"#ffffff",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("详细配置")]),i("div",{staticStyle:{margin:"30px 20px",display:"flex","flex-wrap":"wrap"}},t._l(t.data2second,(function(e,a){return i("div",{key:a,staticStyle:{width:"30%","margin-left":"20px","font-size":"14px"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0)]),i("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[i("span",{staticStyle:{background:"#ffffff",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("文件过滤")]),i("div",{staticStyle:{margin:"30px 20px",display:"flex","flex-wrap":"wrap"}},t._l(t.data2third,(function(e,a){return i("div",{key:a,staticStyle:{width:"30%","margin-left":"20px","font-size":"14px"}},[t._v(t._s(e.name)+":    "+t._s(e.val))])})),0)])]),i("div",{attrs:{slot:"footer"},slot:"footer"})]),i("Modal",{attrs:{title:"服务运行状态","mask-closable":!1,"cancel-text":"","ok-text":t.stateService,loading:t.modal11loading,"class-name":"vertical-center-modal",width:"400"},on:{"on-ok":t.ok},model:{value:t.modal11,callback:function(e){t.modal11=e},expression:"modal11"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("服务运行状态")]),i("p",{staticStyle:{"text-align":"center",color:"red"}},[t._v("*注：启停操作，请耐心等候")]),i("p",{staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:a("c446")}})]),t._l(t.data3,(function(e,a){return i("p",{key:a,staticStyle:{"text-align":"center"}},[t._v("状态:["),i("span",{style:{color:e.color}},[t._v(t._s(e.val))]),t._v("]")])}))],2),i("Modal",{attrs:{title:"服务运行状态","mask-closable":!1,"cancel-text":"",loading:t.modal15loading,"ok-text":t.stateService,"class-name":"vertical-center-modal",width:"400"},on:{"on-ok":t.dbok},model:{value:t.modal15,callback:function(e){t.modal15=e},expression:"modal15"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("服务运行状态")]),i("p",{staticStyle:{"text-align":"center",color:"red"}},[t._v("*注：启停操作，请耐心等候")]),i("p",{staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:a("c446")}})]),t._l(t.data7,(function(e,a){return i("p",{key:a,staticStyle:{"text-align":"center"}},[t._v("状态:["),i("span",{style:{color:e.color}},[t._v(t._s(e.val))]),t._v("]")])}))],2),i("Modal",{attrs:{title:"源表字段名",scrollable:!0,width:"70%"},model:{value:t.modal13,callback:function(e){t.modal13=e},expression:"modal13"}},[i("div",{staticStyle:{height:"450px"}},[i("Table",{attrs:{border:"",columns:t.columns1,height:460,data:t.data8}})],1),i("div",{attrs:{slot:"footer"},slot:"footer"})]),i("Modal",{attrs:{title:"目的表字段名",scrollable:!0},model:{value:t.modal14,callback:function(e){t.modal14=e},expression:"modal14"}},[i("div",{staticStyle:{height:"450px"}},t._l(t.data6,(function(e,a){return i("span",{key:a,staticStyle:{width:"200px",float:"left"}},[t._v(t._s(e))])})),0),i("div",{attrs:{slot:"footer"},slot:"footer"})]),i("Drawer",{attrs:{title:"业务注册",width:"1000"},model:{value:t.register.show,callback:function(e){t.$set(t.register,"show",e)},expression:"register.show"}},[i("Form",{ref:"info_form",attrs:{rules:t.register.rules,model:t.register.form,"label-width":150}},[i("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"业务名称",prop:"taskname"}},[i("Input",{model:{value:t.register.form.taskname,callback:function(e){t.$set(t.register.form,"taskname",e)},expression:"register.form.taskname"}})],1),i("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"主管部门",prop:"department"}},[i("Input",{model:{value:t.register.form.department,callback:function(e){t.$set(t.register.form,"department",e)},expression:"register.form.department"}})],1),i("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"主管人",prop:"master"}},[i("Input",{model:{value:t.register.form.master,callback:function(e){t.$set(t.register.form,"master",e)},expression:"register.form.master"}})],1),i("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"联系电话",prop:"contact"}},[i("Input",{model:{value:t.register.form.contact,callback:function(e){t.$set(t.register.form,"contact",e)},expression:"register.form.contact"}})],1),i("FormItem",[i("Button",{attrs:{type:"primary"},on:{click:t.addregisterForm}},[t._v("确认")])],1)],1)],1)],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{attrs:{id:"first"}},[a("th",[t._v("业务/服务名")]),a("th",[t._v("服务ID")]),a("th",[t._v("服务类型")]),a("th",[t._v("服务状态")]),a("th",[t._v("主管部门")]),a("th",[t._v("主管人")]),a("th",[t._v("联系电话")]),a("th",[t._v("操作")])])])}],!1,null,"2d2a3b25",null);e.default=l.exports},e4f2:function(t,e,a){"use strict";a.r(e);var i={name:"LogDbChannel",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){var t=this;return{searchLoading:!1,serviceID:"",times:[],desc:"",columns:[{title:"序号",key:"id",align:"center",width:63,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"业务ID",key:"taskID",align:"center",width:180},{title:"描述",key:"desc",align:"center"},{title:"时间",key:"time",align:"center",width:210,render:function(e,a){return e("div",t.$util.time_format(new Date(a.row.time),"yyyy-MM-dd hh:mm:ss"))}}],loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""}],sorts:[{filed:"time",order:!1}]}},links:[{name:"通道操作日志",to:"/logs/logFileChannel"}]}},mounted:function(){this.showProxy()},methods:{showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.channelLog.url,this.page.form,{timeout:3e5}).then((function(e){t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""}],sorts:[{filed:"time",order:!1}]}}},search:function(){var t=this;this.resetFileters(),this.desc&&(this.page.form.filters[0].type="like",this.page.form.filters[0].filed="desc",this.page.form.filters[0].params=this.desc),this.serviceID&&(this.page.form.filters[2].type="equal",this.page.form.filters[2].filed="taskID",this.page.form.filters[2].params=this.serviceID),""!=this.times[0]&&(this.times[0]=this.$util.time_format(new Date(this.times[0]),"yyyy-MM-dd hh:mm:ss"),this.times[1]=this.$util.time_format(new Date(this.times[1]),"yyyy-MM-dd hh:mm:ss"),this.page.form.filters[1].type="between",this.page.form.filters[1].filed="time",this.page.form.filters[1].params=this.times),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.channelLog.url,this.page.form,{timeout:3e5}).then((function(e){t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部通道操作日志</p>",onOk:function(){t.$https.fetchPost(t.$api.log.delAllChannelLogs.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=(a("76c4"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:function(e){return t.clearAll()}}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},[a("div",{staticStyle:{width:"250px","font-size":"12px"}},[t._v("\n                               业务ID：\n                            "),a("Input",{staticStyle:{width:"170px"},model:{value:t.serviceID,callback:function(e){t.serviceID=e},expression:"serviceID"}})],1),a("div",{staticStyle:{width:"250px","font-size":"12px"}},[t._v("\n                            描述：\n                            "),a("Input",{staticStyle:{width:"170px"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),a("div",{staticStyle:{width:"500px","font-size":"12px"}},[a("div",{staticStyle:{display:"flex",width:"100%","align-items":"center"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"280px",margin:"5px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间"},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}}),a("Button",{staticStyle:{margin:"5px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)])])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"2e60b4a8",null);e.default=o.exports},e515:function(t,e,a){"use strict";a("a367")},e5cb:function(t,e,a){},e633:function(t,e,a){},e728:function(t,e,a){"use strict";a("2056")},e9c2:function(t,e,a){"use strict";a("c55b")},ea69:function(t,e,a){"use strict";a.r(e);var i={name:"LogDbExtractInfo",components:{jk_tabs:a("25b1").a},inject:["reload"],data:function(){var t=this;return{searchLoading:!1,times:"",columns:[{title:"序号",key:"",align:"center",width:60,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"业务名",align:"center",key:"degBusinessName"},{title:"服务名",align:"center",key:"degServiceName"},{title:"抽取表名",align:"center",key:"degExtractTableName"},{title:"插入记录数",align:"center",key:"degInsertCount",width:"85px"},{title:"更新记录数",align:"center",key:"degUpdateCount",width:"85px"},{title:"删除记录数",align:"center",key:"degDeleteCount",width:"85px"},{title:"抽取成功(条) ",align:"center",key:"degSucceedExtractCount",width:"100px"},{title:"抽取失败(条)",align:"center",key:"degFailedExtractCount",width:"100px"},{title:"耗时",align:"center",key:"degConsumingTime",width:"100px"},{title:"时间",align:"center",key:"degTime"}],BusinessName:"",ExtractTableName:"",DegServiceName:"",LoadTableName:"",BusinessNames:"",ExtractTableNames:"",DegServiceNames:"",LoadTableNames:"",indeterminate:!1,loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"}],sorts:[{filed:"degId",order:!1}]}},links:[{name:"数据库抽取日志",to:"/logs/logDbExtractInfo"}]}},mounted:function(){this.showProxy()},methods:{resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"}],sorts:[{filed:"degId",order:!1}]}}},search:function(){var t=this;for(var e in this.resetFileters(),this.page.form.filters)this.page.form.filters[e].type="",this.page.form.filters[e].filed="",this.page.form.filters[e].params="";this.BusinessName&&(this.page.form.filters[0].type="equal",this.page.form.filters[0].filed="degBusinessName",this.page.form.filters[0].params=this.BusinessName),this.DegServiceName&&(this.page.form.filters[1].type="equal",this.page.form.filters[1].filed="degServiceName",this.page.form.filters[1].params=this.DegServiceName),this.ExtractTableName&&(this.page.form.filters[2].type="equal",this.page.form.filters[2].filed="degExtractTableName",this.page.form.filters[2].params=this.ExtractTableName),this.LoadTableName&&(this.page.form.filters[3].type="equal",this.page.form.filters[3].filed="degLoadTableName",this.page.form.filters[3].params=this.LoadTableName),""!=this.times[0]&&(this.times[0]=this.$util.time_format(new Date(this.times[0]),"yyyy-MM-dd hh:mm:ss"),this.times[1]=this.$util.time_format(new Date(this.times[1]),"yyyy-MM-dd hh:mm:ss"),this.page.form.filters[4].type="between",this.page.form.filters[4].filed="degTime",this.page.form.filters[4].params=this.times),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.findExtractInfo.url,this.page.form,{timeout:3e5}).then((function(e){t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},getBusinessNames:function(){var t=this;this.BusinessNames||this.$https.fetchGet(this.$api.log.getBusinessNames.url).then((function(e){t.BusinessNames=e.data.data})).catch((function(t){}))},getLoadTableNames:function(){var t=this;this.LoadTableNames||this.$https.fetchGet(this.$api.log.getLoadTableNames.url).then((function(e){t.LoadTableNames=e.data.data})).catch((function(t){}))},getDegServiceNames:function(){var t=this;this.DegServiceNames||this.$https.fetchGet(this.$api.log.getDegServiceNames.url).then((function(e){t.DegServiceNames=e.data.data})).catch((function(t){}))},getExtractTableNames:function(){var t=this;this.ExtractTableNames||this.$https.fetchGet(this.$api.log.getExtractTableNames.url).then((function(e){t.ExtractTableNames=e.data.data})).catch((function(t){}))},showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.findExtractInfo.url,this.page.form,{timeout:3e5}).then((function(e){t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1})).catch((function(e){t.loading=!1}))},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部日志</p>",onOk:function(){t.$https.fetchPost(t.$api.log.delAllExtractInfo.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误："+e.data.desc,duration:5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=(a("9c20"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:function(e){return t.clearAll()}}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                                 业务名：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.getBusinessNames()}},model:{value:t.BusinessName,callback:function(e){t.BusinessName=e},expression:"BusinessName"}},t._l(t.BusinessNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            服务名：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.getDegServiceNames()}},model:{value:t.DegServiceName,callback:function(e){t.DegServiceName=e},expression:"DegServiceName"}},t._l(t.DegServiceNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",margin:"5px","font-size":"12px"}},[t._v("\n                            抽取表名：\n                            "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.getExtractTableNames()}},model:{value:t.ExtractTableName,callback:function(e){t.ExtractTableName=e},expression:"ExtractTableName"}},t._l(t.ExtractTableNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{margin:"5px","font-size":"12px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"290px",margin:"5px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间"},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}}),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"dd38ef06",null);e.default=o.exports},eb43:function(t,e,a){"use strict";a("1842")},ed32:function(t,e,a){},eda9:function(t,e,a){},efd9:function(t,e,a){"use strict";a.r(e);var i={name:"NetworkBandwidth",components:{jk_tabs:a("25b1").a},data:function(){return{status:"禁用",links:[{name:"接口列表",to:"/network/interface"},{name:"端口聚合",to:"/network/portTrunking"},{name:"带宽设置",to:"/network/bandwidth"},{name:"Mac地址",to:"/network/mac"}]}},methods:{}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",[a("RadioGroup",{staticStyle:{"margin-left":"15px"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("Radio",{attrs:{label:"禁用"}}),a("Radio",{attrs:{label:"启用"}})],1)],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",[a("Input",{staticStyle:{width:"70px","margin-left":"15px"},attrs:{placeholder:"1024"}}),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("Mbit")])],1)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("是否启用:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("接口:eth1")])])}],!1,null,"b2ee223e",null);e.default=o.exports},f03d:function(t,e,a){},f16b:function(t,e,a){"use strict";a.r(e);var i={name:"SysToolTelnet",components:{jk_tabs:a("25b1").a},data:function(){return{ButtonLoading:!1,textareaShow:!1,value:"",form:{ip:"",port:""},links:[{name:"Ping",to:"/sys/toolPing"},{name:"Traceroute",to:"/sys/toolTraceroute"},{name:"Telnet",to:"/sys/toolTelnet"},{name:"Arp",to:"/sys/toolArp"},{name:"抓包",to:"/sys/toolCatch"},{name:"FTP服务",to:"/sys/toolFTP"}]}},mounted:function(){},methods:{submit:function(){var t=this;this.$util.queryDevIP4(this.form.ip)||this.$util.queryDevIP6(this.form.ip)?this.$util.testportnumber(this.form.port)?(this.ButtonLoading=!0,this.$https.fetchPost(this.$api.sys.telnet.url,{ip:this.form.ip,port:this.form.port},{timeout:6e4}).then((function(e){200==e.data.status?(t.ButtonLoading=!1,t.textareaShow=!0,t.value=e.data.data):(t.$Notice.error({title:"请求失败",desc:"错误:"+e.data.desc,duration:5}),t.textareaShow=!1)})).catch((function(t){this.$Notice.error({title:"请求失败",desc:err,duration:2}),this.textareaShow=!1}))):this.$Notice.error({title:"检测失败",desc:"端口请输入正确的端口格式，应为0-65535",duration:5}):this.$Notice.error({title:"检测失败",desc:"目标主机ip请输入正确的ip格式",duration:5})}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[t._v("\n               系统配置\n        ")]),a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[a("tr",{staticStyle:{height:"40px"}},[t._m(0),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"30%","margin-left":"15px"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1)]),a("tr",{staticStyle:{height:"40px"}},[t._m(1),a("td",{staticStyle:{"font-size":"12px"}},[a("Input",{staticStyle:{width:"15%","margin-left":"15px"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}})],1)])])]),a("div",[a("Button",{staticStyle:{margin:"10px 50%"},attrs:{loading:t.ButtonLoading},on:{click:function(e){return t.submit()}}},[t._v("确认")])],1),t.textareaShow?a("Input",{attrs:{type:"textarea",rows:20,placeholder:"Enter something..."},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("目标主机:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"background-color":"#eee"}},[e("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[this._v("端口:")])])}],!1,null,"62bf121b",null);e.default=o.exports},f342:function(t,e,a){"use strict";a("c014")},f416:function(t,e,a){"use strict";a("4a7f")},f5dc:function(t,e,a){"use strict";a.r(e),a("6d57");var i={name:"NetworkMac",components:{jk_tabs:a("25b1").a},data:function(){return{status:"禁用",data:[],keys:[],links:[{name:"接口列表",to:"/network/interface"},{name:"端口聚合",to:"/network/portTrunking"},{name:"Mac地址",to:"/network/mac"}]}},mounted:function(){this.getinfo()},methods:{getinfo:function(){var t=this;this.$https.fetchGet(this.$api.network.showDevAndMac.url).then((function(e){if(200==e.data.status)for(var a in t.data=e.data.data,t.data)t.keys.push(a);else t.$Message.info("请求数据失败")})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}}},s=a("2c07"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}})],1)]),a("div",{staticClass:"modal-body",staticStyle:{height:"550px"}},[a("div",{staticStyle:{margin:"15px 10px"}},[a("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},t._l(t.data,(function(e,i){return a("tr",{key:i,staticStyle:{height:"40px"}},[a("td",{staticStyle:{width:"25%","background-color":"#eee","margin-left":"70%"}},[a("span",{staticStyle:{float:"right","margin-right":"15px","font-size":"12px"}},[t._v(t._s(i))])]),a("td",[a("span",{staticStyle:{"margin-left":"15px","font-size":"12px"}},[t._v(t._s(e))])])])})),0)])])])])}),[],!1,null,"5c317848",null);e.default=o.exports},f6df:function(t,e,a){"use strict";a.r(e);var i={name:"LogFileMonitor",components:{jk_tabs:a("25b1").a},data:function(){var t=this;return{searchLoading:!1,taskName:"",time:[],taskNames:"",checkData:[{val:"-1",name:"全部"},{val:"1",name:"失败"},{val:"0",name:"成功"}],status:"-1",params:"",form:{Oper_ID:"",taskName:"",SouceDirPath:"",fileName:"",fileSize:"",startTime:"",finishTime:"",status:"",explained:"",tag:"",Expand2:"",Expand3:"",Expand4:"",Expand5:""},columns:[{title:"序号",key:"",align:"center",width:60,render:function(e,a){return e("span",a.index+(t.page.form.page-1)*t.page.form.size+1)}},{title:"任务名",key:"taskName",align:"center"},{title:"源路径",key:"souceDirPath",align:"center",render:function(e,a){var i=a.row.souceDirPath;return null!=a.row.souceDirPath&&(i=a.row.souceDirPath.length>15?a.row.souceDirPath.slice(0,14)+"...":a.row.souceDirPath),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.souceDirPath)])])}},{title:"文件名",key:"fileName",align:"center",render:function(e,a){var i=a.row.fileName;return null!=a.row.fileName&&(i=a.row.fileName.length>15?a.row.fileName.slice(0,14)+"...":a.row.fileName),e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,maxWidth:"350"}},[i,e("span",{slot:"content",style:{whiteSpace:"normal"},on:{click:function(){t.$copyText(i).then((function(){t.$Notice.success({title:"内容黏贴成功",duration:2.5})}))}}},a.row.fileName)])])}},{title:"文件大小",key:"fileSize",align:"center"},{title:"开始时间",key:"startTime",align:"center",render:function(e,a){return e("div",t.$util.time_format(new Date(a.row.startTime),"yyyy-MM-dd hh:mm:ss"))}},{title:"完成时间",key:"finishTime",align:"center",render:function(e,a){return e("div",t.$util.time_format(new Date(a.row.finishTime),"yyyy-MM-dd hh:mm:ss"))}},{title:"操作状态",key:"status",align:"center",render:function(t,e){return 0==e.row.status?t("div","成功"):t("div","失败")}},{title:"备注",key:"explained",align:"center"}],loading:!1,data:[],total:0,page:{form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""}],sorts:[{filed:"operID",order:!1}]}},links:[{name:"文件同步日志",to:"/logs/logFileMonitor"}]}},mounted:function(){this.showProxy()},methods:{gettaskNames:function(){var t=this;this.taskName||this.$https.fetchGet(this.$api.log.getTaskNames.url).then((function(e){t.taskNames=e.data.data})).catch((function(t){}))},showProxy:function(){var t=this;this.loading=!0,this.$https.fetchPost(this.$api.log.fileOperStatus.url,this.page.form,{timeout:3e5}).then((function(e){t.data=e.data.data.data,t.total=e.data.data.count,t.loading=!1})).catch((function(e){t.loading=!1}))},pageChange:function(t){this.page.form.page=t,this.showProxy()},resetFileters:function(){this.page={form:{page:1,size:10,filters:[{filed:"",type:"",params:""},{filed:"",type:"",params:""},{filed:"",type:"",params:"",fieldType:"datetime"},{filed:"",type:"",params:""}],sorts:[{filed:"operID",order:!1}]}}},search:function(){var t=this;this.resetFileters(),this.params&&(this.page.form.filters[0].type="like",this.page.form.filters[0].filed="fileName",this.page.form.filters[0].params=this.params),"-1"!=this.status&&(this.page.form.filters[1].type="like",this.page.form.filters[1].filed="status",this.page.form.filters[1].params=this.status),this.taskName&&(this.page.form.filters[3].type="equal",this.page.form.filters[3].filed="taskName",this.page.form.filters[3].params=this.taskName),""!=this.time[0]&&(this.time[0]=this.$util.time_format(new Date(this.time[0]),"yyyy-MM-dd hh:mm:ss"),this.time[1]=this.$util.time_format(new Date(this.time[1]),"yyyy-MM-dd hh:mm:ss"),this.page.form.filters[2].type="between",this.page.form.filters[2].filed="startTime",this.page.form.filters[2].params=this.time),this.page.form.page=1,this.searchLoading=!0,this.loading=!0,this.$https.fetchPost(this.$api.log.fileOperStatus.url,this.page.form,{timeout:3e5}).then((function(e){t.searchLoading=!1,t.loading=!1,t.data=e.data.data.data,t.total=e.data.data.count,t.$Notice.success({title:"查询成功",desc:"",duration:2.5})})).catch((function(e){t.searchLoading=!1,t.loading=!1}))},statusChange:function(t){},clearAll:function(){var t=this;this.$Modal.confirm({title:"提示",content:"<p>是否要清空全部文件同步操作日志</p>",onOk:function(){t.$https.fetchPost(t.$api.log.delAllFileOperStatusLogs.url).then((function(e){200==e.data.status?(t.$Notice.success({title:"删除成功",desc:"正在刷新界面",duration:2.5}),setTimeout((function(){t.showProxy()}),250)):t.$Notice.error({title:"删除失败",desc:"错误代码："+e.data.desc,duration:2.5})})).catch((function(e){t.$Notice.error({title:"请求失败",desc:e,duration:2.5})}))}})}}},s=(a("a88f"),a("2c07")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row box margin-x clear-margin padding-x"},[a("div",{staticClass:"modal-header ",staticStyle:{"border-bottom":"1px solid #a9a9a9"}},[a("blockquote",{staticStyle:{padding:"0",margin:"0",border:"none",color:"#000"}},[a("jk_tabs",{staticStyle:{float:"left","font-size":"14px"},attrs:{links:t.links}}),a("Button",{staticStyle:{"margin-right":"15px",float:"right","font-size":"13px"},attrs:{type:"warning"},on:{click:function(e){return t.clearAll()}}},[t._v("清空日志")])],1)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{border:"1px solid #666",width:"100%",position:"relative","margin-top":"20px"}},[a("span",{staticStyle:{background:"#faf8f7",display:"block",height:"20px",width:"90px",position:"absolute",left:"10px",top:"-10px","text-align":"center","font-size":"12px"}},[t._v("查询条件")]),a("div",{staticStyle:{margin:"15px 10px",display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{width:"28%",float:"left","font-size":"12px"}},[t._v("\n                            任务名：\n                        "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},nativeOn:{click:function(e){return t.gettaskNames()}},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}},t._l(t.taskNames,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticStyle:{width:"28%",float:"left","font-size":"12px"}},[t._v("\n                        文件名：\n                        "),a("Input",{staticStyle:{width:"170px"},model:{value:t.params,callback:function(e){t.params=e},expression:"params"}})],1),a("div",{staticStyle:{width:"28%",float:"left","font-size":"12px"}},[t._v("\n                        操作状态：\n                        "),a("Select",{staticStyle:{width:"170px"},attrs:{clearable:""},on:{"on-change":function(e){return t.statusChange()}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.checkData,(function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])})),1)],1),a("div",{staticStyle:{width:"1000px","font-size":"12px"}},[a("div",{staticStyle:{display:"flex",width:"100%","align-items":"center","margin-top":"15px"}},[t._v("\n                            时间范围：\n                            "),a("DatePicker",{staticStyle:{width:"300px",margin:"5px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),a("Button",{staticStyle:{margin:"5px"},attrs:{loading:t.searchLoading,type:"warning"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)])])]),a("Table",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",border:"",loading:t.loading,columns:t.columns,data:t.data}}),a("div",{staticClass:"foot"},[a("span",{staticClass:"desc",staticStyle:{"font-size":"13px"}},[t._v("查询"+t._s(t.total)+"条，当前第"+t._s(t.page.form.page)+"页")]),a("Page",{staticClass:"btn",attrs:{current:t.page.form.page,total:t.total,"page-size":t.page.form.size,simple:""},on:{"on-change":t.pageChange}})],1)],1)])])}),[],!1,null,"ece38702",null);e.default=o.exports},f83e:function(t,e,a){"use strict";a.r(e);var i=(a("7837"),a("2c07")),s=Object(i.a)({name:"Local",components:{},provide:function(){return{reload:this.reload}},data:function(){return{IsRouterAlive:!0}},mounted:function(){},methods:{reload:function(){this.IsRouterAlive=!1,this.$nextTick((function(){this.IsRouterAlive=!0}))}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[this._m(0),e("transition",{attrs:{name:"fade",mode:"out-in"}},[this.IsRouterAlive?e("router-view"):this._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("blockquote",{staticClass:"row margin-top clear-margin",staticStyle:{"border-left":"groove 5px rgba(0, 0, 0, .4)",color:"#000000","font-size":"14px"}},[this._v("\n                本地服务\n            ")])])}],!1,null,"101e1cfd",null);e.default=s.exports},fb11:function(t,e,a){},fc05:function(t,e,a){"use strict";a("eda9")},fcc4:function(t,e,a){}}]);